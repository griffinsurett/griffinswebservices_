const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/CookiePreferencesModal.B_nhQC_C.js","_astro/react-core.CB-E5_Si.js","_astro/HamburgerMenuContent.UzhFiw9u.js","_astro/lazy-utils.DxON8dvJ.js","_astro/scriptManager.D2Hhw4Fe.js","_astro/accordion.j1pjL6PU.js","_astro/feature-cards.DKXapl49.js","_astro/visibility-hooks.ONRiRvgj.js","_astro/ToggleControl.kD3Tmob0.js","_astro/carousels.BycL8C7W.js","_astro/engagement-hooks.j1Ywvdrx.js"])))=>i.map(i=>d[i]);
import{_ as E}from"./lazy-utils.DxON8dvJ.js";import{bH as a,bI as n}from"./react-core.CB-E5_Si.js";import{C as k}from"./theme-shared.Dnqw6Ubb.js";import{I as S}from"./accordion.j1pjL6PU.js";function _(){return typeof window>"u"?"en":localStorage.getItem("user-language")||"en"}const T={en:"ðŸ‡ºðŸ‡¸",es:"ðŸ‡ªðŸ‡¸",fr:"ðŸ‡«ðŸ‡·",de:"ðŸ‡©ðŸ‡ª",it:"ðŸ‡®ðŸ‡¹",pt:"ðŸ‡§ðŸ‡·",ja:"ðŸ‡¯ðŸ‡µ",ko:"ðŸ‡°ðŸ‡·",zh:"ðŸ‡¨ðŸ‡³"},I=a.lazy(()=>E(()=>Promise.resolve().then(()=>M),void 0));function G(){const[t,s]=a.useState(!1),[g,m]=a.useState(!1),[p,i]=a.useState("en"),l=a.useRef(null);a.useEffect(()=>{i(_())},[]),a.useEffect(()=>{const o=r=>{r.key==="user-language"&&i(r.newValue||"en")};return window.addEventListener("storage",o),()=>window.removeEventListener("storage",o)},[]),a.useEffect(()=>{if(!t)return;const o=d=>{l.current?.contains(d.target)||s(!1)},r=d=>{d.key==="Escape"&&s(!1)};return document.addEventListener("mousedown",o),document.addEventListener("keydown",r),()=>{document.removeEventListener("mousedown",o),document.removeEventListener("keydown",r)}},[t]);const c=()=>{g||m(!0),s(o=>!o)},h=T[p.split("-")[0]]||"ðŸŒ";return n.jsxs("div",{ref:l,className:"relative contents",children:[n.jsx(k,{checked:t,onChange:c,"aria-label":"Choose display language",title:"Choose your site language",className:`faded-bg text-primary ${t?"ring-2 ring-primary/60":""}`,children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("span",{className:"text-xl leading-none","aria-hidden":"true",children:h})})}),g&&n.jsx(a.Suspense,{fallback:null,children:n.jsx(I,{open:t,onClose:()=>s(!1),onLanguageChange:o=>i(o)})})]})}const C=[{code:"en",name:"English",nativeName:"English",flag:"ðŸ‡ºðŸ‡¸"},{code:"es",name:"Spanish",nativeName:"EspaÃ±ol",flag:"ðŸ‡ªðŸ‡¸"},{code:"hi",name:"Hindi",nativeName:"à¤¹à¤¿à¤¨à¥à¤¦à¥€",flag:"ðŸ‡®ðŸ‡³"},{code:"iw",name:"Hebrew",nativeName:"×¢×‘×¨×™×ª",flag:"ðŸ‡®ðŸ‡±"},{code:"de",name:"German",nativeName:"Deutsch",flag:"ðŸ‡©ðŸ‡ª"},{code:"ru",name:"Russian",nativeName:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"uk",name:"Ukrainian",nativeName:"Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°",flag:"ðŸ‡ºðŸ‡¦"},{code:"it",name:"Italian",nativeName:"Italiano",flag:"ðŸ‡®ðŸ‡¹"},{code:"fr",name:"French",nativeName:"FranÃ§ais",flag:"ðŸ‡«ðŸ‡·"},{code:"pt",name:"Portuguese",nativeName:"PortuguÃªs",flag:"ðŸ‡µðŸ‡¹"},{code:"zh-CN",name:"Chinese (Simplified)",nativeName:"ç®€ä½“ä¸­æ–‡",flag:"ðŸ‡¨ðŸ‡³"},{code:"zh-TW",name:"Chinese (Traditional)",nativeName:"ç¹é«”ä¸­æ–‡",flag:"ðŸ‡¹ðŸ‡¼"},{code:"ja",name:"Japanese",nativeName:"æ—¥æœ¬èªž",flag:"ðŸ‡¯ðŸ‡µ"},{code:"ko",name:"Korean",nativeName:"í•œêµ­ì–´",flag:"ðŸ‡°ðŸ‡·"},{code:"ar",name:"Arabic",nativeName:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",flag:"ðŸ‡¸ðŸ‡¦"}],x=C[0];function N(t){return C.find(s=>s.code===t)}const w=()=>{if(typeof document>"u")return!1;const t=document.cookie.match(/cookie-consent=([^;]*)/);if(!t)return!1;try{return JSON.parse(decodeURIComponent(t[1]))?.functional===!0}catch{return!1}},O="Please enable functional cookies to use the language switcher. You can manage your preferences in the cookie settings.",b=()=>typeof window>"u"?!1:window.getTranslationConfig?.()?.enableNative!==!1&&"Translator"in window,v=()=>typeof window>"u"?!0:window.getTranslationConfig?.()?.enableGoogle!==!1;function P({open:t,onClose:s,onLanguageChange:g}){const[m,p]=a.useState(()=>{if(typeof window>"u")return x;const e=localStorage.getItem("user-language")||x.code;return N(e)||x}),[i,l]=a.useState(!1),[c,h]=a.useState(null),[o,r]=a.useState(()=>w());a.useEffect(()=>{t&&r(w())},[t]);const d=()=>{c?l(!0):E(()=>import("./CookiePreferencesModal.B_nhQC_C.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(e=>{h(()=>e.default),l(!0)}),s()},j=()=>{l(!1),r(w())},L=e=>{const u=v(),f=b();if(!f&&u&&!o&&e!=="en"){alert(O);return}if(!f&&!u&&e!=="en"){alert("Translation is currently disabled.");return}const y=N(e);y&&(p(y),g(e)),typeof window<"u"&&window.changeLanguage&&window.changeLanguage(e),s()};return!t&&!i?null:n.jsxs(n.Fragment,{children:[t&&n.jsxs("div",{className:"absolute top-full left-1/2 z-[60] mt-3 min-w-[220px] -translate-x-1/2 rounded-2xl border card-bg p-3 shadow-2xl backdrop-blur-xl",onWheel:e=>e.stopPropagation(),onWheelCapture:e=>e.stopPropagation(),children:[!b()&&v()&&!o&&n.jsxs("button",{type:"button",onClick:d,className:"mb-2 rounded-xl border border-yellow-400/40 bg-yellow-500/15 px-3 py-2 text-xs text-text text-left transition hover:border-yellow-400 hover:bg-yellow-500/25 focus:outline-none focus-visible:ring-2 focus-visible:ring-yellow-400",children:["Enable functional cookies to switch languages.",n.jsx("span",{className:"mt-1 block text-[11px] font-semibold uppercase tracking-wide text-primary",children:"Manage consent preferences"})]}),n.jsx("div",{className:"flex max-h-64 flex-col overflow-y-auto",children:C.map(e=>{const u=e.code===m.code,f=!b()&&v()&&!o;return n.jsxs("button",{type:"button",className:`flex items-center gap-3 rounded-xl px-3 py-2 text-sm transition ${u?"bg-primary/20 text-primary font-semibold":"hover:bg-white/5 text-text"} ${f?"cursor-not-allowed opacity-60":""}`,onClick:()=>L(e.code),disabled:f,children:[e.flag&&n.jsx("span",{className:"text-lg","aria-hidden":"true",children:e.flag}),n.jsxs("span",{className:"flex-1 text-left",children:[n.jsx("span",{className:"block text-base leading-tight",children:e.nativeName}),n.jsx("span",{className:"text-xs text-text/70",children:e.name})]}),u&&n.jsx("span",{className:"text-primary","aria-label":"Currently selected language",children:n.jsx(S,{icon:"lucide:check",size:"sm",className:"text-primary"})})]},e.code)})})]}),i&&c&&n.jsx(c,{isOpen:i,onClose:j})]})}const M=Object.freeze(Object.defineProperty({__proto__:null,default:P},Symbol.toStringTag,{value:"Module"}));export{G as L,N as g,C as s};
