import{j as e,r as m}from"./react-core.QUkC7_l_.js";import{M as b}from"./Modal.DFMVAH-B.js";import x from"./Button.OZW8xte5.js";import{I as g}from"./Icon.DeSJHGIO.js";import"./animationProps.HaIMKbsm.js";import"./AnimatedBorder.DlKcQoUP.js";import"./useVisibility.B-3m_lqm.js";import"./IntersectionObserver.CmZxnn85.js";function k({title:n,url:t,children:c=[],openInNewTab:s=!1,onNavigate:f,onOpenSubmenu:i}){const o=c.length>0,r=()=>{o&&i?.({title:n,items:c})},h=()=>{if(t){f();return}r()};return o?e.jsx("li",{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{variant:"menuItemButton",className:"hover-emphasis-text inline-flex items-center gap-2 text-left",onClick:h,...t?{href:t,target:s?"_blank":void 0,rel:s?"noopener noreferrer":void 0}:{type:"button"},children:n}),e.jsx("button",{type:"button",onClick:r,"aria-label":`View submenu for ${n}`,className:"text-text",children:e.jsx(g,{icon:"lu:chevron-right",size:"md",className:"w-6 h-6"})})]})}):e.jsx("li",{children:e.jsx(x,{variant:"menuItemButton",href:t||"#",onClick:f,target:s?"_blank":void 0,rel:s?"noopener noreferrer":void 0,className:"hover-emphasis-text",children:n})})}function E({items:n,isOpen:t,onClose:c,className:s="",closeButton:f=!1}){const[i,o]=m.useState(()=>[{title:"Main Menu",items:n}]),r=m.useCallback(()=>{o([{title:"Main Menu",items:n}])},[n]);m.useEffect(()=>{r()},[r]),m.useEffect(()=>{t||r()},[t,r]);const h=()=>{c()},p=(a,l)=>{l?.length&&o(u=>[...u,{title:a,items:l}])},v=()=>{o(a=>a.length>1?a.slice(0,-1):a)},j=(i.length-1)*100;return e.jsx(b,{isOpen:t,onClose:c,position:"center",className:`w-full max-w-full h-full hero-gradient-bg p-0 rounded-none transform transition-transform duration-300 ease-out ${t?"translate-y-0":"translate-y-full"}`,overlayClass:`bg-black/50 transition-opacity duration-300 ${t?"opacity-100":"opacity-0"}`,closeButton:f,ariaLabel:"Mobile navigation menu",ssr:!1,children:e.jsx("nav",{className:`${s} h-full w-full flex flex-col justify-center overflow-hidden`,"aria-label":"Mobile navigation",children:e.jsx("div",{className:"inner-section my-auto py-4",style:{maxHeight:"calc(100vh - 6rem)"},children:e.jsx("div",{className:"relative w-full h-full overflow-hidden",children:e.jsx("div",{className:"flex h-full transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${j}%)`},children:i.map((a,l)=>e.jsxs("div",{className:"w-full flex-shrink-0 h-full flex flex-col relative","aria-hidden":l!==i.length-1,children:[l>0&&e.jsxs("button",{type:"button",onClick:v,className:"flex items-center gap-2 text-text hover:underline absolute left-0 top-0","aria-label":`Go back to ${i[l-1]?.title??"previous menu"}`,children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),e.jsx("div",{className:`flex-1 overflow-y-auto overflow-x-hidden pr-2 ${l>0?"pt-12":""}`,children:e.jsx("ul",{className:"menu-item-spacing pb-10",children:a.items.map(u=>e.jsx(k,{...u,onNavigate:h,onOpenSubmenu:d=>p(d.title,d.items)},u.slug||u.id))})})]},`${a.title}-${l}`))})})})})})}export{E as default};
