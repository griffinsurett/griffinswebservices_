import{bH as s,bI as i}from"./react-core.DztsbV3P.js";function f(e){if(typeof document>"u")return null;try{const n=("; "+document.cookie).split("; "+e+"=");if(n.length===2){const o=n.pop()?.split(";").shift();return o?decodeURIComponent(o):null}return null}catch(t){return console.error(`Error reading cookie ${e}:`,t),null}}function p(e,t,n={}){if(!(typeof document>"u"))try{const{expires:o=365,path:r="/",sameSite:a="Strict",secure:m=!0,domain:d}=n,c=new Date;c.setTime(c.getTime()+o*24*60*60*1e3);const u=[`${e}=${encodeURIComponent(t)}`,`expires=${c.toUTCString()}`,`path=${r}`,`SameSite=${a}`];m&&u.push("Secure"),d&&u.push(`domain=${d}`),document.cookie=u.join("; ")}catch(o){console.error(`Error setting cookie ${e}:`,o)}}function y(e,t={}){if(!(typeof document>"u"))try{const{path:n="/",domain:o}=t,r=[`${e}=`,"expires=Thu, 01 Jan 1970 00:00:00 UTC",`path=${n}`];o&&r.push(`domain=${o}`),document.cookie=r.join("; "),!o&&typeof window<"u"&&(document.cookie=r.join("; ")+`; domain=${window.location.hostname}`)}catch(n){console.error(`Error deleting cookie ${e}:`,n)}}function h(){if(typeof document>"u")return null;try{const e=f("cookie-consent");return e?JSON.parse(e):null}catch(e){return console.error("Error parsing consent cookie:",e),null}}function k(e){if(typeof document>"u")return!1;if(e==="necessary")return!0;const t=h();return t?t[e]===!0:!1}function C(){if(typeof navigator>"u")return!1;const e=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;return e==="1"||e==="yes"}function x(e){return C()?(console.log("ðŸš« Do Not Track enabled - tracking disabled"),!1):k(e)}function b(){if(typeof document>"u")return;const e={necessary:!0,functional:!1,performance:!1,targeting:!1,timestamp:Date.now()};p("cookie-consent",JSON.stringify(e),{expires:365}),window.dispatchEvent(new Event("consent-changed")),console.log("ðŸš« CCPA Opt-Out: All non-essential cookies disabled")}function O(){const[e,t]=s.useState(!1),n=()=>{b(),t(!0),setTimeout(()=>window.location.reload(),1500)};return e?i.jsxs("div",{className:"bg-green-50 border-2 border-green-600 rounded-lg p-6",children:[i.jsx("p",{className:"font-bold text-green-900 text-lg",children:"âœ… Success!"}),i.jsx("p",{className:"text-green-800 text-sm mt-2",children:"You've opted out. Non-essential cookies disabled. Reloading..."})]}):i.jsx("button",{onClick:n,className:"bg-primary text-bg px-8 py-4 rounded-lg font-bold text-lg hover:bg-primary-700 transition-colors",type:"button",children:"ðŸš« Opt Out of Data Sharing"})}function v(){const e=s.useCallback(o=>f(o),[]),t=s.useCallback((o,r,a={})=>{p(o,r,a)},[]),n=s.useCallback((o,r="/")=>{y(o,{path:r})},[]);return{getCookie:e,setCookie:t,deleteCookie:n}}function $(e){if(e.dataset.consentEnabled==="true")return;const t=document.createElement("script");Array.from(e.attributes).forEach(n=>{n.name!=="type"&&t.setAttribute(n.name,n.value)}),t.type="text/javascript",e.dataset.partytown==="true"&&(t.type="text/partytown"),e.textContent&&(t.textContent=e.textContent),e.dataset.consentEnabled="true",e.parentNode?.insertBefore(t,e.nextSibling),console.log(`âœ… Enabled ${e.dataset.consent} script:`,e.src||"inline")}function w(e){const t=`script[type="text/plain"][data-consent="${e}"]`;return Array.from(document.querySelectorAll(t))}function g(e){if(typeof document>"u")return;const t=w(e);if(t.length===0){console.log(`â„¹ï¸  No blocked scripts found for category: ${e}`);return}console.log(`ðŸ”“ Enabling ${t.length} script(s) for category: ${e}`),t.forEach(n=>{$(n)})}function l(){if(typeof document>"u")return;["necessary","functional","performance","targeting"].forEach(t=>{x(t)&&g(t)})}function S(){typeof document>"u"||(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{l()}):l(),console.log("ðŸ“œ Script manager initialized"))}const N=Object.freeze(Object.defineProperty({__proto__:null,enableConsentedScripts:l,enableScriptsForCategory:g,initScriptManager:S},Symbol.toStringTag,{value:"Module"}));export{O,g as a,l as e,h as g,k as h,N as s,v as u};
