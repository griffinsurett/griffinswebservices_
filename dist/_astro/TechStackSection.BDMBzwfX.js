import{r as a,j as e}from"./react-core.EkFKhCmS.js";import{H}from"./Heading.xbgSHbRw.js";import{u as Y}from"./useVisibility.CSoA3ZaV.js";import{u as Z}from"./useEngagementAutoplay.DpKITCWd.js";import{A as ee}from"./AnimatedElementWrapper.DsRy4ius.js";import{I as te}from"./Icon.BBeJOJPq.js";import"./useViewAnimation.CoM8gNl1.js";const ae=a.forwardRef(function({items:d=[],renderItem:i=()=>null,children:l,speed:f=30,duplicateCount:n=3,autoplay:c=!0,pauseOnHover:g=!0,pauseOnEngage:p=!0,startDelay:u=2500,gap:v=24,itemWidth:x=120,gradientMask:j=!0,gradientWidth:m={base:48,md:80},threshold:P=.3,onItemInteraction:V,resumeDelay:_=500,resumeTriggers:q=["scroll","click-outside","hover-away"],containerSelector:B,itemSelector:D,className:G="",trackClassName:U=""},W){const I=a.useRef(null),T=a.useRef(null),[$,k]=a.useState(0),M=a.useMemo(()=>`smooth-carousel-${Math.random().toString(36).slice(2,8)}`,[]);a.useImperativeHandle(W,()=>({container:I.current,track:T.current,getCurrentOffset:()=>$,setOffset:k}));const N=Y(I,{threshold:P}),b=a.useMemo(()=>a.Children.toArray(l).filter(Boolean),[l]),A=b.length>0,w=A?b.length:d.length,X=a.useMemo(()=>A?Array.from({length:n},(t,s)=>b.map((o,h)=>({type:"child",node:o,originalIndex:h,duplicateIndex:s}))).flat():Array.from({length:n},(t,s)=>d.map((o,h)=>({type:"item",item:o,originalIndex:h,duplicateIndex:s}))).flat(),[b,n,d,A]),y=w*x,{engageUser:C,isAutoplayPaused:R,userEngaged:se,isResumeScheduled:re}=Z({totalItems:Math.max(w,1),currentIndex:w>0?Math.floor(Math.abs($)/x)%w:0,setIndex:()=>{},autoplayTime:50,resumeDelay:_,resumeTriggers:q,containerSelector:B||`[data-autoplay-scope="${M}"]`,itemSelector:D||`[data-autoplay-scope="${M}"] [data-smooth-item]`,inView:c&&N,pauseOnEngage:p,engageOnlyOnActiveItem:!1,activeItemAttr:"data-active"}),[L,O]=a.useState(!1);a.useEffect(()=>{if(!(c&&N&&!R)){O(!1);return}const s=window.setTimeout(()=>O(!0),u);return()=>window.clearTimeout(s)},[c,N,R,u]),a.useEffect(()=>{if(!L)return;let t,s=performance.now();const o=h=>{const Q=(h-s)/1e3;s=h,k(F=>{if(y<=0)return F;let E=F-f*Q;return Math.abs(E)>=y&&(E+=y),E}),t=requestAnimationFrame(o)};return t=requestAnimationFrame(o),()=>cancelAnimationFrame(t)},[L,f,y]);const z=(t,s,o)=>{p&&C(),V?.(t,s,o)},J=()=>{g&&C()},[S,K]=a.useState(()=>typeof window>"u"?m.base:window.innerWidth>=768?m.md:m.base);return a.useEffect(()=>{if(typeof window>"u")return;const t=()=>{K(window.innerWidth>=768?m.md:m.base)};return window.addEventListener("resize",t,{passive:!0}),()=>window.removeEventListener("resize",t)},[m.base,m.md]),e.jsxs("div",{ref:I,"data-autoplay-scope":M,className:`relative w-full overflow-hidden ${G}`.trim(),"data-smooth-carousel":!0,onMouseEnter:J,children:[j&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-gradient-to-r from-bg to-transparent z-10 pointer-events-none",style:{width:`${S}px`}}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-gradient-to-l from-bg to-transparent z-10 pointer-events-none",style:{width:`${S}px`}})]}),e.jsx("div",{className:"overflow-hidden",style:{paddingInline:`${S}px`},children:e.jsx("div",{ref:T,className:`flex items-center ${U}`.trim(),style:{transform:`translateX(${$}px)`,width:"max-content",gap:`${v}px`},children:X.map((t,s)=>e.jsx("div",{"data-smooth-item":!0,className:"flex-shrink-0",onMouseEnter:()=>z(t,s,"hover"),children:t.type==="child"?t.node:i(t.item,s,{isActive:!1,onInteraction:o=>z(t.item,s,o)})},`${t.originalIndex}-${t.duplicateIndex}-${s}`))})}),!1]})});function ne({name:r,index:d,onTechHover:i,onTechLeave:l,showName:f=!1,className:n="",children:c}){const[g,p]=a.useState(!1),u=a.useRef(null);a.useEffect(()=>()=>{u.current&&window.clearTimeout(u.current)},[]);const v=()=>i?.(r),x=()=>{p(!1),l?.()},j=()=>{u.current&&window.clearTimeout(u.current),p(!0),i?.(r),u.current=window.setTimeout(()=>{p(!1),l?.()},2500)};return e.jsx(ee,{variant:"fade-in",animationDuration:600,animationDelay:300,threshold:.2,rootMargin:"0px 0px -50px 0px",once:!1,children:e.jsxs("div",{"data-tech-item":!0,"data-tech-name":r,"data-index":d,className:`group flex flex-col items-center flex-shrink-0 ${n}`.trim(),role:"button",tabIndex:0,"aria-label":r,onMouseEnter:v,onMouseLeave:x,onFocus:v,onBlur:x,onTouchStart:j,children:[e.jsx("div",{className:"relative p-2 transition-all duration-300 group-hover:scale-110 cursor-pointer select-none",children:e.jsx("div",{className:`relative text-heading transition-opacity duration-300 ${g?"opacity-100":"opacity-70 group-hover:opacity-100"}`,children:c})}),f?e.jsx("div",{className:`mt-2 text-xs md:text-sm text-muted transition-all duration-300 whitespace-nowrap ${g?"opacity-100 translate-y-0":"opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0"}`,children:r}):e.jsx("span",{className:"sr-only",children:r})]})})}function fe({technologies:r=[],className:d=""}){const[i,l]=a.useState(null),f=a.useMemo(()=>r.filter(n=>n?.title).map(n=>({name:n.title??"",icon:n.icon??"lucide:code"})),[r]);return e.jsx("div",{className:`inner-section text-center lg:text-left ${d}`.trim(),children:e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-[1fr_2fr] gap-6 lg:gap-8 items-center",children:[e.jsx("div",{className:"w-sm",children:e.jsxs("div",{className:"relative inline-block mb-6 leading-tight",children:[e.jsx(H,{tagName:"h2",before:"We've mastered ",text:"the tools that matter.",className:`transition-opacity duration-150 ${i?"opacity-0":"opacity-100"}`,beforeClass:"text-heading block lg:inline",textClass:"text-heading block lg:inline"}),e.jsx(H,{tagName:"h2",before:"We've mastered ",text:i??"",className:`absolute inset-0 pointer-events-none transition-opacity duration-150 ${i?"opacity-100":"opacity-0"}`,beforeClass:"text-heading block lg:inline",textClass:"text-accent block lg:inline"})]})}),e.jsx(ae,{startDelay:5e3,speed:30,gap:32,itemWidth:120,autoplay:!0,pauseOnHover:!0,pauseOnEngage:!0,gradientMask:!0,gradientWidth:{base:48,md:72},className:"relative w-full h-[84px] md:h-[96px]",children:f.map((n,c)=>e.jsx(ne,{name:n.name,index:c,onTechHover:l,onTechLeave:()=>l(null),children:e.jsx(te,{icon:n.icon,size:"xl","aria-label":n.name})},`${n.name}-${c}`))})]})})}export{fe as default};
