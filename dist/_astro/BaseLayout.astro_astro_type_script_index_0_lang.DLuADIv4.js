import{c as d}from"./visibility-hooks.xXMErAV0.js";import"./react-core.DztsbV3P.js";class l{observedElements=new WeakSet;disconnectors=new WeakMap;defaultThreshold;defaultRootMargin;constructor(e={}){this.defaultThreshold=e.defaultThreshold??.1,this.defaultRootMargin=e.defaultRootMargin??"0px 0px -50px 0px"}init(){typeof window>"u"||typeof IntersectionObserver>"u"||(this.observeAll(),this.setupMutationObserver())}observeAll(){document.querySelectorAll("[data-animate]").forEach(t=>this.observe(t))}observe(e){if(this.observedElements.has(e))return;this.observedElements.add(e);const t=e.dataset.animateOnce==="true",r=parseInt(e.dataset.animateDelay||"0",10),{disconnect:s}=d(e,{threshold:this.defaultThreshold,rootMargin:this.defaultRootMargin,once:t,onEnter:()=>{r>0?setTimeout(()=>{e.dataset.visible="true"},r):e.dataset.visible="true"},onExit:()=>{t||(e.dataset.visible="false")}});this.disconnectors.set(e,s)}setupMutationObserver(){new MutationObserver(t=>{t.forEach(r=>{r.addedNodes.forEach(s=>{s instanceof HTMLElement&&(s.hasAttribute("data-animate")&&this.observe(s),s.querySelectorAll?.("[data-animate]").forEach(a=>{this.observe(a)}))})})}).observe(document.body,{childList:!0,subtree:!0})}}let n=null;function o(i){return n||(n=new l(i),n.init(),n)}typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>o()):o());
