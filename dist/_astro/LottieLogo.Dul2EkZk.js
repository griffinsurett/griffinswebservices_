const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/lottie_light.zP6tFE5F.js","_astro/react-core.EkFKhCmS.js"])))=>i.map(i=>d[i]);
import{r as t,j as p}from"./react-core.EkFKhCmS.js";import{_ as W}from"./preload-helper.BlTxHScW.js";import{u as z,a as Z}from"./useVisibility.CSoA3ZaV.js";const G=o=>{typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(o,{timeout:1e3}):setTimeout(o,0)},$=o=>o?typeof o.currentFrame=="number"?o.currentFrame:typeof o.currentRawFrame=="number"?o.currentRawFrame:0:0,q=2;function K({animationData:o=null,animationUrl:a=null,alt:L="",className:S="",containerClasses:T="relative",trigger:c="load",respectReducedMotion:E=!0,rewindToStartOnTop:w=!1,loop:k=!0,autoplay:d=!1,speed:j=1,renderer:C="svg",fadeMs:B=180,scrollThreshold:X=1,debounceDelay:ee=8,wheelSensitivity:te=1,children:V}){const f=t.useRef(null),g=t.useRef(null),s=t.useRef(null),h=t.useRef(null),O=t.useRef(0),v=t.useRef(null),x=t.useRef(!1),A=t.useRef(!0),[_,Y]=t.useState(!0),[m,y]=t.useState(!1),[I,J]=t.useState(!1),u=t.useCallback(()=>{const e=s.current;e&&v.current&&e.removeEventListener("enterFrame",v.current),v.current=null,x.current=!1},[]);t.useEffect(()=>{const e=document.documentElement;J((e?.scrollHeight||0)>(window.innerHeight||0)+1)},[]);const i=t.useMemo(()=>c==="scroll"||c==="visible"||c==="load"?c:typeof window<"u"&&f.current?f.current.getBoundingClientRect().top<window.innerHeight?"load":"scroll":I?"scroll":"load",[c,I]),b=E&&typeof window<"u"&&window.matchMedia?.("(prefers-reduced-motion: reduce)")?.matches,M=z(f,{threshold:.1,rootMargin:"0px",once:!0}),R=z(f,{threshold:0,rootMargin:"0px",once:!1});t.useEffect(()=>{if(!b)switch(i){case"load":y(!0);break;case"visible":R&&y(!0);break}},[i,R,b]);const N=t.useCallback(e=>{const r=s.current,n=Date.now();O.current=n,r&&(u(),clearTimeout(h.current),e>0?(r.setDirection(1),r.isPaused&&r.play()):e<0&&(r.setDirection(-1),r.isPaused&&r.play()),h.current=setTimeout(()=>{n===O.current&&r&&r.pause()},200))},[u]),P=t.useCallback(()=>{if(!w)return;const e=s.current;if(!e||x.current)return;if($(e)<=0){e.goToAndStop(0,!0);return}x.current=!0,clearTimeout(h.current);const n=()=>{$(e)<=.5&&(e.pause(),e.goToAndStop(0,!0),u())};v.current=n,e.addEventListener("enterFrame",n),e.setDirection(-1),e.play()},[w,u]);Z({elementRef:null,scrollThreshold:1,debounceDelay:16,trustedOnly:!0,wheelSensitivity:1,onScrollActivity:i==="scroll"&&M?({dir:e,delta:r})=>{if(m||y(!0),s.current){const n=e==="down"?r:-r;N(n)}}:void 0,onWheelActivity:i==="scroll"&&M?({deltaY:e})=>{m||y(!0),s.current&&N(e)}:void 0}),t.useEffect(()=>{if(!w||i!=="scroll"||typeof window>"u")return;A.current=(window.scrollY||0)<=q;const e=()=>{const n=(window.scrollY||0)<=q;!A.current&&n&&P(),A.current=n};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[w,i,P]),t.useEffect(()=>{if(!m||!g.current||s.current)return;if(!o&&!a){console.warn("OptimizedLottie: No animationData or animationUrl provided");return}let e=!1;return G(async()=>{if(!e)try{const{default:r}=await W(async()=>{const{default:H}=await import("./lottie_light.zP6tFE5F.js").then(U=>U.l);return{default:H}},__vite__mapDeps([0,1]));let n=o;if(!n&&a&&(n=await(await fetch(a)).json()),e||!n)return;const l=r.loadAnimation({container:g.current,renderer:C,loop:k,autoplay:d,animationData:n});s.current=l,l.setSpeed(j),d||l.goToAndStop(0,!0);const D=()=>{d||l.goToAndStop(0,!0),requestAnimationFrame(()=>Y(!1)),i==="load"&&d&&(l.setDirection(1),l.play())};l.addEventListener("DOMLoaded",D),l.addEventListener("data_ready",D),Promise.resolve().then(()=>D())}catch(r){console.error("OptimizedLottie: Failed to load animation:",r)}}),()=>{e=!0,u(),s.current?.destroy?.(),s.current=null}},[m,i,o,a,C,k,d,j,u]),t.useEffect(()=>{i!=="visible"||!s.current||!_&&R&&(s.current.setDirection(1),s.current.play())},[i,R,_]),t.useEffect(()=>()=>clearTimeout(h.current),[]);const F=b||_;return p.jsxs("div",{ref:f,"aria-label":L,className:`${S} ${T}`,children:[p.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{transition:`opacity ${B}ms ease`,opacity:F?1:0},"aria-hidden":!F,children:p.jsx("div",{className:"w-full h-full",children:V})}),m&&p.jsx("div",{ref:g,className:"absolute inset-0",style:{visibility:b?"hidden":"visible"},"aria-hidden":F})]})}const Q=new URL("/assets/Animation_logo_small_size-D67EJZur.json",import.meta.url);function se({alt:o="",className:a="logo-class",mediaClasses:L="block w-[40px] h-[40px] lg:w-[45px] lg:h-[45px] object-contain",trigger:S="auto",respectReducedMotion:T=!0,fadeMs:c=180,children:E}){return p.jsx(K,{animationUrl:Q,alt:o,className:a,containerClasses:`relative ${L}`,trigger:S,respectReducedMotion:T,fadeMs:c,rewindToStartOnTop:!0,loop:!0,autoplay:!1,speed:.5,renderer:"svg",scrollThreshold:1,debounceDelay:8,wheelSensitivity:1,children:E})}export{se as default};
