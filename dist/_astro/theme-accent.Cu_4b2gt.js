import{bH as o,bI as f}from"./react-core.DztsbV3P.js";import{S as C,C as v}from"./theme-shared.-XBxzcS1.js";function S(e,r,{raw:s=!0,validate:t,syncTabs:l=!0,serialize:a=s?(u=>String(u)):(u=>JSON.stringify(u)),deserialize:i=s?(u=>u):(u=>JSON.parse(u))}={}){const u=o.useRef(r),m=o.useCallback(()=>{const n=u.current;return typeof n=="function"?n():n},[]),h=o.useCallback(()=>{if(typeof window>"u")return m();try{const n=window.localStorage.getItem(e);if(n!=null){const c=i(n);if(!t||t(c))return c}}catch{}return m()},[e,i,t,m]),[d,w]=o.useState(h),p=o.useRef(!1);return o.useEffect(()=>{if(!(typeof window>"u")){if(!p.current){p.current=!0;try{const n=window.localStorage.getItem(e);if(n!=null){const c=i(n);if(!t||t(c)){c!==d&&w(c);return}}}catch{}}try{if(t&&!t(d))return;window.localStorage.setItem(e,a(d))}catch{}}},[e,d,a,t,i]),o.useEffect(()=>{if(!l||typeof window>"u")return;const n=c=>{if(c.storageArea===window.localStorage&&c.key===e)try{if(c.newValue==null)return;const x=i(c.newValue);(!t||t(x))&&w(x)}catch{}};return window.addEventListener("storage",n),()=>window.removeEventListener("storage",n)},[e,i,t,l]),[d,w]}const g=["var(--main-accent)","var(--color-purple-700)","var(--color-teal-500)","var(--color-emerald-500)","var(--color-lime-500)","var(--color-red-500)","var(--color-pink-500)","var(--color-orange-500)","#722F37"];function b(){const e=()=>g[0],[r,s]=S("accent",e,{raw:!0,validate:t=>g.includes(t),syncTabs:!0});return o.useEffect(()=>{document.documentElement.style.setProperty("--color-accent",r)},[r]),{accent:r,setAccent:s,accents:g}}function E({open:e,onClose:r}){const{accent:s,setAccent:t,accents:l}=b();return e?f.jsx("div",{className:"absolute top-full mt-1 lg:mt-2 right-0 sm:left-0 sm:right-auto faded-bg rounded-xl p-2 lg:p-3 flex space-x-2 lg:space-x-3 overflow-x-auto hide-scrollbar shadow-lg z-50 w-max max-w-[calc(100vw-2.5rem)] sm:max-w-none",children:l.map(a=>f.jsx(C,{color:a,checked:s===a,onChange:()=>{t(a),r()},"aria-label":`Select accent color ${a}`},a))}):null}function R(){const[e,r]=o.useState(!1),s=o.useRef(null);o.useEffect(()=>{if(!e)return;const l=a=>{s.current?.contains(a.target)||r(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[e]);const t=()=>{r(l=>!l)};return f.jsxs("div",{ref:s,className:"relative inline-flex",children:[f.jsx(v,{checked:e,onChange:t,"aria-label":"Pick accent color",className:"faded-bg",children:f.jsx("svg",{className:"w-[22px] h-[22px] lg:w-[22px] lg:h-[22px]",viewBox:"0 0 100 100",children:f.jsx("path",{d:"M50 10C50 10 25 35 25 55C25 70.464 37.536 83 50 83C62.464 83 75 70.464 75 55C75 35 50 10 50 10Z",fill:"var(--color-accent)"})})}),e&&f.jsx(E,{open:e,onClose:()=>r(!1)})]})}export{R as A,S as u};
