import{r as s,j as L}from"./react-core.BKcrIQ47.js";import{e as _,u as v}from"./useVisibility.Dfexy_Di.js";const M=n=>typeof n=="number"?`${n}px`:n??"0px",R=({ref:n,triggers:e="hover",active:i=!1,hoverDelay:F=0,unhoverIntent:g,visibleRootMargin:o=120,visibilityOptions:l={threshold:.25}})=>{const E=s.useMemo(()=>Array.isArray(e)?e:[e??"hover"],[e]),f=s.useMemo(()=>E.map(r=>String(r||"").toLowerCase()),[E]),c=f.includes("hover"),A=f.includes("visible"),y=f.includes("always"),N=f.includes("controlled"),[b,j]=s.useState(!1),{handleMouseEnter:S,handleMouseLeave:z}=_({hoverDelay:F,unhoverIntent:g,onHoverStart:()=>j(!0),onHoverEnd:()=>j(!1)}),m=s.useMemo(()=>{if(typeof o=="number"){const r=Math.max(0,o|0);return`-${r}px 0px -${r}px 0px`}if(o&&typeof o=="object"){const r=M(o.top),u=M(o.right),h=M(o.bottom),V=M(o.left);return`${r} ${u} ${h} ${V}`}return o||"0px"},[o]),T=s.useMemo(()=>({...l,threshold:l?.threshold??.25,rootMargin:m??(l?l.rootMargin:void 0)}),[m,l]),x=v(n,T),d=!!(y||c&&b||N&&i||A&&x),w=s.useRef(d),C=d&&!w.current,H=!d&&w.current;s.useEffect(()=>{w.current=d},[d]);const P=s.useCallback(r=>{if(!c)return;const u=r?.currentTarget??null;S(u)},[S,c]),t=s.useCallback(r=>{if(!c)return;const u=r?.currentTarget??null;z(u)},[z,c]);return{engaged:d,inView:x,hovered:b,wantsHover:c,wantsVisible:A,isAlways:y,isControlledTrigger:N,justEngaged:C,justDisengaged:H,onEnter:P,onLeave:t}},W=n=>{const e=typeof n=="number"?n:typeof n=="string"?parseFloat(n):NaN;return Number.isFinite(e)?Math.max(0,Math.min(100,e)):0};function se({children:n,variant:e="none",triggers:i="hover",active:F=!1,controller:g,duration:o=2e3,fadeOutMs:l=220,color:E="var(--color-accent)",borderRadius:f="rounded-3xl",borderWidth:c=2,className:A="",innerClassName:y="",hoverDelay:N=0,unhoverIntent:b,visibleRootMargin:j=75,onMouseEnter:S,onMouseLeave:z,linkProps:m,...T}){const x=s.useRef(null),{engaged:d,onEnter:w,onLeave:C,isAlways:H}=R({ref:x,triggers:i,active:F,hoverDelay:N,unhoverIntent:b,visibleRootMargin:j}),P=s.useMemo(()=>(Array.isArray(i)?i:[i]).map(k=>String(k||"").toLowerCase()).includes("always"),[i]),t=d||H||P,r=s.useMemo(()=>g==null?null:W(g),[g]),u=Number.isFinite(r??NaN),h=s.useRef(u&&r||0),[V,B]=s.useState(!1),[q,D]=s.useState(null),I=s.useRef(t),[G,K]=s.useState(!1);s.useEffect(()=>{K(!0)},[]),s.useEffect(()=>{if(e!=="progress"){I.current=t;return}const a=I.current;if(I.current=t,t&&!a){B(!1),D(null);return}if(!t&&a){D(h.current),B(!0);const k=window.setTimeout(()=>{B(!1),D(null),h.current=0},l);return()=>window.clearTimeout(k)}},[e,t,l]),s.useEffect(()=>{if(e==="progress"){if(u){t&&(h.current=r??0);return}t&&(h.current=100)}},[e,t,u,r]);const Q=s.useMemo(()=>e==="progress"?u?r??0:t&&G?100:0:e==="progress-b-f"&&t?100:0,[e,u,r,t,G]),U=e==="progress"&&!t&&q!=null?q:Q,J=typeof c=="number"?`${c}px`:c,p={"--ab-color":E,"--ab-border-width":J,"--ab-duration":`${o}ms`,"--ab-fade-duration":`${l}ms`};(e==="progress"||e==="progress-b-f")&&(p["--ab-progress"]=`${(U||0)*3.6}deg`),e==="progress"?p.opacity=t||V?1:0:e==="solid"?(p.opacity=t?1:0,p.padding=t?J:"0px"):e==="progress-infinite"&&(p.opacity=t?1:0,p.animationPlayState=t?"running":"paused");const $=["absolute","inset-0",f,"pointer-events-none","z-20","animated-border-overlay"];e==="solid"?$.push("is-solid","transition-all","duration-800","ease-in-out"):e==="progress"?$.push("progress"):e==="progress-b-f"?$.push("progress-b-f"):e==="progress-infinite"&&$.push("progress-infinite");const X=e!=="none",Y=a=>{S?.(a),w(a)},Z=a=>{z?.(a),C(a)};return L.jsxs("div",{ref:x,className:`relative ${A}`.trim(),onMouseEnter:Y,onMouseLeave:Z,...T,children:[X&&L.jsx("div",{className:$.join(" "),style:p}),m?.href?L.jsx("a",{...m,className:`relative z-10 overflow-hidden ${f} ${y} ${m.className??""}`.trim(),children:n}):L.jsx("div",{className:`relative z-10 overflow-hidden ${f} ${y}`,children:n})]})}export{se as A};
