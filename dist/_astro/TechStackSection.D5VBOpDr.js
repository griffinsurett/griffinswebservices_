import{r as e,j as t}from"./react-core.KjzrvO5l.js";import{H as B}from"./Heading.UgZ2DVBA.js";import{u as re}from"./useVisibility.B645O2tJ.js";import{u as se}from"./useEngagementAutoplay.CXcwjRcL.js";import{A as oe}from"./AnimatedElementWrapper.C3fBqW5Y.js";import ie from"./Icon.DpHysAms.js";import"./useViewAnimation.upjQ5u9Y.js";const le=e.forwardRef(function({items:d=[],renderItem:i=()=>null,children:l,speed:f=30,duplicateCount:a=3,autoplay:c=!0,pauseOnHover:x=!0,pauseOnEngage:p=!0,startDelay:u=2500,gap:b=24,itemWidth:g=120,gradientMask:I=!0,gradientWidth:m={base:48,md:80},threshold:G=.3,onItemInteraction:U,resumeDelay:$=500,resumeTriggers:W=["scroll","click-outside","hover-away"],containerSelector:X,itemSelector:D,className:J="",trackClassName:K=""},Q){const N=e.useRef(null),C=e.useRef(null),[A,L]=e.useState(0),E=e.useMemo(()=>`smooth-carousel-${Math.random().toString(36).slice(2,8)}`,[]);e.useImperativeHandle(Q,()=>({container:N.current,track:C.current,getCurrentOffset:()=>A,setOffset:L}));const S=re(N,{threshold:G}),w=e.useMemo(()=>e.Children.toArray(l).filter(Boolean),[l]),T=w.length>0,y=T?w.length:d.length,Y=e.useMemo(()=>T?Array.from({length:a},(n,r)=>w.map((o,h)=>({type:"child",node:o,originalIndex:h,duplicateIndex:r}))).flat():Array.from({length:a},(n,r)=>d.map((o,h)=>({type:"item",item:o,originalIndex:h,duplicateIndex:r}))).flat(),[w,a,d,T]),j=y*g,{engageUser:H,isAutoplayPaused:O,userEngaged:ue,isResumeScheduled:de,pause:z,resume:F}=se({totalItems:Math.max(y,1),currentIndex:y>0?Math.floor(Math.abs(A)/g)%y:0,setIndex:()=>{},autoplayTime:50,resumeDelay:$,resumeTriggers:W,containerSelector:X||`[data-autoplay-scope="${E}"]`,itemSelector:D||`[data-autoplay-scope="${E}"] [data-smooth-item]`,inView:c&&S,pauseOnEngage:p,engageOnlyOnActiveItem:!1,activeItemAttr:"data-active"}),[P,V]=e.useState(!1);e.useEffect(()=>{if(!(c&&S&&!O)){V(!1);return}const r=window.setTimeout(()=>V(!0),u);return()=>window.clearTimeout(r)},[c,S,O,u]),e.useEffect(()=>{if(!P)return;let n,r=performance.now();const o=h=>{const ae=(h-r)/1e3;r=h,L(q=>{if(j<=0)return q;let R=q-f*ae;return Math.abs(R)>=j&&(R+=j),R}),n=requestAnimationFrame(o)};return n=requestAnimationFrame(o),()=>cancelAnimationFrame(n)},[P,f,j]);const v=e.useRef(null),M=e.useCallback(()=>{v.current&&(window.clearTimeout(v.current),v.current=null)},[]),Z=e.useCallback(()=>{M(),v.current=window.setTimeout(()=>{F(),v.current=null},$)},[M,F,$]),_=(n,r,o)=>{p&&(H(),z()),U?.(n,r,o)},ee=()=>{x&&(H(),z())},te=()=>{x&&Z()};e.useEffect(()=>()=>M(),[M]);const[k,ne]=e.useState(()=>typeof window>"u"?m.base:window.innerWidth>=768?m.md:m.base);return e.useEffect(()=>{if(typeof window>"u")return;const n=()=>{ne(window.innerWidth>=768?m.md:m.base)};return window.addEventListener("resize",n,{passive:!0}),()=>window.removeEventListener("resize",n)},[m.base,m.md]),t.jsxs("div",{ref:N,"data-autoplay-scope":E,className:`relative w-full overflow-hidden ${J}`.trim(),"data-smooth-carousel":!0,onMouseEnter:ee,onMouseLeave:te,children:[I&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-gradient-to-r from-bg to-transparent z-10 pointer-events-none",style:{width:`${k}px`}}),t.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-gradient-to-l from-bg to-transparent z-10 pointer-events-none",style:{width:`${k}px`}})]}),t.jsx("div",{className:"overflow-hidden",style:{paddingInline:`${k}px`},children:t.jsx("div",{ref:C,className:`flex items-center ${K}`.trim(),style:{transform:`translateX(${A}px)`,width:"max-content",gap:`${b}px`},children:Y.map((n,r)=>t.jsx("div",{"data-smooth-item":!0,className:"flex-shrink-0",onMouseEnter:()=>_(n,r,"hover"),children:n.type==="child"?n.node:i(n.item,r,{isActive:!1,onInteraction:o=>_(n.item,r,o)})},`${n.originalIndex}-${n.duplicateIndex}-${r}`))})}),!1]})});function ce({name:s,index:d,onTechHover:i,onTechLeave:l,showName:f=!1,className:a="",children:c}){const[x,p]=e.useState(!1),u=e.useRef(null);e.useEffect(()=>()=>{u.current&&window.clearTimeout(u.current)},[]);const b=()=>i?.(s),g=()=>{p(!1),l?.()},I=()=>{u.current&&window.clearTimeout(u.current),p(!0),i?.(s),u.current=window.setTimeout(()=>{p(!1),l?.()},2500)};return t.jsx(oe,{variant:"fade-in",animationDuration:600,animationDelay:300,threshold:.2,rootMargin:"0px 0px -50px 0px",once:!1,children:t.jsxs("div",{"data-tech-item":!0,"data-tech-name":s,"data-index":d,className:`group flex flex-col items-center flex-shrink-0 ${a}`.trim(),role:"button",tabIndex:0,"aria-label":s,onMouseEnter:b,onMouseLeave:g,onFocus:b,onBlur:g,onTouchStart:I,children:[t.jsx("div",{className:"relative p-2 transition-all duration-300 group-hover:scale-110 cursor-pointer select-none",children:t.jsx("div",{className:`relative text-heading transition-opacity duration-300 ${x?"opacity-100":"opacity-70 group-hover:opacity-100"}`,children:c})}),f?t.jsx("div",{className:`mt-2 text-xs md:text-sm text-muted transition-all duration-300 whitespace-nowrap ${x?"opacity-100 translate-y-0":"opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0"}`,children:s}):t.jsx("span",{className:"sr-only",children:s})]})})}function be({technologies:s=[],className:d=""}){const[i,l]=e.useState(null),f=e.useMemo(()=>s.filter(a=>a?.title).map(a=>({name:a.title??"",icon:a.icon??"lucide:code"})),[s]);return t.jsx("div",{className:`inner-section text-center lg:text-left ${d}`.trim(),children:t.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-[1fr_2fr] gap-6 lg:gap-8 items-center",children:[t.jsx("div",{className:"w-sm",children:t.jsxs("div",{className:"relative inline-block mb-6 leading-tight",children:[t.jsx(B,{tagName:"h2",before:"We've mastered ",text:"the tools that matter.",className:`transition-opacity duration-150 ${i?"opacity-0":"opacity-100"}`,beforeClass:"text-heading block lg:inline",textClass:"text-heading block lg:inline"}),t.jsx(B,{tagName:"h2",before:"We've mastered ",text:i??"",className:`absolute inset-0 pointer-events-none transition-opacity duration-150 ${i?"opacity-100":"opacity-0"}`,beforeClass:"text-heading block lg:inline",textClass:"text-accent block lg:inline"})]})}),t.jsx(le,{startDelay:5e3,speed:30,gap:32,itemWidth:120,autoplay:!0,pauseOnHover:!0,pauseOnEngage:!0,gradientMask:!0,gradientWidth:{base:48,md:72},className:"relative w-full h-[84px] md:h-[96px]",children:f.map((a,c)=>t.jsx(ce,{name:a.name,index:c,onTechHover:l,onTechLeave:()=>l(null),children:t.jsx(ie,{icon:a.icon,size:"xl","aria-label":a.name})},`${a.name}-${c}`))})]})})}export{be as default};
