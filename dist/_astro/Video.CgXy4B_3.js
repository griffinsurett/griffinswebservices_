import{bH as n,bI as a}from"./react-core.CB-E5_Si.js";const w=n.forwardRef(({src:r,poster:u,className:f="",autoPlay:s=!0,muted:p=!0,loop:v=!0,controls:x=!1,playsInline:l=!0,lazy:t=!0,sourceType:b,children:h,...m},o)=>{const d=n.useRef(null),R=e=>{d.current=e,typeof o=="function"?o(e):o&&(o.current=e)};return n.useEffect(()=>{const e=d.current;if(!e||!t)return;const i=new IntersectionObserver(g=>{g.forEach(j=>{if(j.isIntersecting){const c=e.dataset.videoSrc;c&&e.src!==c&&(e.src=c,e.load(),s&&e.play().catch(()=>{})),i.disconnect()}})},{threshold:.35,rootMargin:"0px 0px 160px 0px"});return i.observe(e),()=>i.disconnect()},[t,s]),a.jsxs("video",{ref:R,className:`w-full h-full object-cover ${f}`.trim(),poster:u,autoPlay:!t&&s,muted:p,loop:v,controls:x,playsInline:l,preload:t?"metadata":"auto","data-video-src":t?r:void 0,src:t?void 0:r,...m,children:[r&&a.jsx("source",{src:t?void 0:r,"data-video-src":t?r:void 0,type:b}),h??"Your browser does not support the video tag."]})});w.displayName="Video";export{w as default};
