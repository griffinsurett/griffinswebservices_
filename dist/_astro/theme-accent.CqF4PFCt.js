import{_ as C}from"./lazy-utils.DxON8dvJ.js";import{bH as n,bI as f}from"./react-core.CB-E5_Si.js";import{C as v,S}from"./theme-shared.Dnqw6Ubb.js";function b(t,c,{raw:u=!0,validate:e,syncTabs:i=!0,serialize:l=u?(a=>String(a)):(a=>JSON.stringify(a)),deserialize:o=u?(a=>a):(a=>JSON.parse(a))}={}){const a=n.useRef(c),m=n.useCallback(()=>{const r=a.current;return typeof r=="function"?r():r},[]),h=n.useCallback(()=>{if(typeof window>"u")return m();try{const r=window.localStorage.getItem(t);if(r!=null){const s=o(r);if(!e||e(s))return s}}catch{}return m()},[t,o,e,m]),[d,p]=n.useState(h),w=n.useRef(!1);return n.useEffect(()=>{if(!(typeof window>"u")){if(!w.current){w.current=!0;try{const r=window.localStorage.getItem(t);if(r!=null){const s=o(r);if(!e||e(s)){s!==d&&p(s);return}}}catch{}}try{if(e&&!e(d))return;window.localStorage.setItem(t,l(d))}catch{}}},[t,d,l,e,o]),n.useEffect(()=>{if(!i||typeof window>"u")return;const r=s=>{if(s.storageArea===window.localStorage&&s.key===t)try{if(s.newValue==null)return;const x=o(s.newValue);(!e||e(x))&&p(x)}catch{}};return window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)},[t,o,e,i]),[d,p]}const E=n.lazy(()=>C(()=>Promise.resolve().then(()=>j),void 0));function k(){const[t,c]=n.useState(!1),[u,e]=n.useState(!1),i=n.useRef(null);n.useEffect(()=>{if(!t)return;const o=a=>{i.current?.contains(a.target)||c(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[t]);const l=()=>{u||e(!0),c(o=>!o)};return f.jsxs("div",{ref:i,className:"relative inline-flex",children:[f.jsx(v,{checked:t,onChange:l,"aria-label":"Pick accent color",className:"faded-bg",children:f.jsx("svg",{className:"w-[22px] h-[22px] lg:w-[22px] lg:h-[22px]",viewBox:"0 0 100 100",children:f.jsx("path",{d:"M50 10C50 10 25 35 25 55C25 70.464 37.536 83 50 83C62.464 83 75 70.464 75 55C75 35 50 10 50 10Z",fill:"var(--color-accent)"})})}),u&&f.jsx(n.Suspense,{fallback:null,children:f.jsx(E,{open:t,onClose:()=>c(!1)})})]})}const g=["var(--main-accent)","var(--color-purple-700)","var(--color-teal-500)","var(--color-emerald-500)","var(--color-lime-500)","var(--color-red-500)","var(--color-pink-500)","var(--color-orange-500)","#722F37"];function _(){const t=()=>g[0],[c,u]=b("accent",t,{raw:!0,validate:e=>g.includes(e),syncTabs:!0});return n.useEffect(()=>{document.documentElement.style.setProperty("--color-accent",c)},[c]),{accent:c,setAccent:u,accents:g}}function A({open:t,onClose:c}){const{accent:u,setAccent:e,accents:i}=_();return t?f.jsx("div",{className:"absolute top-full mt-1 lg:mt-2 right-0 sm:left-0 sm:right-auto faded-bg rounded-xl p-2 lg:p-3 flex space-x-2 lg:space-x-3 overflow-x-auto hide-scrollbar shadow-lg z-50 w-max max-w-[calc(100vw-2.5rem)] sm:max-w-none",children:i.map(l=>f.jsx(S,{color:l,checked:u===l,onChange:()=>{e(l),c()},"aria-label":`Select accent color ${l}`},l))}):null}const j=Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"}));export{k as A,b as u};
