import{j as t,r as g}from"./react-core.KjzrvO5l.js";import{A as b}from"./AnimatedBorder.ZYPcZ3hl.js";import{I as v}from"./IconListItem.BkUKYpqQ.js";import j from"./Icon.DpHysAms.js";import"./useVisibility.B645O2tJ.js";function y({id:a,title:x,description:c,className:d="",children:f,isExpanded:s,onToggle:h,headerClassName:o="h5",headerSlot:m,showIndicator:u=!0,indicatorIcons:p}){const r=p?.expanded??"lucide:minus",n=p?.collapsed??"lucide:plus";return t.jsx("div",{className:`group relative ${d}`.trim(),"data-accordion-item":!0,"data-active":s?"true":"false",children:t.jsxs(b,{variant:"progress-b-f",triggers:"controlled",active:s,borderRadius:"rounded-3xl",borderWidth:2,duration:800,className:"transition-all duration-200 overflow-hidden",innerClassName:"card-bg",children:[t.jsxs("button",{type:"button",id:`${a}-trigger`,"aria-expanded":s,"aria-controls":`${a}-content`,className:`w-full text-left flex items-center justify-between px-6 py-5 hover:bg-card/60 transition-colors duration-300 cursor-pointer relative z-20 ${o}`.trim(),onClick:h,children:[m?t.jsx("div",{className:"flex-1",children:m}):t.jsx(v,{data:{title:x},layout:"horizontal",alignment:"left",className:"gap-4 flex-1",showDescription:!1}),u&&t.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center transition-all duration-500 text-lg font-semibold ${s?"bg-primary text-bg":"bg-primary/20 text-accent"}`,"aria-hidden":"true",children:t.jsx(j,{icon:s?r:n,size:"sm",className:"w-4 h-4"})})]}),t.jsx("div",{id:`${a}-content`,role:"region","aria-labelledby":`${a}-trigger`,className:`overflow-hidden transition-all duration-500 ease-in-out relative z-20 ${s?"max-h-[600px] opacity-100":"max-h-0 opacity-0"}`,children:t.jsxs("div",{className:"px-6 pb-6",children:[t.jsx("div",{className:"w-full h-px bg-primary/15 mb-4"}),c&&t.jsx("p",{className:"text-text/90 leading-relaxed mb-4",children:c}),f]})})]})})}function z({items:a,allowMultiple:x=!1,className:c="",headerSlot:d,headerClassName:f="",showIndicator:s=!0,indicatorIcons:h}){const[o,m]=g.useState(new Set),u=g.useRef(new Map),p=r=>{m(n=>{const e=new Set(n);return e.has(r)?e.delete(r):(x||e.clear(),e.add(r)),e})};return g.useEffect(()=>{o.forEach(r=>{const n=u.current.get(r),e=a.find((i,l)=>(i.slug||`item-${l}`)===r);if(n&&e?.contentSlotId&&n.children.length===0){const i=document.getElementById(e.contentSlotId);if(i){const l=i.cloneNode(!0);l.style.display="",l.removeAttribute("id"),n.appendChild(l)}}})},[o,a]),t.jsx("div",{className:`space-y-2 ${c}`,children:a.map((r,n)=>{const e=r.slug||`item-${n}`;return t.jsx(y,{id:e,title:r.title,description:r.description,isExpanded:o.has(e),onToggle:()=>p(e),headerSlot:d?d({item:r,id:e,expanded:o.has(e)}):void 0,headerClassName:f,showIndicator:s,indicatorIcons:h,children:t.jsx("div",{ref:i=>{i&&u.current.set(e,i)}})},e)})})}export{z as default};
