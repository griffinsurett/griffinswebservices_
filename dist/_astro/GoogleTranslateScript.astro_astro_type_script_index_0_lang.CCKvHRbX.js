import{a as i,c as r,s as l}from"./consent.Drqa4rP7.js";function g(e){if(typeof localStorage>"u")return null;try{return localStorage.getItem(e)}catch(o){return console.error(`Error reading localStorage key ${e}:`,o),null}}function s(e,o){if(!(typeof localStorage>"u"))try{localStorage.setItem(e,o)}catch(n){console.error(`Error setting localStorage key ${e}:`,n)}}function c(e){if(!(typeof localStorage>"u"))try{Object.keys(localStorage).filter(n=>n.startsWith(e)).forEach(n=>localStorage.removeItem(n))}catch(o){console.error(`Error clearing localStorage with prefix ${e}:`,o)}}const t=g("user-language"),f=`translated_body_${t}_${window.location.pathname}`,d=t&&t!=="en"&&g(f),a=i("functional");!d&&a?(window.initializeGoogleTranslate=function(){const e=window.google;if(typeof e>"u"||!e?.translate)return;const o=setInterval(function(){e?.translate?.TranslateElement&&(clearInterval(o),new e.translate.TranslateElement({pageLanguage:"en",includedLanguages:"",autoDisplay:!1},"google_translate_element"))},100)},window.changeLanguage=function(e){s("user-language",e),c("translated_body_"),e==="en"?r("googtrans"):l("googtrans",`/en/${e}`,{expires:365}),window.scrollTo(0,0),window.location.href=window.location.href},(function(){const e=document.createElement("script");e.src="https://translate.google.com/translate_a/element.js?cb=initializeGoogleTranslate",e.async=!0,document.head.appendChild(e)})()):(console.log(a?"ðŸš€ Using cached translation - skipping Google Translate API load":"âŒ No functional consent - Google Translate not loaded"),window.changeLanguage=function(e){s("user-language",e),c("translated_body_"),e==="en"?r("googtrans"):l("googtrans",`/en/${e}`,{expires:365}),window.scrollTo(0,0),window.location.href=window.location.href});!d&&!a&&window.addEventListener("consent-changed",()=>{i("functional")&&(console.log("ðŸ”„ Functional consent granted, reloading for Google Translate"),window.location.reload())});
