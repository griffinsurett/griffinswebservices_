import{r as i}from"./react-core.KjzrvO5l.js";import{u as C}from"./useCookieStorage.CDmiCsXC.js";import{b as N,a as S}from"./consent.Drqa4rP7.js";import{e as h,a as E}from"./scriptManager.C4zn87OF.js";function I(t,c,{raw:f=!0,validate:e,syncTabs:g=!0,serialize:r=f?(a=>String(a)):(a=>JSON.stringify(a)),deserialize:s=f?(a=>a):(a=>JSON.parse(a))}={}){const a=i.useRef(c),d=i.useCallback(()=>{const n=a.current;return typeof n=="function"?n():n},[]),v=i.useCallback(()=>{if(typeof window>"u")return d();try{const n=window.localStorage.getItem(t);if(n!=null){const o=s(n);if(!e||e(o))return o}}catch{}return d()},[t,s,e,d]),[u,l]=i.useState(v),m=i.useRef(!1);return i.useEffect(()=>{if(!(typeof window>"u")){if(!m.current){m.current=!0;try{const n=window.localStorage.getItem(t);if(n!=null){const o=s(n);if(!e||e(o)){o!==u&&l(o);return}}}catch{}}try{if(e&&!e(u))return;window.localStorage.setItem(t,r(u))}catch{}}},[t,u,r,e,s]),i.useEffect(()=>{if(!g||typeof window>"u")return;const n=o=>{if(o.storageArea===window.localStorage&&o.key===t)try{if(o.newValue==null)return;const w=s(o.newValue);(!e||e(w))&&l(w)}catch{}};return window.addEventListener("storage",n),()=>window.removeEventListener("storage",n)},[t,s,e,g]),[u,l]}const p=[{code:"en",name:"English",nativeName:"English",flag:"ðŸ‡ºðŸ‡¸"},{code:"es",name:"Spanish",nativeName:"EspaÃ±ol",flag:"ðŸ‡ªðŸ‡¸"},{code:"hi",name:"Hindi",nativeName:"à¤¹à¤¿à¤¨à¥à¤¦à¥€",flag:"ðŸ‡®ðŸ‡³"},{code:"iw",name:"Hebrew",nativeName:"×¢×‘×¨×™×ª",flag:"ðŸ‡®ðŸ‡±"},{code:"yi",name:"Yiddish",nativeName:"×™×™Ö´×“×™×©",flag:"ðŸ‡®ðŸ‡±"},{code:"de",name:"German",nativeName:"Deutsch",flag:"ðŸ‡©ðŸ‡ª"},{code:"ru",name:"Russian",nativeName:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"uk",name:"Ukrainian",nativeName:"Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°",flag:"ðŸ‡ºðŸ‡¦"},{code:"it",name:"Italian",nativeName:"Italiano",flag:"ðŸ‡®ðŸ‡¹"},{code:"fa",name:"Farsi",nativeName:"ÙØ§Ø±Ø³ÛŒ",flag:"ðŸ‡®ðŸ‡·"},{code:"fr",name:"French",nativeName:"FranÃ§ais",flag:"ðŸ‡«ðŸ‡·"},{code:"pt",name:"Portuguese",nativeName:"PortuguÃªs",flag:"ðŸ‡µðŸ‡¹"},{code:"ur",name:"Urdu",nativeName:"Ø§Ø±Ø¯Ùˆ",flag:"ðŸ‡µðŸ‡°"},{code:"zh-CN",name:"Chinese (Simplified)",nativeName:"ç®€ä½“ä¸­æ–‡",flag:"ðŸ‡¨ðŸ‡³"},{code:"zh-TW",name:"Chinese (Traditional)",nativeName:"ç¹é«”ä¸­æ–‡",flag:"ðŸ‡¹ðŸ‡¼"},{code:"ja",name:"Japanese",nativeName:"æ—¥æœ¬èªž",flag:"ðŸ‡¯ðŸ‡µ"},{code:"ko",name:"Korean",nativeName:"í•œêµ­ì–´",flag:"ðŸ‡°ðŸ‡·"},{code:"ar",name:"Arabic",nativeName:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",flag:"ðŸ‡¸ðŸ‡¦"}],R=p[0];function V(t){return p.find(c=>c.code===t)}function k(){const{getCookie:t}=C(),c=i.useMemo(()=>N(),[t]),f=c!==null,e=r=>S(r),g=r=>{E(r)};return i.useEffect(()=>{if(typeof window>"u")return;const r=a=>{a.key==="cookie-consent-changed"&&(console.log("ðŸ”„ Consent changed, re-evaluating scripts"),h())},s=()=>{console.log("ðŸ”„ Consent changed, re-evaluating scripts"),h()};return window.addEventListener("storage",r),window.addEventListener("consent-changed",s),()=>{window.removeEventListener("storage",r),window.removeEventListener("consent-changed",s)}},[]),{consent:c,hasConsent:f,hasConsentFor:e,enableScripts:g}}export{k as a,R as d,V as g,p as s,I as u};
