import{r as u,j as t}from"./react-core.INjS0cla.js";import{I as B,A as R,a as q}from"./ui-primitives.CM-pdwI4.js";import{u as Z}from"./visibility-hooks.CrGIozah.js";import{u as H}from"./engagement-hooks.CKajifgp.js";function z(e,i={}){const{once:a=!0,delay:n,duration:o}=i,s={"data-animate":e};if(a&&(s["data-animate-once"]="true"),n!==void 0||o!==void 0){const l={};n!==void 0&&(s["data-animate-delay"]=String(n),l["--animation-delay"]=`${n}ms`),o!==void 0&&(l["--animation-duration"]=`${o}ms`),s.style=l}return s}function ge(e,i,a={}){const{staggerDelay:n=100,delay:o=0,...s}=a;return z(e,{...s,delay:o+i*n})}function J(e){return e??"md"}function y(e,i){if(!e)return null;const a=J(i);return u.isValidElement(e)?e:typeof e=="string"?t.jsx(B,{icon:e,size:a}):null}const K={sm:"btn-sm",md:"btn-md",lg:"btn-lg"};function U(e){return["inline-flex items-center justify-center gap-2","rounded-full font-semibold","h4","shadow-accent/30","button-style","button-transition","button-hover-transition","focus-visible:outline-none","w-full lg:w-auto","disabled:opacity-60 disabled:cursor-not-allowed",K[e??"md"]].filter(Boolean).join(" ")}function O({leftIcon:e,rightIcon:i,className:a="",animated:n=!0,buttonWrapperClasses:o,fullWidth:s=!1,...l}){const d=[U(l.size),"primary-button-transition border-2 border-primary primary-gradient gradient-disappear-on-hover text-bg hover:text-heading"].filter(Boolean).join(" "),p=t.jsx(N,{...l,className:`${d} ${a}`.trim(),leftIcon:y(e,l.size),rightIcon:y(i,l.size)}),b=["inline-flex",s?"w-full":"w-auto",o].filter(Boolean).join(" ");return n?t.jsx("span",{...z("zoom-in",{once:!0}),className:b,children:p}):t.jsx("span",{className:b,children:p})}const W="rounded-full",Q="inline-flex primary-button-transition w-full lg:w-auto";function X({leftIcon:e,rightIcon:i,className:a="",buttonWrapperClasses:n,fullWidth:o=!1,...s}){const l=[U(s.size),"bg-transparent text-heading shadow-none",W,a].filter(Boolean).join(" ");return t.jsx(R,{variant:"solid",triggers:"always",color:"var(--color-accent)",borderWidth:2,borderRadius:W,className:[o?"inline-flex w-full":Q,n,"primary-button-transition justify-center items-center"].filter(Boolean).join(" "),innerClassName:"p-0 shadow-none border-transparent justify-center items-center bg-transparent",children:t.jsx(N,{...s,className:l,leftIcon:y(e,s.size),rightIcon:y(i,s.size)})})}function ee({leftIcon:e,rightIcon:i,className:a="",...n}){return t.jsx(N,{...n,className:`bg-bg/25 text-bg border-0 hover:bg-primary focus:ring-primary ${a}`,leftIcon:y(e,n.size),rightIcon:y(i,n.size)})}function te({leftIcon:e,rightIcon:i,className:a="p-0",size:n="md",children:o,...s}){const g=`link-base ${n==="sm"?"link-sm":n==="lg"?"link-lg":"link-md"} ${a}`.trim();return t.jsx(N,{...s,className:g,leftIcon:y(e,n),rightIcon:y(i,n),size:n,unstyled:!0,children:o})}function ne({leftIcon:e,rightIcon:i,className:a="",...n}){return t.jsx(N,{...n,className:`bg-accent text-bg hover:bg-accent-700 focus:ring-accent ${a}`,leftIcon:y(e,n.size),rightIcon:y(i,n.size)})}function re({className:e="",children:i,...a}){return t.jsx(N,{...a,className:`group flex items-center justify-between gap-4 text-left cursor-pointer ${e}`.trim(),unstyled:!0,children:t.jsx("span",{className:"flex justify-center items-center rounded-full h-10 w-10 bg-accent",children:t.jsx(B,{icon:"lu:arrow-right",size:"lg",className:"text-bg p-0"})})})}function se({leftIcon:e,rightIcon:i,className:a="p-0",size:n="lg",children:o,...s}){const g=`link-base ${n==="sm"?"link-sm":n==="lg"?"link-lg":"link-md"} ${a}`.trim();return t.jsx(N,{...s,className:`${g} font-normal text-4xl transition-all`,leftIcon:y(e,n),rightIcon:y(i,n),size:n,unstyled:!0,children:o})}const N=({href:e,className:i="",buttonWrapperClasses:a,fullWidth:n,leftIcon:o,rightIcon:s,size:l="lg",children:g,unstyled:d=!1,animated:p,...b})=>{const m=l??"lg",c=d?i.trim():`btn-base ${m==="sm"?"btn-sm":m==="lg"?"btn-lg":"btn-md"} ${i}`.trim();if(e){const f=b;return t.jsxs("a",{href:e,className:c,...f,children:[o,g,s]})}const v=b;return t.jsxs("button",{type:v.type??"button",className:c,...v,children:[o,g,s]})},ae={primary:O,secondary:X,ghost:ee,link:te,menuItemButton:se,tertiary:ne,arrowLink:re};function F({variant:e="primary",...i}){const a=ae[e]||O;return t.jsx(a,{...i})}function ie({id:e,title:i,description:a,className:n="",children:o,isExpanded:s,onToggle:l,headerClassName:g="h5",headerSlot:d,showIndicator:p=!0,indicatorIcons:b}){const m=b?.expanded??"lucide:minus",x=b?.collapsed??"lucide:plus";return t.jsx("div",{className:`group relative ${n}`.trim(),"data-accordion-item":!0,"data-active":s?"true":"false",children:t.jsxs(R,{variant:"progress-b-f",triggers:"controlled",active:s,borderRadius:"rounded-3xl",borderWidth:2,duration:800,className:"transition-all duration-200 overflow-hidden",innerClassName:"card-bg",children:[t.jsxs("button",{type:"button",id:`${e}-trigger`,"aria-expanded":s,"aria-controls":`${e}-content`,className:`w-full text-left flex items-center justify-between px-6 py-5 hover:bg-card/60 transition-colors duration-300 cursor-pointer relative z-20 ${g}`.trim(),onClick:l,children:[d?t.jsx("div",{className:"flex-1",children:d}):t.jsx(q,{data:{title:i},layout:"horizontal",alignment:"left",className:"gap-4 flex-1",titleTag:"h3",showDescription:!1}),p&&t.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center transition-all duration-500 text-lg font-semibold ${s?"bg-primary text-bg":"bg-primary/20 text-accent"}`,"aria-hidden":"true",children:t.jsx(B,{icon:s?m:x,size:"sm",className:"w-4 h-4"})})]}),t.jsx("div",{id:`${e}-content`,role:"region","aria-labelledby":`${e}-trigger`,className:`overflow-hidden transition-all duration-500 ease-in-out relative z-20 ${s?"max-h-[600px] opacity-100":"max-h-0 opacity-0"}`,children:t.jsxs("div",{className:"px-6 pb-6",children:[t.jsx("div",{className:"w-full h-px bg-primary/15 mb-4"}),a&&t.jsx("p",{className:"text-text/90 leading-relaxed mb-4",children:a}),o]})})]})})}function he({items:e,allowMultiple:i=!1,className:a="",headerSlot:n,headerClassName:o="",showIndicator:s=!0,indicatorIcons:l}){const[g,d]=u.useState(new Set),p=u.useRef(new Map),b=m=>{d(x=>{const c=new Set(x);return c.has(m)?c.delete(m):(i||c.clear(),c.add(m)),c})};return u.useEffect(()=>{g.forEach(m=>{const x=p.current.get(m),c=e.find((v,f)=>(v.slug||`item-${f}`)===m);if(x&&c?.contentSlotId&&x.children.length===0){const v=document.getElementById(c.contentSlotId);if(v){const f=v.cloneNode(!0);f.style.display="",f.removeAttribute("id"),x.appendChild(f)}}})},[g,e]),t.jsx("div",{className:`space-y-2 ${a}`,children:e.map((m,x)=>{const c=m.slug||`item-${x}`;return t.jsx(ie,{id:c,title:m.title,description:m.description,isExpanded:g.has(c),onToggle:()=>b(c),headerSlot:n?n({item:m,id:c,expanded:g.has(c)}):void 0,headerClassName:o,showIndicator:s,indicatorIcons:l,children:t.jsx("div",{ref:v=>{v&&p.current.set(c,v)}})},c)})})}function oe({icon:e,title:i,description:a,isActive:n,progress:o=0,onToggle:s,children:l,className:g=""}){return t.jsx("div",{className:`group relative ${g}`.trim(),"data-accordion-item":!0,"data-active":n?"true":"false",children:t.jsxs(R,{variant:"progress",triggers:"controlled",active:n,controller:o,duration:300,borderRadius:"rounded-3xl",borderWidth:2,className:"transition-all duration-200",innerClassName:"card-bg",children:[t.jsxs(F,{variant:"link",type:"button",className:"w-full text-left flex items-center justify-between p-5 hover:bg-card/50 transition-colors duration-300 cursor-pointer relative z-20",onClick:s,onMouseDown:d=>d.preventDefault(),"aria-expanded":n,children:[t.jsxs("div",{className:"flex items-center gap-4",children:[e&&t.jsx("span",{className:"icon-large card-icon-color shrink-0",children:e.includes(":")?t.jsx(B,{icon:e,size:"lg",className:"w-6 h-6"}):t.jsx("span",{className:"text-2xl leading-none",children:e})}),t.jsx("div",{className:"text-left",children:t.jsx("p",{className:"h4",children:i})})]}),t.jsx("div",{className:`
              w-8 h-8 rounded-full flex items-center justify-center
              transition-all duration-[600ms] text-xl font-semibold
              ${n?"bg-primary text-bg":"bg-primary/15 text-accent group-hover:bg-primary/25"}
            `,"aria-hidden":"true",children:t.jsx("span",{children:n?"âˆ’":"+"})})]}),t.jsx("div",{className:`overflow-hidden transition-all duration-500 ease-in-out relative z-20 ${n?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"}`,children:t.jsxs("div",{className:"px-6 pb-6",children:[t.jsx("div",{className:"w-full h-px bg-primary/15 mb-4"}),a&&t.jsx("p",{className:"text-text/80 leading-relaxed mb-4",children:a}),l]})})]})})}const G=u.forwardRef(({src:e,poster:i,className:a="",autoPlay:n=!0,muted:o=!0,loop:s=!0,controls:l=!1,playsInline:g=!0,lazy:d=!0,sourceType:p,children:b,...m},x)=>{const c=u.useRef(null),v=f=>{c.current=f,typeof x=="function"?x(f):x&&(x.current=f)};return u.useEffect(()=>{const f=c.current;if(!f||!d)return;const w=new IntersectionObserver(I=>{I.forEach(C=>{if(C.isIntersecting){const $=f.dataset.videoSrc;$&&f.src!==$&&(f.src=$,f.load(),n&&f.play().catch(()=>{})),w.disconnect()}})},{threshold:.35,rootMargin:"0px 0px 160px 0px"});return w.observe(f),()=>w.disconnect()},[d,n]),t.jsxs("video",{ref:v,className:`w-full h-full object-cover ${a}`.trim(),poster:i,autoPlay:!d&&n,muted:o,loop:s,controls:l,playsInline:g,preload:d?"metadata":"auto","data-video-src":d?e:void 0,src:d?void 0:e,...m,children:[e&&t.jsx("source",{src:d?void 0:e,"data-video-src":d?e:void 0,type:p}),b??"Your browser does not support the video tag."]})});G.displayName="Video";const _=u.forwardRef(function({desktop:i=!1,className:a="",wrapperClassName:n="",overlay:o,lazy:s=!0,autoPlay:l=!0,muted:g=!0,playsInline:d=!0,controls:p,loop:b=!1,src:m,poster:x,sourceType:c,children:v,...f},w){const I=i?"w-full h-[24rem] object-cover rounded-2xl":"w-full aspect-video object-cover rounded-2xl",C=p??i;return t.jsxs("div",{className:`relative rounded-2xl overflow-hidden bg-card/40 ${n}`.trim(),children:[t.jsx(G,{ref:w,className:`${I} ${a}`.trim(),src:m??"",poster:x,autoPlay:l,muted:g,playsInline:d,controls:C,loop:b,lazy:s,sourceType:c,...f,children:v??"Your browser does not support the video tag."}),o]})}),le=e=>e.replace(/[:]/g,""),M=e=>{if(e)return e.endsWith(".mov")?"video/quicktime":e.endsWith(".webm")?"video/webm":"video/mp4"};function xe({items:e,className:i="",autoAdvanceDelay:a=3e3}){const o=Array.isArray(e)?e.filter(r=>!!r&&typeof r=="object"&&!!r.title):[],s=u.useRef(null),l=u.useRef(null),[g,d]=u.useState(0),[p,b]=u.useState(0),m=u.useId(),x=u.useMemo(()=>le(m),[m]),c=u.useRef(null),v=Z(c,{threshold:0,rootMargin:"0px 0px -20% 0px"}),f=u.useCallback(()=>{const r=s.current,h=l.current;let j=null;return r&&!r.paused&&r.currentTime>0?j=r:h&&!h.paused&&h.currentTime>0?j=h:r&&r.offsetParent!==null?j=r:h&&h.offsetParent!==null?j=h:j=r||h,!j||!Number.isFinite(j.duration)?a:Math.max(0,(j.duration-j.currentTime)*1e3)+a},[a]),{engageUser:w,beginGraceWindow:I,isAutoplayPaused:C,isResumeScheduled:$,userEngaged:ce,schedule:A}=H({totalItems:o.length,currentIndex:p,setIndex:r=>b(r),autoplayTime:f,resumeDelay:5e3,containerSelector:`[data-video-accordion="${x}"]`,itemSelector:`[data-video-accordion="${x}"] [data-accordion-item]`,inView:v,engageOnlyOnActiveItem:!0,activeItemAttr:"data-active"}),k=u.useRef(null);u.useEffect(()=>{k.current=A},[A]),u.useEffect(()=>{o.length!==0&&p>=o.length&&b(0)},[p,o.length]);const Y=u.useCallback(r=>{b(r),d(0),w(),k.current?.()},[w]),T=u.useCallback(()=>{const r=s.current,h=l.current;return r&&!r.paused&&r.currentTime>0?r:h&&!h.paused&&h.currentTime>0?h:r&&r.offsetParent!==null?r:h&&h.offsetParent!==null?h:r||h},[]),E=u.useCallback(()=>{const r=T();!r||!r.duration||(d(r.currentTime/r.duration*100),k.current?.())},[T]),P=u.useCallback(()=>{d(0),k.current?.()},[]),V=u.useCallback(()=>{d(100),I()},[I]),D=u.useCallback(()=>{w()},[w]);if(o.length===0)return null;const S=o[Math.min(p,o.length-1)];return t.jsx("div",{ref:c,...z("fade-in",{once:!0}),className:`relative ${i}`.trim(),"data-video-accordion":x,children:t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start gap-12 max-2-primary",children:[t.jsx("div",{className:"min-w-0 lg:w-1/2 lg:shrink-0 flex flex-col space-y-4","data-accordion-container":!0,children:o.map((r,h)=>{const j=r.key||r.title||`item-${h}`;return t.jsxs(oe,{icon:r.icon,title:r.title,description:r.description,isActive:p===h,progress:g,onToggle:()=>Y(h),children:[p===h&&t.jsx("div",{className:"lg:hidden mt-4",children:t.jsx(_,{ref:L=>{l.current=L},src:r.videoSrc,poster:r.videoPoster,lazy:!1,sourceType:M(r.videoSrc),onTimeUpdate:E,onEnded:V,onLoadedData:P,onClick:D,desktop:!1},`mobile-${j}`)}),r.hasPage&&r.url&&t.jsx("div",{className:"mt-4",children:t.jsxs(F,{variant:"link",href:r.url,rightIcon:"lu:arrow-right",children:["Explore ",r.title]})})]},j)})}),t.jsxs("div",{className:"hidden lg:block lg:w-1/2 min-w-0 sticky-section",children:[t.jsx(_,{ref:s,src:S?.videoSrc,poster:S?.videoPoster,sourceType:M(S?.videoSrc),lazy:!1,onTimeUpdate:E,onEnded:V,onLoadedData:P,onClick:D,desktop:!0,wrapperClassName:"shadow-2xl shadow-accent/15 bg-card/40"},`desktop-${S?.key??p}`),!1]})]})})}export{he as A,F as B,xe as V,z as a,N as b,ge as s};
