const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/CookiePreferencesModal.B0xeDn-t.js","_astro/react-core.QUkC7_l_.js","_astro/Modal.DFMVAH-B.js","_astro/useCookieStorage.Dr5prJpW.js","_astro/consent.Drqa4rP7.js","_astro/scriptManager.C4zn87OF.js","_astro/Button.OZW8xte5.js","_astro/animationProps.HaIMKbsm.js","_astro/AnimatedBorder.DlKcQoUP.js","_astro/useVisibility.B-3m_lqm.js","_astro/IntersectionObserver.CmZxnn85.js","_astro/Icon.DeSJHGIO.js","_astro/ToggleControl.kZErdDFO.js","_astro/Accordion.hkHP7VpV.js","_astro/IconListItem.BBvm4nri.js"])))=>i.map(i=>d[i]);
import{j as e,r as c}from"./react-core.QUkC7_l_.js";import{u as b,a as E,s as L,g as p,d as x}from"./useConsent.2yzZiO9j.js";/* empty css                                 */import{_ as S}from"./preload-helper.BlTxHScW.js";import{I as A}from"./Icon.DeSJHGIO.js";import"./useCookieStorage.Dr5prJpW.js";import"./consent.Drqa4rP7.js";import"./scriptManager.C4zn87OF.js";function f({checked:n,className:t="circle-box",children:a,...r}){return e.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n,className:"sr-only peer",...r}),e.jsx("span",{className:`${t} w-9 h-9 rounded-full transition-all flex items-center justify-center relative`,children:a})]})}function P(){const[n,t]=b("theme",()=>"dark",{raw:!0,deserialize:l=>l==="light"?"light":"dark"}),a=n==="light",r=l=>t(l?"light":"dark");return c.useEffect(()=>{const l=document.documentElement,u=a?"light":"dark";l.setAttribute("data-theme",u),l.style.colorScheme=u;const o=getComputedStyle(l).getPropertyValue("--color-bg").trim();if(o){let i=document.querySelector('meta[name="theme-color"]');i||(i=document.createElement("meta"),i.name="theme-color",document.head.appendChild(i)),i.setAttribute("content",o)}},[a]),[a,r]}function _(){const[n,t]=P(),a=c.useId(),r=18,u=r*.69,o=-r*.4,i=r*-.2;return e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(f,{checked:n,onChange:m=>t(m.target.checked),"aria-label":"Toggle light mode",className:"faded-bg",children:[e.jsx("div",{className:"theme-toggle-icon theme-toggle-icon--moon","aria-hidden":"true",children:e.jsxs("svg",{viewBox:"32 32 36 36",xmlns:"http://www.w3.org/2000/svg",className:"block w-4 h-4 sm:w-[14px] sm:h-[14px]",children:[e.jsx("defs",{children:e.jsxs("mask",{id:a,children:[e.jsx("rect",{width:"100%",height:"100%",fill:"#000"}),e.jsx("circle",{cx:"50",cy:"50",r:18,fill:"#fff"}),e.jsx("circle",{cx:50+o,cy:50+i,r:u,fill:"#000"})]})}),e.jsx("circle",{cx:"50",cy:"50",r:18,mask:`url(#${a})`,fill:"var(--color-primary)"})]})}),e.jsx("div",{className:"theme-toggle-icon theme-toggle-icon--sun","aria-hidden":"true",children:e.jsxs("svg",{viewBox:"13 13 74 74",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"block w-4 h-4 sm:w-[18px] sm:h-[18px]",children:[e.jsx("circle",{cx:"50",cy:"50",r:"18",fill:"var(--color-primary)"}),e.jsxs("g",{stroke:"var(--color-primary)",strokeWidth:"4",strokeLinecap:"round",children:[e.jsx("line",{x1:"50",y1:"15",x2:"50",y2:"25"}),e.jsx("line",{x1:"50",y1:"75",x2:"50",y2:"85"}),e.jsx("line",{x1:"15",y1:"50",x2:"25",y2:"50"}),e.jsx("line",{x1:"75",y1:"50",x2:"85",y2:"50"}),e.jsx("line",{x1:"25.86",y1:"25.86",x2:"32.32",y2:"32.32"}),e.jsx("line",{x1:"67.68",y1:"67.68",x2:"74.14",y2:"74.14"}),e.jsx("line",{x1:"25.86",y1:"74.14",x2:"32.32",y2:"67.68"}),e.jsx("line",{x1:"67.68",y1:"32.32",x2:"74.14",y2:"25.86"})]})]})})]})})}const g=["var(--main-accent)","var(--color-purple-700)","var(--color-teal-500)","var(--color-emerald-500)","var(--color-lime-500)","var(--color-red-500)","var(--color-pink-500)","var(--color-orange-500)","#722F37"];function I(){const n=()=>g[0],[t,a]=b("accent",n,{raw:!0,validate:r=>g.includes(r),syncTabs:!0});return c.useEffect(()=>{document.documentElement.style.setProperty("--color-accent",t)},[t]),{accent:t,setAccent:a,accents:g}}function M({color:n,checked:t,onChange:a,...r}){return e.jsxs("label",{className:"inline-block cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t,onChange:a,...r}),e.jsx("span",{className:"w-7 h-7 sm:w-8 sm:h-8 block rounded-sm border-2 border-transparent peer-checked:border-primary-light peer-checked:shadow-lg transition-colors",style:{backgroundColor:n}})]})}function R(){const[n,t]=c.useState(!1),{accent:a,setAccent:r,accents:l}=I(),u=c.useRef(null);return c.useEffect(()=>{const o=i=>{u.current?.contains(i.target)||t(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[]),e.jsxs("div",{ref:u,className:"relative inline-flex",children:[e.jsx(f,{checked:n,onChange:()=>t(o=>!o),"aria-label":"Pick accent color",className:"faded-bg",children:e.jsx("svg",{className:"w-[22px] h-[22px] lg:w-[22px] lg:h-[22px]",viewBox:"0 0 100 100",children:e.jsx("path",{d:"M50 10C50 10 25 35 25 55C25 70.464 37.536 83 50 83C62.464 83 75 70.464 75 55C75 35 50 10 50 10Z",fill:"var(--color-accent)"})})}),n&&e.jsx("div",{className:"absolute top-full mt-1 lg:mt-2 right-0 sm:left-0 sm:right-auto faded-bg rounded-xl p-2 lg:p-3 flex space-x-2 lg:space-x-3 overflow-x-auto hide-scrollbar shadow-lg z-50 w-max max-w-[calc(100vw-2.5rem)] sm:max-w-none",children:l.map(o=>e.jsx(M,{color:o,checked:a===o,onChange:()=>{r(o),t(!1)},"aria-label":`Select accent color ${o}`},o))})]})}const T=c.lazy(()=>S(()=>import("./CookiePreferencesModal.B0xeDn-t.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))),O="Please enable functional cookies to use the language switcher. You can manage your preferences in the cookie settings.";function w(){if(typeof window>"u")return x;const n=localStorage.getItem("user-language")||x.code;return p(n)||x}function z(){const[n,t]=c.useState(!1),[a,r]=c.useState(w),[l,u]=c.useState(!1),o=c.useRef(null),{hasConsentFor:i}=E(),m=i("functional");c.useEffect(()=>{r(w())},[]),c.useEffect(()=>{if(!n)return;const s=h=>{o.current?.contains(h.target)||t(!1)},d=h=>{h.key==="Escape"&&t(!1)};return document.addEventListener("mousedown",s),document.addEventListener("keydown",d),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("keydown",d)}},[n]),c.useEffect(()=>{if(typeof window>"u")return;const s=d=>{d.key==="user-language"&&r(p(d.newValue||x.code)||x)};return window.addEventListener("storage",s),()=>window.removeEventListener("storage",s)},[]);const j=()=>{u(!0),t(!1)},v=()=>{u(!1)},k=s=>{if(!m){alert(O);return}const d=p(s);d&&r(d),typeof window<"u"&&window.changeLanguage&&window.changeLanguage(s),t(!1)},C=["faded-bg",n?"ring-2 ring-primary/60":"","text-primary"].filter(Boolean).join(" "),N=a.code?.split("-")[0]?.toUpperCase()||"EN",y=a.flag;return e.jsxs("div",{ref:o,className:"relative contents",children:[e.jsx(f,{checked:n,onChange:()=>t(s=>!s),"aria-label":"Choose display language",title:m?"Choose your site language":"Enable functional cookies to change language",className:C,children:e.jsx("div",{className:"flex items-center justify-center",children:y?e.jsx("span",{className:"text-xl leading-none","aria-hidden":"true",children:y}):e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide","aria-hidden":"true",children:N})})}),n&&e.jsxs("div",{className:"absolute top-full left-1/2 z-[60] mt-3 min-w-[220px] -translate-x-1/2 rounded-2xl border card-bg p-3 shadow-2xl backdrop-blur-xl",onWheel:s=>{s.stopPropagation()},onWheelCapture:s=>s.stopPropagation(),children:[!m&&e.jsxs("button",{type:"button",onClick:j,className:"mb-2 rounded-xl border border-yellow-400/40 bg-yellow-500/15 px-3 py-2 text-xs text-text text-left transition hover:border-yellow-400 hover:bg-yellow-500/25 focus:outline-none focus-visible:ring-2 focus-visible:ring-yellow-400",children:["Enable functional cookies to switch languages.",e.jsx("span",{className:"mt-1 block text-[11px] font-semibold uppercase tracking-wide text-primary",children:"Manage consent preferences"})]}),e.jsx("div",{className:"flex max-h-64 flex-col overflow-y-auto",children:L.map(s=>{const d=s.code===a.code;return e.jsxs("button",{type:"button",className:`flex items-center gap-3 rounded-xl px-3 py-2 text-sm transition ${d?"bg-primary/20 text-primary font-semibold":"hover:bg-white/5 text-text"} ${m?"":"cursor-not-allowed opacity-60"}`,onClick:()=>k(s.code),disabled:!m,children:[s.flag&&e.jsx("span",{className:"text-lg","aria-hidden":"true",children:s.flag}),e.jsxs("span",{className:"flex-1 text-left",children:[e.jsx("span",{className:"block text-base leading-tight",children:s.nativeName}),e.jsx("span",{className:"text-xs text-text/70",children:s.name})]}),d&&e.jsx("span",{className:"text-primary","aria-label":"Currently selected language",children:e.jsx(A,{icon:"lucide:check",size:"sm",className:"text-primary"})})]},s.code)})})]}),l&&e.jsx(c.Suspense,{fallback:null,children:e.jsx(T,{isOpen:l,onClose:v})})]})}function G({className:n=""}){const t=c.useRef(null),[a]=c.useState(!1);return e.jsxs("div",{ref:t,className:["relative flex items-center gap-1.5","sm:absolute sm:top-1/2 sm:left-1/2 sm:-translate-x-1/2 sm:-translate-y-1/2","transition-opacity duration-300 ease-in-out z-999999",a?"opacity-0 pointer-events-none":"opacity-100 pointer-events-auto",n].filter(Boolean).join(" "),children:[e.jsx(z,{}),e.jsx(_,{})," ",e.jsx(R,{})," "]})}export{G as default};
