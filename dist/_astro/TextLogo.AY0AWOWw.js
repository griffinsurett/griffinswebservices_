import{r as t,j as P}from"./react-core.lhpfgRL0.js";import{c as R}from"./Counter.Dw2IrPrn.js";function Y(e){return e?.current?e.current:typeof window<"u"?window:null}function M(e){return e?e===window?typeof window<"u"&&window.scrollY||0:e.scrollTop||0:0}const z=({elementRef:e,scrollThreshold:u=10,debounceDelay:g=150,trustedOnly:b=!0,internalFlagRef:c,wheelSensitivity:a=1,onScrollActivity:x,onScrollUp:d,onScrollDown:i,onScrollStart:v,onScrollEnd:h,onDirectionChange:p,onWheelActivity:T}={})=>{const y=t.useRef(null),L=t.useRef(0),m=t.useRef("none"),w=t.useRef(!1),f=t.useRef(null),r=t.useCallback(()=>{y.current&&(clearTimeout(y.current),y.current=null)},[]),E=t.useCallback(()=>{r(),y.current=setTimeout(()=>{if(w.current){w.current=!1;const n=f.current;h?.({pos:M(n),dir:m.current})}},g)},[r,g,h]),j=t.useCallback((n,s)=>{if(Math.abs(n)<u)return;const o=f.current,l=M(o),H=n>0?"down":"up";w.current||(w.current=!0,v?.({pos:l,dir:H,source:s})),H!==m.current&&m.current!=="none"&&p?.({from:m.current,to:H,pos:l,source:s}),m.current=H;const $={dir:H,delta:Math.abs(n),pos:l,source:s};x?.($),H==="down"?i?.($):d?.($),E()},[x,i,v,d,p,E,u]);return t.useEffect(()=>{const n=Y(e);f.current=n,L.current=M(n)},[e]),t.useEffect(()=>{const n=f.current||Y(e);if(!n)return;const s=o=>{if(b&&!o.isTrusted||c?.current)return;const l=(o.deltaY||0)*a;l!==0&&(T?.({deltaY:l,deltaX:o.deltaX||0,deltaZ:o.deltaZ||0,deltaMode:o.deltaMode,event:o}),j(l,"wheel"))};return n.addEventListener("wheel",s,{passive:!0}),()=>n.removeEventListener("wheel",s)},[e,j,c,T,b,a]),t.useEffect(()=>{const n=f.current||Y(e);if(!n)return;const s=()=>{if(c?.current)return;const o=M(n),l=o-L.current;L.current=o,l!==0&&j(l,"scroll")};return n.addEventListener("scroll",s,{passive:!0}),()=>n.removeEventListener("scroll",s)},[e,j,c]),t.useEffect(()=>()=>r(),[r]),{getCurrentPos:()=>M(f.current),getLastPos:()=>L.current,getLastDir:()=>m.current,isScrolling:()=>w.current}};function N(e){if(typeof e=="number")return`0px 0px ${e}px 0px`;const u=String(e??"").trim();return/^-?\d+px$/.test(u)?`0px 0px ${u} 0px`:u||"0px"}function S(e,{threshold:u=.1,root:g=null,rootMargin:b="0px",once:c=!1,onEnter:a,onExit:x,onForward:d,onBackward:i,pauseDelay:v=100,restoreAtTopOffset:h=100,menuCheckboxId:p}={}){const[T,y]=t.useState(!1),[L,m]=t.useState(!1),w=t.useMemo(()=>N(b),[b]);t.useEffect(()=>{const r=e?.current;if(!r)return;const{isVisible:E,hasBeenSeen:j,disconnect:n}=R(r,{threshold:u,root:g,rootMargin:w,once:c,onEnter:s=>{y(!0),m(!0),a?.(s)},onExit:s=>{y(!1),x?.(s)}});return y(E),m(j),n},[e,u,g,w,c,a,x]);const f=typeof d=="function"||typeof i=="function";return z({elementRef:null,scrollThreshold:5,debounceDelay:v,onScrollActivity:f?({dir:r})=>{r==="down"?d?.():typeof window<"u"&&window.pageYOffset<=h&&i?.()}:void 0}),t.useEffect(()=>{if(!p||!f||typeof document>"u")return;const r=document.getElementById(p);if(!r)return;const E=()=>{r.checked?i?.():typeof window<"u"&&window.pageYOffset>h?d?.():i?.()};return r.addEventListener("change",E),E(),()=>r.removeEventListener("change",E)},[p,i,d,h,f]),c?L:T}function X({title:e,className:u="",firstClass:g="text-3xl -ml-[0.1rem] leading-wide font-bold",restClass:b="font-light emphasized-text uppercase text-xs lg:text-sm p-0 m-0 tracking-[0.2em]",fadeDuration:c=1200,animateOutText:a=!1}){const x=t.useRef(null),[d,i]=t.useState(!1);S(x,{threshold:0,pauseDelay:c,onForward:()=>{a&&i(!0)},onBackward:()=>i(!1)}),t.useEffect(()=>{a||i(!1)},[a]);const[v,...h]=(e||"").split(" "),p=h.join(" ");return P.jsxs("div",{ref:x,className:`${u} transform transition-opacity transition-transform ease-in-out ${d?"opacity-0 -translate-y-4":"opacity-100 translate-y-0"}`,style:{transitionDuration:`${c}ms`},children:[P.jsx("span",{className:g,style:{lineHeight:"normal"},children:v}),p&&P.jsxs("span",{className:b,style:{lineHeight:"normal"},children:[" ",p]})]})}export{X as T,z as a,Y as r,S as u};
