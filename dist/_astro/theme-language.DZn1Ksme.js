import{r as s,j as t}from"./react-core.INjS0cla.js";import{C as y}from"./theme-shared.CIwfITTU.js";const b=[{code:"en",name:"English",nativeName:"English",flag:"ðŸ‡ºðŸ‡¸"},{code:"es",name:"Spanish",nativeName:"EspaÃ±ol",flag:"ðŸ‡ªðŸ‡¸"},{code:"hi",name:"Hindi",nativeName:"à¤¹à¤¿à¤¨à¥à¤¦à¥€",flag:"ðŸ‡®ðŸ‡³"},{code:"iw",name:"Hebrew",nativeName:"×¢×‘×¨×™×ª",flag:"ðŸ‡®ðŸ‡±"},{code:"de",name:"German",nativeName:"Deutsch",flag:"ðŸ‡©ðŸ‡ª"},{code:"ru",name:"Russian",nativeName:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"uk",name:"Ukrainian",nativeName:"Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°",flag:"ðŸ‡ºðŸ‡¦"},{code:"it",name:"Italian",nativeName:"Italiano",flag:"ðŸ‡®ðŸ‡¹"},{code:"fr",name:"French",nativeName:"FranÃ§ais",flag:"ðŸ‡«ðŸ‡·"},{code:"pt",name:"Portuguese",nativeName:"PortuguÃªs",flag:"ðŸ‡µðŸ‡¹"},{code:"zh-CN",name:"Chinese (Simplified)",nativeName:"ç®€ä½“ä¸­æ–‡",flag:"ðŸ‡¨ðŸ‡³"},{code:"zh-TW",name:"Chinese (Traditional)",nativeName:"ç¹é«”ä¸­æ–‡",flag:"ðŸ‡¹ðŸ‡¼"},{code:"ja",name:"Japanese",nativeName:"æ—¥æœ¬èªž",flag:"ðŸ‡¯ðŸ‡µ"},{code:"ko",name:"Korean",nativeName:"í•œêµ­ì–´",flag:"ðŸ‡°ðŸ‡·"},{code:"ar",name:"Arabic",nativeName:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",flag:"ðŸ‡¸ðŸ‡¦"}],m=b[0];function N(n){return b.find(a=>a.code===n)}const v="open-cookie-preferences";function E(){return typeof window>"u"?!1:(window.dispatchEvent(new CustomEvent(v)),!0)}function P(n){return typeof window>"u"?()=>{}:(window.addEventListener(v,n),()=>window.removeEventListener(v,n))}const h=()=>{if(typeof document>"u")return!1;const n=document.cookie.match(/cookie-consent=([^;]*)/);if(!n)return!1;try{return JSON.parse(decodeURIComponent(n[1]))?.functional===!0}catch{return!1}},k="Please enable functional cookies to use the language switcher. You can manage your preferences in the cookie settings.",p=()=>typeof window>"u"?!1:window.getTranslationConfig?.()?.enableNative!==!1&&"Translator"in window,w=()=>typeof window>"u"?!0:window.getTranslationConfig?.()?.enableGoogle!==!1;function L({open:n,onClose:a,onLanguageChange:f}){const[i,u]=s.useState(()=>{if(typeof window>"u")return m;const e=localStorage.getItem("user-language")||m.code;return N(e)||m}),[c,l]=s.useState(()=>h());s.useEffect(()=>{n&&l(h())},[n]),s.useEffect(()=>{if(typeof window>"u")return;const e=()=>l(h());return window.addEventListener("consent-changed",e),()=>window.removeEventListener("consent-changed",e)},[]);const g=()=>{E(),a()},o=e=>{const r=w(),d=p();if(!d&&r&&!c&&e!=="en"){alert(k);return}if(!d&&!r&&e!=="en"){alert("Translation is currently disabled.");return}const C=N(e);C&&(u(C),f(e)),typeof window<"u"&&window.changeLanguage&&window.changeLanguage(e),a()};return n?t.jsx(t.Fragment,{children:n&&t.jsxs("div",{className:"absolute top-full left-1/2 z-[60] mt-3 min-w-[220px] -translate-x-1/2 rounded-2xl border card-bg p-3 shadow-2xl backdrop-blur-xl",onWheel:e=>e.stopPropagation(),onWheelCapture:e=>e.stopPropagation(),children:[!p()&&w()&&!c&&t.jsxs("button",{type:"button",onClick:g,className:"mb-2 rounded-xl border border-yellow-400/40 bg-yellow-500/15 px-3 py-2 text-xs text-text text-left transition hover:border-yellow-400 hover:bg-yellow-500/25 focus:outline-none focus-visible:ring-2 focus-visible:ring-yellow-400",children:["Enable functional cookies to switch languages.",t.jsx("span",{className:"mt-1 block text-[11px] font-semibold uppercase tracking-wide text-primary",children:"Manage consent preferences"})]}),t.jsx("div",{className:"flex max-h-64 flex-col overflow-y-auto",children:b.map(e=>{const r=e.code===i.code,d=!p()&&w()&&!c;return t.jsxs("button",{type:"button",className:`flex items-center gap-3 rounded-xl px-3 py-2 text-sm transition ${r?"bg-primary/20 text-primary font-semibold":"hover:bg-white/5 text-text"} ${d?"cursor-not-allowed opacity-60":""}`,onClick:()=>o(e.code),disabled:d,children:[e.flag&&t.jsx("span",{className:"text-lg","aria-hidden":"true",children:e.flag}),t.jsxs("span",{className:"flex-1 text-left",children:[t.jsx("span",{className:"block text-base leading-tight",children:e.nativeName}),t.jsx("span",{className:"text-xs text-text/70",children:e.name})]}),r&&t.jsx("span",{className:"text-primary","aria-label":"Currently selected language",children:t.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:t.jsx("path",{d:"M5 12l4 4L19 7"})})})]},e.code)})})]})}):null}function j(){return typeof window>"u"?"en":localStorage.getItem("user-language")||"en"}const x={en:"ðŸ‡ºðŸ‡¸",es:"ðŸ‡ªðŸ‡¸",hi:"ðŸ‡®ðŸ‡³",iw:"ðŸ‡®ðŸ‡±",de:"ðŸ‡©ðŸ‡ª",ru:"ðŸ‡·ðŸ‡º",uk:"ðŸ‡ºðŸ‡¦",it:"ðŸ‡®ðŸ‡¹",fr:"ðŸ‡«ðŸ‡·",pt:"ðŸ‡µðŸ‡¹","zh-cn":"ðŸ‡¨ðŸ‡³",zh:"ðŸ‡¨ðŸ‡³","zh-tw":"ðŸ‡¹ðŸ‡¼",ja:"ðŸ‡¯ðŸ‡µ",ko:"ðŸ‡°ðŸ‡·",ar:"ðŸ‡¸ðŸ‡¦"};function z(){const[n,a]=s.useState(!1),[f,i]=s.useState("en"),u=s.useRef(null);s.useEffect(()=>{i(j())},[]),s.useEffect(()=>{const o=e=>{e.key==="user-language"&&i(e.newValue||"en")};return window.addEventListener("storage",o),()=>window.removeEventListener("storage",o)},[]),s.useEffect(()=>{if(!n)return;const o=r=>{u.current?.contains(r.target)||a(!1)},e=r=>{r.key==="Escape"&&a(!1)};return document.addEventListener("mousedown",o),document.addEventListener("keydown",e),()=>{document.removeEventListener("mousedown",o),document.removeEventListener("keydown",e)}},[n]);const c=()=>{a(o=>!o)},l=f.toLowerCase(),g=x[l]||x[l.split("-")[0]]||x.en;return t.jsxs("div",{ref:u,className:"relative contents",children:[t.jsx(y,{checked:n,onChange:c,"aria-label":"Choose display language",title:"Choose your site language",className:`faded-bg text-primary ${n?"ring-2 ring-primary/60":""}`,children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("span",{className:"text-xl leading-none","aria-hidden":"true",children:g})})}),n&&t.jsx(L,{open:n,onClose:()=>a(!1),onLanguageChange:o=>i(o)})]})}export{z as L,b as a,N as g,P as s};
