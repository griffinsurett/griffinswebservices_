const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/CookiePreferencesModal.BdBMgiCa.js","_astro/react-core.EkFKhCmS.js","_astro/Modal.BtqBUI44.js","_astro/useCookieStorage.DjrO8vwy.js","_astro/consent.Drqa4rP7.js","_astro/scriptManager.C4zn87OF.js","_astro/Button.ByfcMYYB.js","_astro/useViewAnimation.CoM8gNl1.js","_astro/useVisibility.CSoA3ZaV.js","_astro/Icon.BBeJOJPq.js","_astro/AnimatedBorder.B2k6XdV4.js","_astro/ToggleControl.Bznd5Cbk.js","_astro/Accordion.BudgI0Bc.js","_astro/IconListItem.DRz6a6ng.js"])))=>i.map(i=>d[i]);
import{j as e,r as c}from"./react-core.EkFKhCmS.js";import{u as w,a as N,s as E,g as f,d as m}from"./useConsent.C9EIYbmZ.js";/* empty css                                 */import{_ as L}from"./preload-helper.BlTxHScW.js";import{I as y}from"./Icon.BBeJOJPq.js";import"./useCookieStorage.DjrO8vwy.js";import"./consent.Drqa4rP7.js";import"./scriptManager.C4zn87OF.js";function p({checked:n,className:t="circle-box",children:o,...r}){return e.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n,className:"sr-only peer",...r}),e.jsx("span",{className:`${t} w-8 h-8 lg:w-9 lg:h-9 rounded-full transition-all flex items-center justify-center relative`,children:o})]})}function S(){const[n,t]=w("theme",()=>"dark",{raw:!0,deserialize:l=>l==="light"?"light":"dark"}),o=n==="light",r=l=>t(l?"light":"dark");return c.useEffect(()=>{const l=document.documentElement,u=o?"light":"dark";l.setAttribute("data-theme",u),l.style.colorScheme=u;const a=getComputedStyle(l).getPropertyValue("--color-bg").trim();if(a){let i=document.querySelector('meta[name="theme-color"]');i||(i=document.createElement("meta"),i.name="theme-color",document.head.appendChild(i)),i.setAttribute("content",a)}},[o]),[o,r]}function A(){const[n,t]=S(),o=c.useId(),r=18,u=r*.69,a=-r*.4,i=r*-.2;return e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(p,{checked:n,onChange:x=>t(x.target.checked),"aria-label":"Toggle light mode",className:"faded-bg",children:[e.jsx("div",{className:"theme-toggle-icon theme-toggle-icon--moon","aria-hidden":"true",children:e.jsxs("svg",{viewBox:"32 32 36 36",xmlns:"http://www.w3.org/2000/svg",className:"block w-4 h-4 sm:w-[14px] sm:h-[14px]",children:[e.jsx("defs",{children:e.jsxs("mask",{id:o,children:[e.jsx("rect",{width:"100%",height:"100%",fill:"#000"}),e.jsx("circle",{cx:"50",cy:"50",r:18,fill:"#fff"}),e.jsx("circle",{cx:50+a,cy:50+i,r:u,fill:"#000"})]})}),e.jsx("circle",{cx:"50",cy:"50",r:18,mask:`url(#${o})`,fill:"var(--color-primary)"})]})}),e.jsx("div",{className:"theme-toggle-icon theme-toggle-icon--sun","aria-hidden":"true",children:e.jsxs("svg",{viewBox:"13 13 74 74",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"block w-4 h-4 sm:w-[18px] sm:h-[18px]",children:[e.jsx("circle",{cx:"50",cy:"50",r:"18",fill:"var(--color-primary)"}),e.jsxs("g",{stroke:"var(--color-primary)",strokeWidth:"4",strokeLinecap:"round",children:[e.jsx("line",{x1:"50",y1:"15",x2:"50",y2:"25"}),e.jsx("line",{x1:"50",y1:"75",x2:"50",y2:"85"}),e.jsx("line",{x1:"15",y1:"50",x2:"25",y2:"50"}),e.jsx("line",{x1:"75",y1:"50",x2:"85",y2:"50"}),e.jsx("line",{x1:"25.86",y1:"25.86",x2:"32.32",y2:"32.32"}),e.jsx("line",{x1:"67.68",y1:"67.68",x2:"74.14",y2:"74.14"}),e.jsx("line",{x1:"25.86",y1:"74.14",x2:"32.32",y2:"67.68"}),e.jsx("line",{x1:"67.68",y1:"32.32",x2:"74.14",y2:"25.86"})]})]})})]})})}const g=["var(--main-accent)","var(--color-purple-700)","var(--color-teal-500)","var(--color-emerald-500)","var(--color-lime-500)","var(--color-red-500)","var(--color-pink-500)","var(--color-orange-500)","#722F37"];function P(){const n=()=>g[0],[t,o]=w("accent",n,{raw:!0,validate:r=>g.includes(r),syncTabs:!0});return c.useEffect(()=>{document.documentElement.style.setProperty("--color-accent",t)},[t]),{accent:t,setAccent:o,accents:g}}function _({color:n,checked:t,onChange:o,...r}){return e.jsxs("label",{className:"inline-block cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t,onChange:o,...r}),e.jsx("span",{className:"w-8 h-8 block rounded-sm border-2 border-transparent peer-checked:border-primary-light peer-checked:shadow-lg transition-colors",style:{backgroundColor:n}})]})}function I(){const[n,t]=c.useState(!1),{accent:o,setAccent:r,accents:l}=P(),u=c.useRef(null);return c.useEffect(()=>{const a=i=>{u.current?.contains(i.target)||t(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),e.jsxs("div",{ref:u,className:"relative contents",children:[e.jsx(p,{checked:n,onChange:()=>t(a=>!a),"aria-label":"Pick accent color",className:"faded-bg",children:e.jsx("svg",{className:"w-[22px] h-[22px] lg:w-[22px] lg:h-[22px]",viewBox:"0 0 100 100",children:e.jsx("path",{d:"M50 10C50 10 25 35 25 55C25 70.464 37.536 83 50 83C62.464 83 75 70.464 75 55C75 35 50 10 50 10Z",fill:"var(--color-accent)"})})}),n&&e.jsx("div",{className:"absolute top-full mt-2 left-0 faded-bg rounded-xl p-3 flex space-x-3 overflow-x-auto hide-scrollbar shadow-lg z-50",children:l.map(a=>e.jsx(_,{color:a,checked:o===a,onChange:()=>{r(a),t(!1)},"aria-label":`Select accent color ${a}`},a))})]})}const M=c.lazy(()=>L(()=>import("./CookiePreferencesModal.BdBMgiCa.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),R="Please enable functional cookies to use the language switcher. You can manage your preferences in the cookie settings.";function b(){if(typeof window>"u")return m;const n=localStorage.getItem("user-language")||m.code;return f(n)||m}function T(){const[n,t]=c.useState(!1),[o,r]=c.useState(b),[l,u]=c.useState(!1),a=c.useRef(null),{hasConsentFor:i}=N(),x=i("functional");c.useEffect(()=>{r(b())},[]),c.useEffect(()=>{if(!n)return;const s=h=>{a.current?.contains(h.target)||t(!1)},d=h=>{h.key==="Escape"&&t(!1)};return document.addEventListener("mousedown",s),document.addEventListener("keydown",d),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("keydown",d)}},[n]),c.useEffect(()=>{if(typeof window>"u")return;const s=d=>{d.key==="user-language"&&r(f(d.newValue||m.code)||m)};return window.addEventListener("storage",s),()=>window.removeEventListener("storage",s)},[]);const j=()=>{u(!0),t(!1)},v=()=>{u(!1)},k=s=>{if(!x){alert(R);return}const d=f(s);d&&r(d),typeof window<"u"&&window.changeLanguage&&window.changeLanguage(s),t(!1)},C=["faded-bg",n?"ring-2 ring-primary/60":"","text-primary"].filter(Boolean).join(" ");return o.code?.split("-")[0]?.toUpperCase(),e.jsxs("div",{ref:a,className:"relative contents",children:[e.jsx(p,{checked:n,onChange:()=>t(s=>!s),"aria-label":"Choose display language",title:x?"Choose your site language":"Enable functional cookies to change language",className:C,children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(y,{icon:"lucide:globe",size:"sm","aria-label":"Language picker"})})}),n&&e.jsxs("div",{className:"absolute top-full left-1/2 z-[60] mt-3 min-w-[220px] -translate-x-1/2 rounded-2xl border card-bg p-3 shadow-2xl backdrop-blur-xl",onWheel:s=>{s.stopPropagation()},onWheelCapture:s=>s.stopPropagation(),children:[!x&&e.jsxs("button",{type:"button",onClick:j,className:"mb-2 rounded-xl border border-yellow-400/40 bg-yellow-500/15 px-3 py-2 text-xs text-text text-left transition hover:border-yellow-400 hover:bg-yellow-500/25 focus:outline-none focus-visible:ring-2 focus-visible:ring-yellow-400",children:["Enable functional cookies to switch languages.",e.jsx("span",{className:"mt-1 block text-[11px] font-semibold uppercase tracking-wide text-primary",children:"Manage consent preferences"})]}),e.jsx("div",{className:"flex max-h-64 flex-col overflow-y-auto",children:E.map(s=>{const d=s.code===o.code;return e.jsxs("button",{type:"button",className:`flex items-center gap-3 rounded-xl px-3 py-2 text-sm transition ${d?"bg-primary/20 text-primary font-semibold":"hover:bg-white/5 text-text"} ${x?"":"cursor-not-allowed opacity-60"}`,onClick:()=>k(s.code),disabled:!x,children:[s.flag&&e.jsx("span",{className:"text-lg","aria-hidden":"true",children:s.flag}),e.jsxs("span",{className:"flex-1 text-left",children:[e.jsx("span",{className:"block text-base leading-tight",children:s.nativeName}),e.jsx("span",{className:"text-xs text-text/70",children:s.name})]}),d&&e.jsx("span",{className:"text-primary","aria-label":"Currently selected language",children:e.jsx(y,{icon:"lucide:check",size:"sm",className:"text-primary"})})]},s.code)})})]}),l&&e.jsx(c.Suspense,{fallback:null,children:e.jsx(M,{isOpen:l,onClose:v})})]})}function q({className:n=""}){const t=c.useRef(null),[o]=c.useState(!1);return e.jsxs("div",{ref:t,className:["absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2","flex items-center gap-1 lg:gap-1.5","transition-opacity duration-300 ease-in-out",o?"opacity-0 pointer-events-none":"opacity-100 pointer-events-auto",n].filter(Boolean).join(" "),children:[e.jsx(T,{}),e.jsx(A,{})," ",e.jsx(I,{})," "]})}export{q as default};
