import{r as s,j as n}from"./react-core.aUjNHagF.js";import{u as h}from"./useCookieStorage.y-2TZ59l.js";import{b as p,a as v}from"./consent.Drqa4rP7.js";import{e as f,a as w}from"./scriptManager.C4zn87OF.js";/* empty css                                   */const u=[{code:"en",name:"English",nativeName:"English",flag:"ðŸ‡ºðŸ‡¸"},{code:"es",name:"Spanish",nativeName:"EspaÃ±ol",flag:"ðŸ‡ªðŸ‡¸"},{code:"fr",name:"French",nativeName:"FranÃ§ais",flag:"ðŸ‡«ðŸ‡·"},{code:"de",name:"German",nativeName:"Deutsch",flag:"ðŸ‡©ðŸ‡ª"},{code:"it",name:"Italian",nativeName:"Italiano",flag:"ðŸ‡®ðŸ‡¹"},{code:"pt",name:"Portuguese",nativeName:"PortuguÃªs",flag:"ðŸ‡µðŸ‡¹"},{code:"zh-CN",name:"Chinese (Simplified)",nativeName:"ç®€ä½“ä¸­æ–‡",flag:"ðŸ‡¨ðŸ‡³"},{code:"zh-TW",name:"Chinese (Traditional)",nativeName:"ç¹é«”ä¸­æ–‡",flag:"ðŸ‡¹ðŸ‡¼"},{code:"ja",name:"Japanese",nativeName:"æ—¥æœ¬èªž",flag:"ðŸ‡¯ðŸ‡µ"},{code:"ko",name:"Korean",nativeName:"í•œêµ­ì–´",flag:"ðŸ‡°ðŸ‡·"},{code:"ar",name:"Arabic",nativeName:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",flag:"ðŸ‡¸ðŸ‡¦"},{code:"ru",name:"Russian",nativeName:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"hi",name:"Hindi",nativeName:"à¤¹à¤¿à¤¨à¥à¤¦à¥€",flag:"ðŸ‡®ðŸ‡³"},{code:"iw",name:"Hebrew",nativeName:"×¢×‘×¨×™×ª",flag:"ðŸ‡®ðŸ‡±"}];function x(a){return u.find(o=>o.code===a)}function C(){const{getCookie:a}=h(),o=s.useMemo(()=>p(),[a]),l=o!==null,i=t=>v(t),g=t=>{w(t)};return s.useEffect(()=>{if(typeof window>"u")return;const t=r=>{r.key==="cookie-consent-changed"&&(console.log("ðŸ”„ Consent changed, re-evaluating scripts"),f())},c=()=>{console.log("ðŸ”„ Consent changed, re-evaluating scripts"),f()};return window.addEventListener("storage",t),window.addEventListener("consent-changed",c),()=>{window.removeEventListener("storage",t),window.removeEventListener("consent-changed",c)}},[]),{consent:o,hasConsent:l,hasConsentFor:i,enableScripts:g}}function y(){const[a,o]=s.useState(!1),l=s.useRef(null),i=s.useRef(null),{hasConsentFor:g}=C(),t=g("functional"),c=()=>{if(typeof window>"u")return u[0];const e=localStorage.getItem("user-language")||"en";return x(e)||u[0]},[r,N]=s.useState(c);s.useEffect(()=>{function e(d){l.current&&i.current&&!l.current.contains(d.target)&&!i.current.contains(d.target)&&o(!1)}if(a)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[a]),s.useEffect(()=>{function e(d){d.key==="Escape"&&a&&(o(!1),i.current?.focus())}if(a)return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a]);const m=e=>{if(!t){alert("Please enable functional cookies to use the language switcher. You can manage your preferences in the cookie settings.");return}o(!1),typeof window<"u"&&window.changeLanguage&&window.changeLanguage(e)};return n.jsxs("div",{className:"relative",children:[n.jsxs("button",{ref:i,type:"button",onClick:()=>o(!a),className:"language-switcher-button notranslate","aria-expanded":a,"aria-haspopup":"listbox","aria-label":"Choose language",title:t?"Choose language":"Enable functional cookies to change language",children:[r.flag&&n.jsx("span",{className:"text-xl leading-none notranslate","aria-hidden":"true",children:r.flag}),n.jsx("span",{className:"notranslate",children:r.nativeName}),n.jsx("svg",{className:`w-4 h-4 transition-transform ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n.jsxs("div",{ref:l,className:"language-dropdown",role:"listbox","aria-hidden":!a,"aria-label":"Available languages",children:[!t&&n.jsx("div",{className:"px-4 py-3 bg-yellow-50 border-b border-yellow-200 text-sm text-yellow-800",children:"Enable functional cookies to use translation"}),u.map(e=>n.jsxs("button",{type:"button",role:"option","aria-selected":e.code===r.code,className:"language-option notranslate",onClick:()=>m(e.code),disabled:!t,style:t?void 0:{opacity:.5,cursor:"not-allowed"},children:[e.flag&&n.jsx("span",{className:"language-option-flag notranslate","aria-hidden":"true",children:e.flag}),n.jsxs("div",{className:"language-option-text",children:[n.jsx("div",{className:"notranslate",children:e.nativeName}),n.jsx("div",{className:"language-option-native notranslate",children:e.name})]}),e.code===r.code&&n.jsx("svg",{className:"w-5 h-5 text-primary flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},e.code))]})]})}export{y as default};
