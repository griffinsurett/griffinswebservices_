---
// src/layouts/FrontPageHero.astro
// Hero with TextHero layout + Portfolio showcase
import Button from "@/components/Button/Button";
import ContentRenderer from "@/components/ContentRenderer/ContentRenderer.astro";
import SectionHeader from "@/components/SectionHeader.astro";
import Section from "@/components/Section.astro";
import ScrollIndicator from "@/components/ScrollIndicator.astro";
import { query } from "@/utils/query";
import { siteData } from "@/content/siteData";
import type { HeadingContent } from "@/content/schema";

interface CTA {
  text: string;
  link: string;
  rightIcon?: string;
}

export interface Props {
  heading?: HeadingContent;
  description?: string;
  primaryCTA?: CTA;
  className?: string;
  id?: string;
  scrollToSection?: string;
}

const defaultDescription =
  "Hand-crafted websites, automated systems, and ongoing support so you can sell more, grow faster, and stay secure without juggling multiple vendors.";

const HeroServicesList = [
  "Website Design and Development",
  "Hosting, Maintenance, and Security.",
  "Full SEO Services.",
  "Futuristic Ai Ready Web Experiences",
];

const {
  heading,
  description = siteData.description ?? defaultDescription,
  primaryCTA = {
    text: "Book An Intro Call",
    link: "#contact",
    rightIcon: "lu:arrow-right",
  },
  className = "",
  id = "hero",
  scrollToSection,
} = Astro.props as Props;
---

<Section
  id={id}
  class={`min-h-screen flex items-center justify-center relative overflow-hidden ${className}`}
>
  <div class="relative z-10 inner-section flex flex-wrap items-center h-full">
    <div class="mx-auto px-2 lg:px-0 max-w-6xl lg:max-w-7xl w-full h-full">
      <div class="lg:flex lg:flex-row lg:items-stretch lg:space-x-25 space-y-2 lg:space-y-0 h-full">
        <!-- Left side: Text content -->
        <div class="flex-1 flex flex-col gap-3 lg:gap-6 justify-left hero-content">
          <div class="flex flex-wrap items-end gap-4">
            <SectionHeader
              className="text-left lg:text-left"
              heading={heading}
              headingTag="h1"
              headingClassName="text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-[70px] leading-[1.02]"
            />
          </div>
        </div>

        <!-- Right side: Portfolio showcase -->
        <div
          class="flex-1 w-full h-full flex flex-col justify-between gap-3 sm:gap-6 md:gap-8 hero-portfolio"
        >
          <!-- <div class="flex flex-col gap-4 lg:gap-3"> -->
            <p class="text-base sm:text-xl md:text-2xl xl:text-3xl pr-5 lg:pr-auto">
              We're a New Jersey based Web Agency that creates fast, engaging
              websites built to grow your business.
            </p>
            <ul class="space-y-2 lg:space-y-3 py-2 lg:py-0">
              {
                HeroServicesList.map((service) => (
                  <li class="list-none flex items-center gap-1.5">
                    <span class="faded-bg p-1.5 rounded-full flex items-center justify-center text-accent flex-shrink-0">
                      <svg
                        class="w-3 h-3 lg:w-4 lg:h-4"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        aria-hidden="true"
                      >
                        <polyline points="20 6 9 17 4 12" />
                      </svg>
                    </span>
                    <span class="text-text text-base lg:text-lg leading-relaxed">
                      {service}
                    </span>
                  </li>
                ))
              }
            </ul>
          <!-- </div> -->
          <div
            class="flex gap-2 lg:gap-3 xl:gap-5 flex-col sm:flex-row items-start lg:items-center lg:w-full"
          >
            <Button
              href={primaryCTA.link}
              variant="primary"
              size="lg"
              rightIcon={primaryCTA.rightIcon}
            >
              {primaryCTA.text}
            </Button>

            <ContentRenderer
              query={query("testimonials")
                .where((entry) => entry.data.featured === true)
                .limit(3)}
              variant="TestimonialCirclesVariant"
              className="px-2 md:px-0"
              counterStart={10}
              counterEnd={100}
              counterDuration={1800}
              counterSuffix="+"
              counterLabel="Happy Clients"
            />
          </div>
        </div>
      </div>
    </div>
  </div>

<ScrollIndicator href={scrollToSection} />
</Section>
