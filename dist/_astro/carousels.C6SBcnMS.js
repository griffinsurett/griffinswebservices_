import{j as e,r as n}from"./react-core.INjS0cla.js";import{A as le,I as Ce,a as ue}from"./ui-primitives.CM-pdwI4.js";import{a as me,u as ge,b as pe}from"./engagement-hooks.CKajifgp.js";import{a as Me,s as xe}from"./accordion.BXVC5r2y.js";import{u as ve}from"./visibility-hooks.CrGIozah.js";function ie({tagName:t="h2",className:r="",before:u,text:o,after:m,beforeClass:a="",textClass:w="",afterClass:S="",beforeId:M,textId:g,afterId:l,beforeProps:p,textProps:i,afterProps:R,segmented:C,children:k,...s}){const A=typeof t=="string"?t.toLowerCase():"h2",_=["h1","h2","h3","h4","h5","h6"].includes(A),I=/\bh[1-6]\b/.test(r)||!_?r:`${A} ${r}`.trim(),d=u!==void 0||o!==void 0||m!==void 0,c=C!=null,x=(y,L,z)=>{const $=z??{},W=[L,$.className].filter(Boolean).join(" ");return{id:y??$.id,...$,className:W||void 0}},b=t;return e.jsx(b,{className:`${I} capitalize`,...s,children:c?e.jsxs(e.Fragment,{children:[C?.before!==void 0&&e.jsx("span",{...x(M,a,p),children:`${C.before} `}),C?.text!==void 0&&e.jsx("span",{...x(g,w,i),children:`${C.text} `}),C?.after!==void 0&&e.jsx("span",{...x(l,S,R),children:C.after})]}):d?e.jsxs(e.Fragment,{children:[u!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{...x(M,a,p),children:u})," "]}),o!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{...x(g,w,i),children:o})," "]}),m!==void 0&&e.jsx("span",{...x(l,S,R),children:m})]}):k})}function nt({children:t,className:r="",duration:u=1200,hoverSweep:o=!0,pillClassName:m="text-sm px-5 py-2.5 tracking-wider",visibleRootMargin:a}){return e.jsx("div",{className:"inline-block mb-3",children:e.jsxs("div",{className:"relative inline-block",children:[e.jsx(le,{variant:"progress-b-f",triggers:"visible",duration:u,borderRadius:"rounded-full",borderWidth:2,color:"var(--color-primary)",className:"inline-block",innerClassName:`bg-transparent border-transparent ${m}`,visibleRootMargin:a,children:e.jsx(ie,{tagName:"span",className:`uppercase tracking-wider font-semibold text-heading ${r}`,children:e.jsx("span",{"data-animate":"color-text-fade","data-animate-once":"true",className:"color-text-fade",style:{"--animation-duration":`${u}ms`},children:t})})}),o&&e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsx(le,{variant:"progress-infinite",triggers:"hover",duration:1200,borderRadius:"rounded-full",borderWidth:2,color:"var(--color-accent)",className:"w-full h-full",innerClassName:"bg-transparent border-transparent px-0 py-0 pointer-events-none",children:e.jsx("span",{className:"sr-only",children:"Decorative border sweep"})})})]})})}function be({ref:t,active:r=!0,resumeScheduled:u=!1}){const[o,m]=n.useState(!1),a=n.useRef(!1),w=n.useCallback(()=>{m(!0)},[]);return n.useEffect(()=>{r||m(!1)},[r]),n.useEffect(()=>{a.current&&!u&&m(!1),a.current=u},[u]),n.useEffect(()=>{if(o||!r)return;const S=t.current;if(S)return S.style.pointerEvents="none",()=>{S.style.pointerEvents=""}},[t,o,r]),{enabled:o,enableScroll:w}}function V(t){return t?typeof t=="string"?t.startsWith("@/")?t.replace("@/","/src/"):t:t.src?typeof t.src=="string"?t.src:t.src.src?t.src.src:t.src:"":""}const de=700,we=14,ne=we*1e3,fe=28,$e=4,Ae=220,_e=16,Ee=2200,Le=450,Oe=750;function Ie({item:t,mediaEntry:r,totalSlides:u,onCycleComplete:o,isActive:m}){const a=n.useRef(null),[w,S]=n.useState(!1),[M,g]=n.useState(!1),[l,p]=n.useState(!1),[i,R]=n.useState(ne);n.useEffect(()=>{S(!0)},[]);const C=n.useCallback(d=>{const c=Math.max(0,d.scrollHeight-d.clientHeight);if(c<=0)return 0;const x=c/we;return!Number.isFinite(x)||x<=0?fe:Math.max(fe,x)},[]),k=n.useCallback(d=>{const c=Math.max(0,d.scrollHeight-d.clientHeight);if(c<=0)return ne;const x=C(d);if(x<=0)return ne;const b=Math.round(c/x*1e3);return!Number.isFinite(b)||b<=0?ne:Math.max(ne,b)},[C]),s=me({ref:a,active:m&&l,speed:C,loop:!1,startDelay:de,resumeDelay:600,resumeOnUserInput:!0,threshold:.05,resetOnInactive:!1}),{enabled:A,enableScroll:_}=be({ref:a,active:m,resumeScheduled:s.resumeScheduled});n.useEffect(()=>{m&&(s.resetPosition(0),a.current?.scrollTo({top:0,left:0,behavior:"auto"}))},[m,s.resetPosition]),n.useEffect(()=>{if(!w)return;const d=a.current;if(!d)return;const c=d.querySelector("picture img")??d.querySelector("img");if(!c){g(!1);return}if(c.complete&&c.naturalHeight>0){g(!0);return}g(!1);const x=()=>g(!0);return c.addEventListener("load",x,{once:!0}),c.addEventListener("error",x,{once:!0}),()=>{c.removeEventListener("load",x),c.removeEventListener("error",x)}},[t,r,w]),n.useEffect(()=>{if(!M){p(!1);return}const d=a.current;if(!d)return;let c=!1,x=null;const b=()=>Math.max(0,d.scrollHeight-d.clientHeight)>$e,y=()=>{c||(c=!0,x?.(),x=null,p(!0))},L=()=>{if(typeof ResizeObserver>"u"){y();return}let $=null,W=d.scrollHeight;const P=()=>{$||($=window.setTimeout(()=>{$=null,y()},Ae))},q=()=>{$&&(window.clearTimeout($),$=null)},B=new ResizeObserver(()=>{const H=d.scrollHeight;Math.abs(H-W)>_e&&(W=H,q()),P()});B.observe(d),P(),x=()=>{B.disconnect(),$&&(window.clearTimeout($),$=null)}};if(b())L();else if(typeof ResizeObserver<"u"){const $=new ResizeObserver(()=>{b()&&($.disconnect(),L())});$.observe(d),x=()=>$.disconnect()}else y();const z=window.setTimeout(y,Ee);return()=>{x?.(),window.clearTimeout(z)}},[M]),n.useEffect(()=>{if(!l||!m){R(ne);return}const d=a.current;if(!d)return;const c=()=>R(k(d));c();const x=typeof ResizeObserver<"u"?new ResizeObserver(()=>c()):null;return x?.observe(d),()=>x?.disconnect()},[l,m,k]),n.useEffect(()=>{if(!l||!m||u<=1||s.paused)return;const d=de+i+Le,c=window.setTimeout(()=>o(),d);return()=>window.clearTimeout(c)},[m,l,o,i,u,s.paused]);const v=V(t.featuredImage)||V(t.bannerImage)||V(t.image)||"",I=()=>w?r?.sources?.length?e.jsxs("picture",{children:[r.sources.map((d,c)=>e.jsx("source",{srcSet:d.srcSet,sizes:d.sizes??r.sizes,type:d.type},`${t.slug??t.id??c}-source-${c}`)),e.jsx("img",{src:r.src,srcSet:r.srcSet,sizes:r.sizes,alt:r.alt||t.alt||t.title||"Project preview",width:r.width,height:r.height,loading:"lazy",decoding:"async",fetchPriority:"auto",draggable:!1,className:"block h-auto min-h-full w-full select-none object-cover object-top"})]}):r?.src?e.jsx("img",{src:r.src,srcSet:r.srcSet,sizes:r.sizes,alt:r.alt||t.alt||t.title||"Project preview",width:r.width,height:r.height,loading:"lazy",decoding:"async",fetchPriority:"auto",draggable:!1,className:"block h-auto min-h-full w-full select-none object-cover object-top"}):v?e.jsx("img",{src:v,alt:t.alt||t.title||"Project preview",loading:"lazy",decoding:"async",fetchPriority:"auto",draggable:!1,className:"block h-auto min-h-full w-full select-none object-cover object-top"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gradient-to-b from-bg2 via-bg to-bg/80 text-white/30",children:"Preview coming soon"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gradient-to-b from-bg2 via-bg to-bg/80"});return e.jsx("div",{className:"relative h-full w-full",onClick:_,children:e.jsxs("div",{className:"relative h-full bg-bg3",children:[e.jsx("div",{className:"flex flex-col gap-3 border-b border-white/10 px-4 py-3 text-white/70 sm:flex-row sm:items-center sm:justify-between",children:e.jsx("div",{className:"flex items-center gap-3 text-xs uppercase tracking-[0.35em] text-white/50",children:e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"h-3 w-3 rounded-full bg-gray-800"}),e.jsx("span",{className:"h-3 w-3 rounded-full bg-gray-800"}),e.jsx("span",{className:"h-3 w-3 rounded-full bg-gray-800"})]})})}),e.jsx("figure",{ref:a,className:`relative h-full overflow-y-scroll bg-black/40 ${A?"overscroll-contain touch-pan-y":"touch-none"}`,style:{WebkitOverflowScrolling:A?"touch":"auto",overscrollBehaviorY:A?"contain":"none"},children:I()})]})})}function rt({items:t=[],className:r="",mediaEntries:u=[]}){const o=n.useMemo(()=>Array.isArray(t)?t:[],[t]),m=n.useMemo(()=>Array.isArray(u)?u:[],[u]),[a,w]=n.useState(0),[S,M]=n.useState(null),[g,l]=n.useState("idle"),p=n.useRef(null),i=n.useRef(null);n.useEffect(()=>{if(!o.length){w(0),M(null),l("idle");return}w(s=>s>=o.length?0:s)},[o.length]),n.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=null),i.current&&(cancelAnimationFrame(i.current),i.current=null)},[]);const R=n.useCallback(s=>{typeof window>"u"||(M(a),w(s),l("pre"),i.current&&(cancelAnimationFrame(i.current),i.current=null),i.current=requestAnimationFrame(()=>{i.current=requestAnimationFrame(()=>{l("animating")})}),p.current&&(window.clearTimeout(p.current),p.current=null),p.current=window.setTimeout(()=>{l("idle"),M(null)},Oe))},[a]),C=n.useCallback(()=>{if(!o.length||o.length<=1||g!=="idle")return;const s=(a+1)%o.length;R(s)},[a,o.length,R,g]);if(!o.length)return null;const k="absolute inset-0 transition-transform transition-opacity duration-[750ms] ease-[cubic-bezier(0.4,0,0.2,1)]";return e.jsx("div",{className:`relative h-full ${r}`.trim(),children:e.jsx("div",{className:"relative h-full w-full overflow-hidden card-bg rounded-lg",children:o.map((s,A)=>{const _=A===a,v=A===S,I=_||v&&g!=="idle";if(!(_||v&&g!=="idle"))return null;let c="translate-x-full";return v&&g!=="idle"?c="-translate-x-full":_&&(g==="idle"||S===null?c="translate-x-0":g==="pre"?c="translate-x-full":c="translate-x-0"),e.jsx("div",{className:`${k} shadow-2xl ${c} ${I?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-hidden":_?"false":"true",children:e.jsx(Ie,{item:s,mediaEntry:m[A],totalSlides:o.length||1,onCycleComplete:C,isActive:_&&g==="idle"})},s.slug??s.id??A)})})})}const oe=1500,ye=30,X=ye*1e3,ke=X*4,he=18,ze=60,He=3e3,De=6,Pe=260,Fe=18;function We({item:t,i:r,activeIndex:u,itemsLength:o,centerW:m,centerH:a,sideW:w,sideH:S,tx:M,onSelect:g,mediaEntry:l}){const p=n.useRef(null),i=r-u,[R,C]=n.useState(!1),[k,s]=n.useState(!1),[A,_]=n.useState(X),v=i===0,I=n.useMemo(()=>i===0?"center":i===-1||i===o-1?"left":i===1||i===-(o-1)?"right":"hidden",[i,o]),d=v?"translate(-50%, 0)":"translate(-50%, -50%)",c=n.useCallback(f=>{const j=Math.max(0,f.scrollHeight-f.clientHeight);if(j<=0)return 0;const N=j/ye;return!Number.isFinite(N)||N<=0?he:Math.min(ze,Math.max(he,N))},[]),x=n.useCallback(f=>{const j=Math.max(0,f.scrollHeight-f.clientHeight);if(j<=0)return X;const N=c(f);if(N<=0)return X;const h=Math.round(j/N*1e3);return!Number.isFinite(h)||h<=0?X:Math.min(ke,Math.max(X,h))},[c]),b=me({ref:p,active:v&&R,speed:c,loop:!1,startDelay:oe,resumeDelay:900,resumeOnUserInput:!0,threshold:.1,resetOnInactive:!0}),{enabled:y,enableScroll:L}=be({ref:p,active:v,resumeScheduled:b.resumeScheduled}),[z,$]=n.useState(0);n.useEffect(()=>{if(!v)return;let f=null;const j=()=>{const N=p.current;if(N){const h=Math.max(0,N.scrollHeight-N.clientHeight),T=h>0?N.scrollTop/h*100:0;$(Math.round(T))}f=requestAnimationFrame(j)};return f=requestAnimationFrame(j),()=>{f&&cancelAnimationFrame(f)}},[v]),n.useEffect(()=>{if(!v||!k){C(!1),_(X);return}const f=p.current;if(!f)return;let j=!1,N=null;const h=()=>Math.max(0,f.scrollHeight-f.clientHeight)>De,T=()=>{j||(j=!0,N?.(),N=null,C(!0))},Y=()=>{if(typeof ResizeObserver>"u"){T();return}let U=null,ee=f.scrollHeight;const se=()=>{U||(U=window.setTimeout(()=>{U=null,T()},Pe))},E=()=>{U&&(window.clearTimeout(U),U=null)},O=new ResizeObserver(()=>{const F=f.scrollHeight;Math.abs(F-ee)>Fe&&(ee=F,E()),se()});O.observe(f),se(),N=()=>{O.disconnect(),U&&(window.clearTimeout(U),U=null)}};let D=null;h()?Y():typeof ResizeObserver<"u"?(D=new ResizeObserver(()=>{h()&&(D?.disconnect(),D=null,Y())}),D.observe(f)):T();const re=window.setTimeout(()=>{T()},He);return()=>{D?.disconnect(),N?.(),re&&window.clearTimeout(re)}},[v,k]),n.useEffect(()=>{if(!v||!R){_(X);return}const f=p.current;if(!f)return;const j=()=>{_(x(f))};j();const N=typeof ResizeObserver<"u"?new ResizeObserver(()=>j()):null;return N?.observe(f),()=>N?.disconnect()},[v,R,x]),n.useEffect(()=>{if(!v||!R||typeof window>"u")return;const f=p.current;if(!f)return;const j=T=>{f.dispatchEvent(new CustomEvent("autoscroll-user",{bubbles:!0,detail:{phase:T}}))},N=window.setTimeout(()=>{j("start")},oe),h=window.setTimeout(()=>{j("end")},oe+A);return()=>{window.clearTimeout(N),window.clearTimeout(h),j("end")}},[v,R,A]);const W="absolute left-1/2 overflow-hidden shadow-[0_25px_50px_-12px_rgba(0,0,0,0.5)] transition-all duration-700 ease-[cubic-bezier(0.4,0,0.2,1)] will-change-transform bg-gray-900";let P={width:`${w}px`,height:`${S}px`,transform:`${d} scale(0)`,zIndex:10,opacity:0,pointerEvents:"none"};v?P={width:`${m}px`,height:`${a}px`,transform:`${d} scale(1) rotateY(0deg)`,zIndex:30,opacity:1}:I==="left"?P={width:`${w}px`,height:`${S}px`,transform:`${d} translateX(-${M}px) scale(0.9) rotateY(22deg)`,zIndex:20,opacity:.4}:I==="right"&&(P={width:`${w}px`,height:`${S}px`,transform:`${d} translateX(${M}px) scale(0.9) rotateY(-22deg)`,zIndex:20,opacity:.4});const q=y?"w-full h-full bg-gray-900 overflow-y-scroll overscroll-auto touch-pan-y m-0 p-0 relative":"w-full h-full bg-gray-900 overflow-y-scroll touch-none m-0 p-0 relative",B="w-full h-full bg-gray-900 overflow-hidden pointer-events-none select-none m-0 p-0 relative",H=v?{WebkitOverflowScrolling:y?"touch":"auto",overscrollBehaviorY:y?"auto":"none"}:void 0,J=()=>{const f=V(t.featuredImage)||V(t.bannerImage)||V(t.image)||"";if(t.imageSources){if(v&&t.imageSources.center)return t.imageSources.center;if((I==="left"||I==="right")&&t.imageSources.side)return t.imageSources.side;if(t.imageSources.mobile)return t.imageSources.mobile}return f},K=()=>t.dimensions?.aspectRatio&&a>0?{objectFit:"cover",objectPosition:"center top"}:{objectFit:"cover",objectPosition:"center top"},G=J(),Z=l?.alt||t.alt||t.title||"Project preview",Q=()=>l?.sources?.length?e.jsxs("picture",{children:[l.sources.map((f,j)=>e.jsx("source",{srcSet:f.srcSet,sizes:f.sizes??l.sizes,type:f.type},`source-${j}`)),e.jsx("img",{src:l.src,srcSet:l.srcSet,sizes:l.sizes,alt:Z,width:l.width,height:l.height,loading:"lazy",decoding:"async",draggable:!1,className:"block w-full h-auto min-h-full select-none object-cover object-top"})]}):l?.src?e.jsx("img",{src:l.src,srcSet:l.srcSet,sizes:l.sizes,alt:Z,width:l.width,height:l.height,loading:"lazy",decoding:"async",draggable:!1,className:"block w-full h-auto min-h-full select-none object-cover object-top"}):G?e.jsx("img",{src:G,alt:Z,loading:r===0?"eager":"lazy",draggable:!1,className:"block w-full h-auto min-h-full select-none",style:K(),decoding:"async"}):e.jsx("div",{className:"flex h-full w-full bg-gradient-to-b from-bg2 via-bg to-bg/80"});return n.useEffect(()=>{if(!v){s(!1);return}const f=p.current;if(!f)return;const j=f.querySelector("picture img")??f.querySelector("img");if(!j){s(!0);return}const N=()=>s(!0);if(j.complete&&j.naturalHeight>0){s(!0);return}return s(!1),j.addEventListener("load",N,{once:!1}),j.addEventListener("error",N,{once:!1}),()=>{j.removeEventListener("load",N),j.removeEventListener("error",N)}},[v,l,G]),e.jsxs("div",{className:`${W} ${v?"top-0":"top-1/2"}`,style:P,"data-carousel-item":!0,"data-index":r,"data-active":v?"true":"false",onClick:()=>{v?L():g(r)},children:[e.jsx("figure",{ref:p,className:v?q:B,style:H,"aria-hidden":v?"false":"true",tabIndex:v?0:-1,children:Q()}),!1]})}const Ue=({className:t=""})=>e.jsx("svg",{className:t,fill:"currentColor",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"})}),Be=({className:t=""})=>e.jsx("svg",{className:t,fill:"currentColor",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"})}),qe={floating:"absolute z-40 w-10 h-10 md:w-12 md:h-12 rounded-full bg-heading/10 border border-heading/20 text-text backdrop-blur-sm hover:bg-heading/20 transition hover:border-heading/75",inline:"w-10 h-10 md:w-12 md:h-12 rounded-full faded-bg text-text backdrop-blur-sm transition hover:bg-heading/20 hover:border-heading/50"},Ye="mx-auto my-auto w-4.5 h-4.5 md:w-6 md:h-6",Se=({direction:t="left",variant:r="floating",position:u,className:o="",iconClassName:m,disabled:a,...w})=>{const S=t==="left"?Ue:Be,M=t==="left"?"Previous":"Next",g=r==="custom"?o:qe[r]||`${r} ${o}`.trim(),l=u?{left:u.left,right:u.right,top:u.top??"50%",transform:u.transform??"translate(-50%, -50%)",...u}:void 0;return e.jsx("button",{type:"button","aria-label":M,className:g,style:l,disabled:a,...w,children:e.jsx(S,{className:m||Ye})})},je=t=>e.jsx(Se,{direction:"left",...t}),Te=t=>e.jsx(Se,{direction:"right",...t});function Ne({containerRef:t,totalItems:r,currentIndex:u,setIndex:o,autoplay:m=!0,autoplayTime:a=4e3,threshold:w=.3,resumeDelay:S=5e3,resumeTriggers:M=["scroll","click-outside","hover-away"],pauseOnEngage:g=!0,engageOnlyOnActiveItem:l=!0,activeItemAttr:p="data-active"}){const i=n.useMemo(()=>`carousel-${Math.random().toString(36).slice(2,8)}`,[]),R=ve(t,{threshold:w}),C=ge({totalItems:r,currentIndex:u,setIndex:o,autoplayTime:a,resumeDelay:S,resumeTriggers:M,containerSelector:`[data-autoplay-scope="${i}"]`,itemSelector:`[data-autoplay-scope="${i}"] [data-carousel-item]`,inView:m&&R,pauseOnEngage:g,engageOnlyOnActiveItem:l,activeItemAttr:p});return{scopeId:i,inView:R,...C}}function st({items:t=[],mediaEntries:r=[],defaultIndex:u=0,autoplay:o=!0,autoAdvanceDelay:m=5e3,showArrows:a=!0,showDots:w=!0,drag:S=!1,className:M=""}){const g=n.useRef(null),[l,p]=n.useState(u),[i,R]=n.useState(0),[C,k]=n.useState(!1);n.useEffect(()=>{k(!0)},[]);const s=n.useMemo(()=>Array.isArray(t)?t:[],[t]),A=n.useMemo(()=>Array.isArray(r)?r:[],[r]),_=i>0;n.useLayoutEffect(()=>{if(typeof window>"u")return;const h=g.current;if(!h)return;const T=()=>{const D=h.getBoundingClientRect().width;D&&D!==i&&R(D)};T();const Y=new ResizeObserver(T);return Y.observe(h),window.addEventListener("resize",T,{passive:!0}),()=>{Y.disconnect(),window.removeEventListener("resize",T)}},[i]);const{scopeId:v}=Ne({containerRef:g,totalItems:s.length,currentIndex:l,setIndex:p,autoplay:o,autoplayTime:m}),I=()=>{const h=i;return h<640?{centerW:280,centerH:190,sideW:180,sideH:120}:h<768?{centerW:340,centerH:230,sideW:220,sideH:150}:h<1024?{centerW:460,centerH:310,sideW:290,sideH:190}:h<1280?{centerW:680,centerH:450,sideW:420,sideH:290}:{centerW:860,centerH:540,sideW:520,sideH:360}},d=h=>{const T=i,D=-(T>=1536?72:T>=1280?56:T>=1024?40:20);return T/2-h/2-D},{centerW:c,centerH:x,sideW:b,sideH:y}=_?I():{centerW:0,centerH:0,sideW:0,sideH:0},L=_?d(b):0,z=()=>p(h=>h===0?s.length-1:h-1),$=()=>p(h=>h===s.length-1?0:h+1),P=(i>=768?48:40)/2,q=i>=1024?20:16,B=i>=1280,H=c/2+P+q,J=B?`calc(50% - ${L}px)`:`calc(50% - ${H}px)`,K=B?`calc(50% + ${L}px)`:`calc(50% + ${H}px)`,G=n.useRef(null),Z=n.useRef(null);pe({enabled:_&&S&&s.length>1,leftElRef:G,rightElRef:Z,onLeft:z,onRight:$,dragThreshold:Math.max(40,Math.round(i*.05)),tapThreshold:12});const Q=Math.max(140,Math.min(b,520)),f=h=>({left:`calc(50% ${h>=0?"+":"-"} ${Math.abs(h)}px)`,transform:"translateX(-50%)",width:`${Q}px`,top:0,height:"100%"}),j=B?L:H,N=B?L:H;return s.length?e.jsx("div",{ref:g,...Me("fade-in",{once:!0}),"data-carousel-container":!0,"data-autoplay-scope":v,suppressHydrationWarning:!0,className:`w-full ${M}`.trim(),children:_&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative overflow-visible w-full leading-none",style:{height:`${x}px`},children:[s.map((h,T)=>e.jsx(We,{item:h,i:T,activeIndex:l,itemsLength:s.length,centerW:c,centerH:x,sideW:b,sideH:y,tx:L,onSelect:p,mediaEntry:C?A[T]:void 0},h.slug??h.id??T)),S&&s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:G,className:"absolute z-30 cursor-grab touch-pan-x select-none",style:f(-j),"aria-hidden":"true","data-drag-zone":"left"}),e.jsx("div",{ref:Z,className:"absolute z-30 cursor-grab touch-pan-x select-none",style:f(N),"aria-hidden":"true","data-drag-zone":"right"})]}),a&&s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(je,{onClick:z,variant:"floating",position:{left:J,top:"50%",transform:"translate(-50%, -50%)"}}),e.jsx(Te,{onClick:$,variant:"floating",position:{left:K,top:"50%",transform:"translate(-50%, -50%)"}})]})]}),w&&s.length>1&&e.jsx("nav",{className:"mt-6 flex justify-center gap-3","aria-label":"Carousel Pagination",children:s.map((h,T)=>e.jsx("button",{type:"button",onClick:()=>p(T),className:`w-3 h-3 rounded-full transition-all duration-300 ${T===l?"bg-primary scale-[1.30]":"faded-bg"}`,"aria-label":`Go to slide ${T+1}`},T))})]})}):null}const Xe=n.forwardRef(function({items:r=[],renderItem:u=()=>null,children:o,speed:m=30,duplicateCount:a=3,autoplay:w=!0,pauseOnHover:S=!0,pauseOnEngage:M=!0,startDelay:g=2500,gap:l=24,itemWidth:p=120,gradientMask:i=!0,gradientWidth:R={base:48,md:80},threshold:C=.3,onItemInteraction:k,resumeDelay:s=500,resumeTriggers:A=["scroll","click-outside","hover-away"],containerSelector:_,itemSelector:v,className:I="",trackClassName:d=""},c){const x=n.useRef(null),b=n.useRef(null),[y,L]=n.useState(0),z=n.useMemo(()=>`smooth-carousel-${Math.random().toString(36).slice(2,8)}`,[]);n.useImperativeHandle(c,()=>({container:x.current,track:b.current,getCurrentOffset:()=>y,setOffset:L}));const $=ve(x,{threshold:C}),W=n.useMemo(()=>n.Children.toArray(o).filter(Boolean),[o]),P=W.length>0,q=P?W.length:r.length,B=n.useMemo(()=>P?Array.from({length:a},(E,O)=>W.map((F,te)=>({type:"child",node:F,originalIndex:te,duplicateIndex:O}))).flat():Array.from({length:a},(E,O)=>r.map((F,te)=>({type:"item",item:F,originalIndex:te,duplicateIndex:O}))).flat(),[W,a,r,P]),H=q*p,{engageUser:J,isAutoplayPaused:K,userEngaged:G,isResumeScheduled:Z,pause:Q,resume:f}=ge({totalItems:Math.max(q,1),currentIndex:q>0?Math.floor(Math.abs(y)/p)%q:0,setIndex:()=>{},autoplayTime:50,resumeDelay:s,resumeTriggers:A,containerSelector:_||`[data-autoplay-scope="${z}"]`,itemSelector:v||`[data-autoplay-scope="${z}"] [data-smooth-item]`,inView:w&&$,pauseOnEngage:M,engageOnlyOnActiveItem:!1,activeItemAttr:"data-active"}),[j,N]=n.useState(!1);n.useEffect(()=>{if(!(w&&$&&!K)){N(!1);return}const O=window.setTimeout(()=>N(!0),g);return()=>window.clearTimeout(O)},[w,$,K,g]),n.useEffect(()=>{if(!j)return;let E,O=performance.now();const F=te=>{const Re=(te-O)/1e3;O=te,L(ce=>{if(H<=0)return ce;let ae=ce-m*Re;return Math.abs(ae)>=H&&(ae+=H),ae}),E=requestAnimationFrame(F)};return E=requestAnimationFrame(F),()=>cancelAnimationFrame(E)},[j,m,H]);const h=n.useRef(null),T=n.useCallback(()=>{h.current&&(window.clearTimeout(h.current),h.current=null)},[]),Y=n.useCallback(()=>{T(),h.current=window.setTimeout(()=>{f(),h.current=null},s)},[T,f,s]),D=(E,O,F)=>{M&&(J(),Q()),k?.(E,O,F)},re=()=>{S&&(J(),Q())},U=()=>{S&&Y()};n.useEffect(()=>()=>T(),[T]);const[ee,se]=n.useState(()=>typeof window>"u"?R.base:window.innerWidth>=768?R.md:R.base);return n.useEffect(()=>{if(typeof window>"u")return;const E=()=>{se(window.innerWidth>=768?R.md:R.base)};return window.addEventListener("resize",E,{passive:!0}),()=>window.removeEventListener("resize",E)},[R.base,R.md]),e.jsxs("div",{ref:x,"data-autoplay-scope":z,className:`relative w-full overflow-hidden ${I}`.trim(),"data-smooth-carousel":!0,onMouseEnter:re,onMouseLeave:U,children:[i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-gradient-to-r from-bg to-transparent z-10 pointer-events-none",style:{width:`${ee}px`}}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-gradient-to-l from-bg to-transparent z-10 pointer-events-none",style:{width:`${ee}px`}})]}),e.jsx("div",{className:"overflow-hidden",style:{paddingInline:`${ee}px`},children:e.jsx("div",{ref:b,className:`flex items-center ${d}`.trim(),style:{transform:`translateX(${y}px)`,width:"max-content",gap:`${l}px`},children:B.map((E,O)=>e.jsx("div",{"data-smooth-item":!0,className:"flex-shrink-0",onMouseEnter:()=>D(E,O,"hover"),children:E.type==="child"?E.node:u(E.item,O,{isActive:!1,onInteraction:F=>D(E.item,O,F)})},`${E.originalIndex}-${E.duplicateIndex}-${O}`))})}),!1]})});function Ge({name:t,index:r,onTechHover:u,onTechLeave:o,showName:m=!1,className:a="",children:w}){const[S,M]=n.useState(!1),g=n.useRef(null);n.useEffect(()=>()=>{g.current&&window.clearTimeout(g.current)},[]);const l=()=>u?.(t),p=()=>{M(!1),o?.()},i=()=>{g.current&&window.clearTimeout(g.current),M(!0),u?.(t),g.current=window.setTimeout(()=>{M(!1),o?.()},2500)};return e.jsxs("div",{...xe("fade-in",r,{once:!0,staggerDelay:50}),"data-tech-item":!0,"data-tech-name":t,"data-index":r,className:`group flex flex-col items-center flex-shrink-0 ${a}`.trim(),role:"button",tabIndex:0,"aria-label":t,onMouseEnter:l,onMouseLeave:p,onFocus:l,onBlur:p,onTouchStart:i,children:[e.jsx("div",{className:"relative p-2 transition-all duration-300 group-hover:scale-110 cursor-pointer select-none",children:e.jsx("div",{className:`relative text-heading transition-opacity duration-300 ${S?"opacity-100":"opacity-70 group-hover:opacity-100"}`,children:w})}),m?e.jsx("div",{className:`mt-2 text-xs md:text-sm text-muted transition-all duration-300 whitespace-nowrap ${S?"opacity-100 translate-y-0":"opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0"}`,children:t}):e.jsx("span",{className:"sr-only",children:t})]})}function at({technologies:t=[],className:r=""}){const[u,o]=n.useState(null),m=n.useMemo(()=>t.filter(a=>a?.title).map(a=>({name:a.title??"",icon:a.icon??"lucide:code"})),[t]);return e.jsx("div",{className:`inner-section text-center lg:text-left ${r}`.trim(),children:e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-[1fr_2fr] gap-6 lg:gap-8 items-center",children:[e.jsx("div",{className:"w-sm",children:e.jsxs("div",{className:"relative inline-block mb-6 leading-tight",children:[e.jsx(ie,{tagName:"h2",before:"We've mastered ",text:"the tools that matter.",className:`transition-opacity duration-150 ${u?"opacity-0":"opacity-100"}`,beforeClass:"text-heading block lg:inline",textClass:"text-heading block lg:inline"}),e.jsx(ie,{tagName:"h2",before:"We've mastered ",text:u??"",className:`absolute inset-0 pointer-events-none transition-opacity duration-150 ${u?"opacity-100":"opacity-0"}`,beforeClass:"text-heading block lg:inline",textClass:"text-accent block lg:inline"})]})}),e.jsx(Xe,{startDelay:5e3,speed:30,gap:32,itemWidth:120,autoplay:!0,pauseOnHover:!0,pauseOnEngage:!0,gradientMask:!0,gradientWidth:{base:48,md:72},className:"relative w-full h-[84px] md:h-[96px]",children:m.map((a,w)=>e.jsx(Ge,{name:a.name,index:w,onTechHover:o,onTechLeave:()=>o(null),children:e.jsx(Ce,{icon:a.icon,size:"xl","aria-label":a.name})},`${a.name}-${w}`))})]})})}const Ze="/assets/placeholder.jpg";function Ve({item:t,className:r="",ringDuration:u=800}){const o=t.description??"",m=t.author??t.title??"Happy Client",a=[t.role,t.company].filter(Boolean).join(", "),w=Math.max(1,Math.min(5,t.rating??5)),S=V(t.featuredImage)||Ze;return e.jsx("div",{className:r,children:e.jsxs(le,{variant:"progress-b-f",triggers:"hover",duration:u,borderRadius:"rounded-3xl",borderWidth:2,className:"group text-left outer-card-transition !duration-[900ms] ease-out",innerClassName:"h-100 md:h-90 lg:h-80 mx-auto px-10 flex flex-col justify-center items-start relative card-bg",children:[e.jsx("div",{className:"inner-card-style inner-card-transition inner-card-color"}),e.jsx(ue,{data:{icon:"❝",description:o?`“${o}”`:void 0},layout:"vertical",alignment:"left",iconClassName:"card-icon-color icon-medium mb-5 z-10 relative",descriptionClassName:"text-text text-lg leading-relaxed mb-8 italic relative z-10",descriptionTag:"p",showTitle:!1}),e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 relative z-10 w-full",children:[e.jsx(ue,{data:{image:{src:S,alt:m},title:m,description:a||void 0},layout:"horizontal",alignment:"left",className:"gap-2",imageClassName:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",titleClassName:"h4",titleTag:"span",descriptionClassName:"text-text text-sm",descriptionTag:"p",showIcon:!1,showImage:!0,showTitle:!0,showDescription:!!a}),e.jsx("div",{className:"flex gap-1 text-center justify-center items-center",children:Array.from({length:w}).map((M,g)=>e.jsx("svg",{className:"w-5 h-5 text-accent fill-current",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`star-${g}`))})]})]})})}function ot({items:t=[],slidesPerView:r={base:1,md:2},gap:u=32,autoplay:o=!0,autoAdvanceDelay:m=4500,showArrows:a=!1,showDots:w=!0,drag:S=!1,className:M=""}){const g=n.useRef(null),l=n.useRef(null),p=n.useRef(null),[i,R]=n.useState(typeof window<"u"?window.innerWidth:1024);n.useEffect(()=>{if(typeof window>"u")return;const b=()=>R(window.innerWidth);return window.addEventListener("resize",b,{passive:!0}),()=>window.removeEventListener("resize",b)},[]);const C=n.useMemo(()=>{const b=[{key:"base",min:0},{key:"sm",min:640},{key:"md",min:768},{key:"lg",min:1024},{key:"xl",min:1280},{key:"2xl",min:1536}];let y=r.base??1;for(const{key:L,min:z}of b)i>=z&&r[L]!=null&&(y=r[L]);return Math.max(1,Number(y)||1)},[r,i]),k=n.useMemo(()=>{const b=[];for(let y=0;y<t.length;y+=C)b.push(t.slice(y,y+C));return b.length?b:[[]]},[t,C]),s=k.length,[A,_]=n.useState(0);n.useEffect(()=>{A>=s&&_(s-1)},[s,A]),Ne({containerRef:g,totalItems:s,currentIndex:A,setIndex:_,autoplay:o,autoplayTime:m,threshold:.3,resumeDelay:5e3,resumeTriggers:["scroll","click-outside","hover-away"],pauseOnEngage:!0,engageOnlyOnActiveItem:!0,activeItemAttr:"data-active"});const v=()=>_(b=>b===0?s-1:b-1),I=()=>_(b=>b===s-1?0:b+1),[d,c]=n.useState(!1);n.useEffect(()=>{if(s<=1)return;c(!0);const b=setTimeout(()=>c(!1),550);return()=>clearTimeout(b)},[A,s]),pe({enabled:S&&s>1,leftElRef:l,rightElRef:p,onLeft:v,onRight:I,dragThreshold:Math.max(40,Math.round(i*.05)),tapThreshold:12});const x=120;return e.jsxs("div",{ref:g,className:`relative w-full ${M}`.trim(),children:[e.jsxs("div",{className:`relative grid items-center gap-x-4 md:gap-x-6 ${a&&s>1?"grid-cols-[auto_1fr_auto]":"grid-cols-1"}`,children:[a&&s>1&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(je,{onClick:v,variant:"inline"})}),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"relative z-20 flex transition-transform duration-500 ease-in-out",style:{width:`${s*100}%`,transform:`translateX(-${A*100/s}%)`},children:k.map((b,y)=>e.jsx("div",{"data-carousel-item":!0,"data-active":y===A?"true":"false",className:"shrink-0",style:{width:`${100/s}%`},children:e.jsx("div",{className:"grid",style:{gridTemplateColumns:`repeat(${C}, minmax(0, 1fr))`,gap:u},children:b.map((L,z)=>e.jsx("div",{className:"min-w-0",...xe("scale-in",y*C+z,{once:!0,staggerDelay:x}),children:e.jsx(Ve,{item:L})},`testimonial-${y}-${z}`))})},`page-${y}`))}),d&&e.jsx("div",{className:"absolute inset-0 z-30 pointer-events-auto","aria-hidden":"true"}),S&&s>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:l,className:"absolute top-0 left-0 h-full z-40 cursor-grab touch-pan-x select-none",style:{width:"50%"},"aria-hidden":"true"}),e.jsx("div",{ref:p,className:"absolute top-0 right-0 h-full z-40 cursor-grab touch-pan-x select-none",style:{width:"50%"},"aria-hidden":"true"})]})]}),a&&s>1&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Te,{onClick:I,variant:"inline"})})]}),w&&s>1&&e.jsx("nav",{className:"mt-6 flex justify-center gap-3","aria-label":"Carousel Pagination",children:Array.from({length:s}).map((b,y)=>e.jsx("button",{type:"button",onClick:()=>_(y),className:`w-3 h-3 rounded-full transition-all duration-300 ${y===A?"bg-primary scale-[1.30]":"faded-bg"}`,"aria-label":`Go to page ${y+1}`},`dot-${y}`))})]})}export{nt as B,rt as P,at as T,st as a,ot as b};
