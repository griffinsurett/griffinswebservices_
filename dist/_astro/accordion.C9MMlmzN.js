import{r as c,j as t}from"./react-core.INjS0cla.js";import{I as B,A as z,a as H}from"./ui-primitives.B02S2cKU.js";import{u as J}from"./visibility-hooks.CrGIozah.js";import{u as Q}from"./engagement-hooks.CKajifgp.js";function E(e,o={}){const{once:a=!0,delay:n,duration:i}=o,s={"data-animate":e};if(a&&(s["data-animate-once"]="true"),n!==void 0||i!==void 0){const d={};n!==void 0&&(s["data-animate-delay"]=String(n),d["--animation-delay"]=`${n}ms`),i!==void 0&&(d["--animation-duration"]=`${i}ms`),s.style=d}return s}function be(e,o,a={}){const{staggerDelay:n=100,delay:i=0,...s}=a;return E(e,{...s,delay:i+o*n})}function X(e){return e??"md"}function w(e,o){if(!e)return null;const a=X(o);return c.isValidElement(e)?e:typeof e=="string"?t.jsx(B,{icon:e,size:a}):null}const ee={sm:"btn-sm",md:"btn-md",lg:"btn-lg"};function G(e){return["inline-flex items-center justify-center gap-2","rounded-full font-semibold","h4","shadow-accent/30","button-style","button-transition","button-hover-transition","focus-visible:outline-none","w-full lg:w-auto","disabled:opacity-60 disabled:cursor-not-allowed",ee[e??"md"]].filter(Boolean).join(" ")}function Y({leftIcon:e,rightIcon:o,className:a="",animated:n=!0,buttonWrapperClasses:i,fullWidth:s=!1,...d}){const l=[G(d.size),"primary-button-transition border-2 border-primary primary-gradient gradient-disappear-on-hover text-bg hover:text-heading"].filter(Boolean).join(" "),g=t.jsx(C,{...d,className:`${l} ${a}`.trim(),leftIcon:w(e,d.size),rightIcon:w(o,d.size)}),b=["inline-flex",s?"w-full":"w-auto",i].filter(Boolean).join(" ");return n?t.jsx("span",{...E("zoom-in",{once:!0}),className:b,children:g}):t.jsx("span",{className:b,children:g})}const U="rounded-full",te="inline-flex primary-button-transition w-full lg:w-auto";function ne({leftIcon:e,rightIcon:o,className:a="",buttonWrapperClasses:n,fullWidth:i=!1,...s}){const d=[G(s.size),"bg-transparent text-heading shadow-none",U,a].filter(Boolean).join(" ");return t.jsx(z,{variant:"solid",triggers:"always",color:"var(--color-accent)",borderWidth:2,borderRadius:U,className:[i?"inline-flex w-full":te,n,"primary-button-transition justify-center items-center"].filter(Boolean).join(" "),innerClassName:"p-0 shadow-none border-transparent justify-center items-center bg-transparent",children:t.jsx(C,{...s,className:d,leftIcon:w(e,s.size),rightIcon:w(o,s.size)})})}function re({leftIcon:e,rightIcon:o,className:a="",...n}){return t.jsx(C,{...n,className:`bg-bg/25 text-bg border-0 hover:bg-primary focus:ring-primary ${a}`,leftIcon:w(e,n.size),rightIcon:w(o,n.size)})}function se({leftIcon:e,rightIcon:o,className:a="p-0",size:n="md",children:i,...s}){const x=`link-base ${n==="sm"?"link-sm":n==="lg"?"link-lg":"link-md"} ${a}`.trim();return t.jsx(C,{...s,className:x,leftIcon:w(e,n),rightIcon:w(o,n),size:n,unstyled:!0,children:i})}function ae({leftIcon:e,rightIcon:o,className:a="",...n}){return t.jsx(C,{...n,className:`bg-accent text-bg hover:bg-accent-700 focus:ring-accent ${a}`,leftIcon:w(e,n.size),rightIcon:w(o,n.size)})}function oe({className:e="",children:o,...a}){return t.jsx(C,{...a,className:`group flex items-center justify-between gap-4 text-left cursor-pointer ${e}`.trim(),unstyled:!0,children:t.jsx("span",{className:"flex justify-center items-center rounded-full h-10 w-10 bg-accent",children:t.jsx(B,{icon:"lu:arrow-right",size:"lg",className:"text-bg p-0"})})})}function ie({leftIcon:e,rightIcon:o,className:a="p-0",size:n="lg",children:i,...s}){const x=`link-base ${n==="sm"?"link-sm":n==="lg"?"link-lg":"link-md"} ${a}`.trim();return t.jsx(C,{...s,className:`${x} font-normal text-4xl transition-all`,leftIcon:w(e,n),rightIcon:w(o,n),size:n,unstyled:!0,children:i})}const C=({href:e,className:o="",buttonWrapperClasses:a,fullWidth:n,leftIcon:i,rightIcon:s,size:d="lg",children:x,unstyled:l=!1,animated:g,...b})=>{const f=d??"lg",u=l?o.trim():`btn-base ${f==="sm"?"btn-sm":f==="lg"?"btn-lg":"btn-md"} ${o}`.trim();if(e){const h=b;return t.jsxs("a",{href:e,className:u,...h,children:[i,x,s]})}const v=b;return t.jsxs("button",{type:v.type??"button",className:u,...v,children:[i,x,s]})},le={primary:Y,secondary:ne,ghost:re,link:se,menuItemButton:ie,tertiary:ae,arrowLink:oe};function ce({variant:e="primary",...o}){const a=le[e]||Y;return t.jsx(a,{...o})}function de({id:e,title:o,description:a,className:n="",children:i,isExpanded:s,onToggle:d,headerClassName:x="h5",headerSlot:l,showIndicator:g=!0,indicatorIcons:b}){const f=b?.expanded??"lucide:minus",p=b?.collapsed??"lucide:plus";return t.jsx("div",{className:`group relative ${n}`.trim(),"data-accordion-item":!0,"data-active":s?"true":"false",children:t.jsxs(z,{variant:"progress-b-f",triggers:"controlled",active:s,borderRadius:"rounded-3xl",borderWidth:2,duration:800,className:"transition-all duration-200 overflow-hidden",innerClassName:"card-bg",children:[t.jsxs("button",{type:"button",id:`${e}-trigger`,"aria-expanded":s,"aria-controls":`${e}-content`,className:`w-full text-left flex items-center justify-between px-6 py-5 hover:bg-card/60 transition-colors duration-300 cursor-pointer relative z-20 ${x}`.trim(),onClick:d,children:[l?t.jsx("div",{className:"flex-1",children:l}):t.jsx(H,{data:{title:o},layout:"horizontal",alignment:"left",className:"gap-4 flex-1",titleTag:"h3",showDescription:!1}),g&&t.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center transition-all duration-500 text-lg font-semibold ${s?"bg-primary text-bg":"bg-primary/20 text-accent"}`,"aria-hidden":"true",children:t.jsx(B,{icon:s?f:p,size:"sm",className:"w-4 h-4"})})]}),t.jsx("div",{id:`${e}-content`,role:"region","aria-labelledby":`${e}-trigger`,className:`overflow-hidden transition-all duration-500 ease-in-out relative z-20 ${s?"max-h-[600px] opacity-100":"max-h-0 opacity-0"}`,children:t.jsxs("div",{className:"px-6 pb-6",children:[t.jsx("div",{className:"w-full h-px bg-primary/15 mb-4"}),a&&t.jsx("p",{className:"text-text/90 leading-relaxed mb-4",children:a}),i]})})]})})}function ve({items:e,allowMultiple:o=!1,className:a="",headerSlot:n,headerClassName:i="",showIndicator:s=!0,indicatorIcons:d}){const[x,l]=c.useState(new Set),g=c.useRef(new Map),b=f=>{l(p=>{const u=new Set(p);return u.has(f)?u.delete(f):(o||u.clear(),u.add(f)),u})};return c.useEffect(()=>{x.forEach(f=>{const p=g.current.get(f),u=e.find((v,h)=>(v.slug||`item-${h}`)===f);if(p&&u?.contentSlotId&&p.children.length===0){const v=document.getElementById(u.contentSlotId);if(v){const h=v.cloneNode(!0);h.style.display="",h.removeAttribute("id"),p.appendChild(h)}}})},[x,e]),t.jsx("div",{className:`space-y-2 ${a}`,children:e.map((f,p)=>{const u=f.slug||`item-${p}`;return t.jsx(de,{id:u,title:f.title,description:f.description,isExpanded:x.has(u),onToggle:()=>b(u),headerSlot:n?n({item:f,id:u,expanded:x.has(u)}):void 0,headerClassName:i,showIndicator:s,indicatorIcons:d,children:t.jsx("div",{ref:v=>{v&&g.current.set(u,v)}})},u)})})}function ue({icon:e,title:o,description:a,isActive:n,progress:i=0,onToggle:s,children:d,className:x=""}){return t.jsx("div",{className:`group relative ${x}`.trim(),"data-accordion-item":!0,"data-active":n?"true":"false",children:t.jsxs(z,{variant:"progress",triggers:"controlled",active:n,controller:i,duration:100,borderRadius:"rounded-3xl",borderWidth:2,className:"transition-all duration-200",innerClassName:"card-bg",children:[t.jsxs("div",{className:"w-full text-left flex items-center justify-between p-5 hover:bg-card/50 transition-colors duration-300 cursor-pointer relative z-20",onClick:s,onMouseDown:l=>l.preventDefault(),role:"button",tabIndex:0,"aria-expanded":n,onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),s())},children:[t.jsxs("div",{className:"flex items-center gap-4",children:[e&&t.jsx("span",{className:"icon-large card-icon-color shrink-0",children:e.includes(":")?t.jsx(B,{icon:e,size:"lg",className:"w-6 h-6"}):t.jsx("span",{className:"text-2xl leading-none",children:e})}),t.jsx("div",{className:"text-left",children:t.jsx("p",{className:"h4",children:o})})]}),t.jsx("button",{type:"button",className:`
              w-8 h-8 rounded-full flex items-center justify-center
              transition-all duration-[600ms] text-xl font-semibold
              ${n?"bg-primary text-bg":"bg-primary/15 text-accent group-hover:bg-primary/25"}
            `,"aria-label":n?"Collapse":"Expand",onClick:l=>{l.stopPropagation(),s()},children:t.jsx("span",{children:n?"âˆ’":"+"})})]}),t.jsx("div",{className:`overflow-hidden transition-all duration-500 ease-in-out relative z-20 ${n?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"}`,children:t.jsxs("div",{className:"px-6 pb-6",children:[t.jsx("div",{className:"w-full h-px bg-primary/15 mb-4"}),a&&t.jsx("p",{className:"text-text/80 leading-relaxed mb-4",children:a}),d]})})]})})}const K=c.forwardRef(({src:e,poster:o,className:a="",autoPlay:n=!0,muted:i=!0,loop:s=!0,controls:d=!1,playsInline:x=!0,lazy:l=!0,sourceType:g,children:b,...f},p)=>{const u=c.useRef(null),v=h=>{u.current=h,typeof p=="function"?p(h):p&&(p.current=h)};return c.useEffect(()=>{const h=u.current;if(!h||!l)return;const N=new IntersectionObserver(I=>{I.forEach($=>{if($.isIntersecting){const S=h.dataset.videoSrc;S&&h.src!==S&&(h.src=S,h.load(),n&&h.play().catch(()=>{})),N.disconnect()}})},{threshold:.35,rootMargin:"0px 0px 160px 0px"});return N.observe(h),()=>N.disconnect()},[l,n]),t.jsxs("video",{ref:v,className:`w-full h-full object-cover ${a}`.trim(),poster:o,autoPlay:!l&&n,muted:i,loop:s,controls:d,playsInline:x,preload:l?"metadata":"auto","data-video-src":l?e:void 0,src:l?void 0:e,...f,children:[e&&t.jsx("source",{src:l?void 0:e,"data-video-src":l?e:void 0,type:g}),b??"Your browser does not support the video tag."]})});K.displayName="Video";const O=c.forwardRef(function({desktop:o=!1,className:a="",wrapperClassName:n="",overlay:i,lazy:s=!0,autoPlay:d=!0,muted:x=!0,playsInline:l=!0,controls:g,loop:b=!1,src:f,poster:p,sourceType:u,children:v,...h},N){const I=o?"w-full h-[24rem] object-cover rounded-2xl":"w-full aspect-video object-cover rounded-2xl",$=g??o;return t.jsxs("div",{className:`relative rounded-2xl overflow-hidden bg-card/40 ${n}`.trim(),children:[t.jsx(K,{ref:N,className:`${I} ${a}`.trim(),src:f??"",poster:p,autoPlay:d,muted:x,playsInline:l,controls:$,loop:b,lazy:s,sourceType:u,...h,children:v??"Your browser does not support the video tag."}),i]})}),me=e=>e.replace(/[:]/g,""),q=e=>{if(e)return e.endsWith(".mov")?"video/quicktime":e.endsWith(".webm")?"video/webm":"video/mp4"};function ye({items:e,className:o="",autoAdvanceDelay:a=3e3}){const i=Array.isArray(e)?e.filter(r=>!!r&&typeof r=="object"&&!!r.title):[],s=c.useRef(null),d=c.useRef(null),[x,l]=c.useState(0),[g,b]=c.useState(0),f=c.useId(),p=c.useMemo(()=>me(f),[f]),u=c.useRef(null),v=J(u,{threshold:0,rootMargin:"0px 0px -20% 0px"}),h=c.useCallback(()=>{const r=s.current,m=d.current;let j=null;return r&&!r.paused&&r.currentTime>0?j=r:m&&!m.paused&&m.currentTime>0?j=m:r&&r.offsetParent!==null?j=r:m&&m.offsetParent!==null?j=m:j=r||m,!j||!Number.isFinite(j.duration)?a:Math.max(0,(j.duration-j.currentTime)*1e3)+a},[a]),{engageUser:N,beginGraceWindow:I,isAutoplayPaused:$,isResumeScheduled:S,userEngaged:fe,schedule:T}=Q({totalItems:i.length,currentIndex:g,setIndex:r=>b(r),autoplayTime:h,resumeDelay:5e3,containerSelector:`[data-video-accordion="${p}"]`,itemSelector:`[data-video-accordion="${p}"] [data-accordion-item]`,inView:v,engageOnlyOnActiveItem:!0,activeItemAttr:"data-active"}),P=c.useRef(null);c.useEffect(()=>{P.current=T},[T]),c.useEffect(()=>{i.length!==0&&g>=i.length&&b(0)},[g,i.length]);const Z=c.useCallback(r=>{b(r),l(0),N(),P.current?.()},[N]),R=c.useCallback(()=>{const r=s.current,m=d.current;return r&&!r.paused&&r.currentTime>0?r:m&&!m.paused&&m.currentTime>0?m:r&&r.offsetParent!==null?r:m&&m.offsetParent!==null?m:r||m},[]),y=c.useRef(null),k=c.useCallback(()=>{const r=R();if(!r||!r.duration){y.current=null;return}const m=r.currentTime/r.duration*100;l(m),!r.paused&&!r.ended?y.current=requestAnimationFrame(k):y.current=null},[R]),V=c.useCallback(()=>{const r=R();!r||!r.duration||(y.current===null&&!r.paused&&!r.ended&&(y.current=requestAnimationFrame(k)),P.current?.())},[R,k]),D=c.useCallback(()=>{l(0),P.current?.()},[]),L=c.useCallback(()=>{y.current===null&&(y.current=requestAnimationFrame(k))},[k]),W=c.useCallback(()=>{y.current!==null&&(cancelAnimationFrame(y.current),y.current=null)},[]),_=c.useCallback(()=>{l(100),y.current!==null&&(cancelAnimationFrame(y.current),y.current=null),I()},[I]),M=c.useCallback(()=>{N()},[N]);if(c.useEffect(()=>()=>{y.current!==null&&(cancelAnimationFrame(y.current),y.current=null)},[g]),i.length===0)return null;const A=i[Math.min(g,i.length-1)];return t.jsx("div",{ref:u,...E("fade-in",{once:!0}),className:`relative ${o}`.trim(),"data-video-accordion":p,children:t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start gap-12 max-2-primary",children:[t.jsx("div",{className:"min-w-0 lg:w-1/2 lg:shrink-0 flex flex-col space-y-4","data-accordion-container":!0,children:i.map((r,m)=>{const j=r.key||r.title||`item-${m}`;return t.jsxs(ue,{icon:r.icon,title:r.title,description:r.description,isActive:g===m,progress:x,onToggle:()=>Z(m),children:[g===m&&t.jsx("div",{className:"lg:hidden mt-4",children:t.jsx(O,{ref:F=>{d.current=F},src:r.videoSrc,poster:r.videoPoster,lazy:!1,sourceType:q(r.videoSrc),onTimeUpdate:V,onPlay:L,onPause:W,onEnded:_,onLoadedData:D,onClick:M,desktop:!1},`mobile-${j}`)}),r.hasPage&&r.url&&t.jsx("div",{className:"mt-4",children:t.jsxs(ce,{variant:"link",href:r.url,rightIcon:"lu:arrow-right",children:["Explore ",r.title]})})]},j)})}),t.jsxs("div",{className:"hidden lg:block lg:w-1/2 min-w-0 sticky-section",children:[t.jsx(O,{ref:s,src:A?.videoSrc,poster:A?.videoPoster,sourceType:q(A?.videoSrc),lazy:!1,onTimeUpdate:V,onPlay:L,onPause:W,onEnded:_,onLoadedData:D,onClick:M,desktop:!0,wrapperClassName:"shadow-2xl shadow-accent/15 bg-card/40"},`desktop-${A?.key??g}`),!1]})]})})}export{ve as A,ce as B,ye as V,E as a,C as b,be as s};
