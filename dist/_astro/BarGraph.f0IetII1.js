import{r as a,j as e}from"./react-core.CCsFRpYT.js";import{u as $}from"./useMotionPreference.BkFo7S_Z.js";import{D as A}from"./DecorativeWrapper.BU2dyctr.js";function v({value:c,duration:i=1e3,decimals:r=0}){const[u,l]=a.useState(0),t=a.useRef(null),o=a.useRef(null);a.useEffect(()=>{if(i===0){l(c);return}t.current=performance.now();const f=x=>{if(!t.current)return;const p=x-t.current,s=Math.min(p/i,1),n=1-Math.pow(1-s,3),d=c*n;l(d),s<1&&(o.current=requestAnimationFrame(f))};return o.current=requestAnimationFrame(f),()=>{o.current&&cancelAnimationFrame(o.current)}},[c,i]);const m=r>0?u.toFixed(r):Math.round(u).toString();return e.jsx("span",{className:"tabular-nums",children:m})}function F({label:c,value:i,variant:r="primary",showValue:u=!0,stat:l,statValue:t,statSuffix:o="",delay:m=0,height:f="h-10",className:x="",counterDuration:p=1e3}){const s=$(),[n,d]=a.useState(!1),h=a.useRef(null);a.useEffect(()=>{if(s){d(!0);return}const g=new IntersectionObserver(y=>{y.forEach(R=>{R.isIntersecting&&!n&&setTimeout(()=>d(!0),m)})},{threshold:.3});return h.current&&g.observe(h.current),()=>g.disconnect()},[n,m,s]);const N=r==="primary"?"primary-gradient":r==="primary-reverse"?"bg-linear-to-r from-accent-700 to-accent":"bg-text/30",b=r==="primary"||r==="primary-reverse"?"text-accent font-bold":"text-text/60",j=s?0:p,w=t!==void 0?t.toString().split(".")[1]?.length??0:0;return e.jsxs(A,{className:`w-full ${x}`,children:[e.jsxs("div",{ref:h,className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-text/80",children:c}),t!==void 0?e.jsxs("span",{className:`text-lg ${b}`,children:[e.jsx(v,{value:n?t:0,duration:j,decimals:w}),o]}):l?e.jsx("span",{className:`text-lg ${b}`,children:l}):null]}),e.jsxs("div",{className:`w-full ${f} bg-text/10 rounded-sm overflow-hidden relative`,children:[e.jsx("div",{className:`h-full rounded-sm ${s?"":"transition-all duration-1000 ease-out"} ${N}`,style:{width:n?`${i}%`:"0%"}}),u&&e.jsxs("span",{className:"absolute inset-0 flex items-center pl-3 text-sm font-semibold text-white",children:[e.jsx(v,{value:n?i:0,duration:j}),"%"]})]})]})}export{F as default};
