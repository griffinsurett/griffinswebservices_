---
// src/components/ContentRenderer/variants/TechnologiesVariant.astro
import type { BaseVariantProps } from "../ContentRenderer.types";
import Section from "@/components/Section.astro";
import TechStackSection from "@/components/LoopTemplates/TechStackSection";
import { toArray } from "@/utils/array";

interface Props extends BaseVariantProps {}

const {
  items = [],
  title,
  description,
  className = "",
  id,
  collectionTitle,
} = Astro.props as Props;

const safeItems = toArray(items);
---

<Section
  id={id}
  class={`outer-section relative overflow-hidden ${className}`.trim()}
>
  <!-- <div class="section-dim-border"></div> -->

  {safeItems.length > 0 && (
    <TechStackSection
      client:visible
      technologies={safeItems}
      eyebrow={collectionTitle ?? title}
      title={title ?? collectionTitle}
      description={description}
    />
  )}
</Section>
