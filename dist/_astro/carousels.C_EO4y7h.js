import{bH as n,bI as e}from"./react-core.CB-E5_Si.js";import{A as ie,I as fe}from"./feature-cards.D_1VUODm.js";import{u as Me,a as xe,b as ce,c as ve}from"./engagement-hooks.2cuS2Z2V.js";import{a as be,s as we,I as $e,E as Ee,B as Ie}from"./accordion.BtlkoTYE.js";function Ae(t,{threshold:r=.1,root:m=null,rootMargin:u="0px",once:d=!1,onEnter:s,onExit:y}={}){let v=!1,g=!1,l=null;return!t||typeof IntersectionObserver>"u"?{isVisible:v,hasBeenSeen:g,disconnect:()=>{}}:(l=new IntersectionObserver(b=>{const f=b[0];if(!f)return;const c=f.isIntersecting;v=c,c?(g||(g=!0),s?.(f),d&&l?.disconnect()):y?.(f)},{threshold:r,root:m,rootMargin:u}),l.observe(t),{get isVisible(){return v},get hasBeenSeen(){return g},disconnect:()=>l?.disconnect()})}function ke(t){if(typeof t=="number")return`0px 0px ${t}px 0px`;const r=String(t??"").trim();return/^-?\d+px$/.test(r)?`0px 0px ${r} 0px`:r||"0px"}function ue(t,{threshold:r=.1,root:m=null,rootMargin:u="0px",once:d=!1,onEnter:s,onExit:y,onForward:v,onBackward:g,pauseDelay:l=100,restoreAtTopOffset:b=100,menuCheckboxId:f}={}){const[c,j]=n.useState(!1),[x,k]=n.useState(!1),o=n.useMemo(()=>ke(u),[u]);n.useEffect(()=>{const i=t?.current;if(!i)return;const{isVisible:w,hasBeenSeen:S,disconnect:I}=Ae(i,{threshold:r,root:m,rootMargin:o,once:d,onEnter:M=>{j(!0),k(!0),s?.(M)},onExit:M=>{j(!1),y?.(M)}});return j(w),k(S),I},[t,r,m,o,d,s,y]);const a=typeof v=="function"||typeof g=="function";return Me({elementRef:null,scrollThreshold:5,debounceDelay:l,onScrollActivity:a?({dir:i})=>{i==="down"?v?.():typeof window<"u"&&window.pageYOffset<=b&&g?.()}:void 0}),n.useEffect(()=>{if(!f||!a||typeof document>"u")return;const i=document.getElementById(f);if(!i)return;const w=()=>{i.checked?g?.():typeof window<"u"&&window.pageYOffset>b?v?.():g?.()};return i.addEventListener("change",w),w(),()=>i.removeEventListener("change",w)},[f,g,v,b,a]),d?x:c}function le({tagName:t="h2",className:r="",before:m,text:u,after:d,beforeClass:s="",textClass:y="",afterClass:v="",beforeId:g,textId:l,afterId:b,beforeProps:f,textProps:c,afterProps:j,segmented:x,children:k,...o}){const a=typeof t=="string"?t.toLowerCase():"h2",i=["h1","h2","h3","h4","h5","h6"].includes(a),S=/\bh[1-6]\b/.test(r)||!i?r:`${a} ${r}`.trim(),I=m!==void 0||u!==void 0||d!==void 0,M=x!=null,L=(R,O,_)=>{const P=_??{},H=[O,P.className].filter(Boolean).join(" ");return{id:R??P.id,...P,className:H||void 0}},p=t;return e.jsx(p,{className:`${S} capitalize`,...o,children:M?e.jsxs(e.Fragment,{children:[x?.before!==void 0&&e.jsx("span",{...L(g,s,f),children:`${x.before} `}),x?.text!==void 0&&e.jsx("span",{...L(l,y,c),children:`${x.text} `}),x?.after!==void 0&&e.jsx("span",{...L(b,v,j),children:x.after})]}):I?e.jsxs(e.Fragment,{children:[m!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{...L(g,s,f),children:m})," "]}),u!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{...L(l,y,c),children:u})," "]}),d!==void 0&&e.jsx("span",{...L(b,v,j),children:d})]}):k})}function it({children:t,className:r="",duration:m=1200,hoverSweep:u=!0,pillClassName:d="text-sm px-5 py-2.5 tracking-wider",visibleRootMargin:s}){return e.jsx("div",{className:"inline-block mb-3",children:e.jsxs("div",{className:"relative inline-block",children:[e.jsx(ie,{variant:"progress-b-f",triggers:"visible",duration:m,borderRadius:"rounded-full",borderWidth:2,color:"var(--color-primary)",className:"inline-block",innerClassName:`bg-transparent border-transparent ${d}`,visibleRootMargin:s,children:e.jsx(le,{tagName:"span",className:`uppercase tracking-wider font-semibold text-heading ${r}`,children:e.jsx("span",{"data-animate":"color-text-fade","data-animate-once":"true",className:"color-text-fade",style:{"--animation-duration":`${m}ms`},children:t})})}),u&&e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsx(ie,{variant:"progress-infinite",triggers:"hover",duration:1200,borderRadius:"rounded-full",borderWidth:2,color:"var(--color-accent)",className:"w-full h-full",innerClassName:"bg-transparent border-transparent px-0 py-0 pointer-events-none",children:e.jsx("span",{className:"sr-only",children:"Decorative border sweep"})})})]})})}function J(t){return t?typeof t=="string"?t.startsWith("@/")?t.replace("@/","/src/"):t:t.src?typeof t.src=="string"?t.src:t.src.src?t.src.src:t.src:"":""}const he=700,ye=14,ee=ye*1e3,me=28,Le=4,_e=220,Oe=16,ze=2200,De=450,Pe=750;function He({item:t,mediaEntry:r,totalSlides:m,onCycleComplete:u,isActive:d}){const s=n.useRef(null),[y,v]=n.useState(!1),[g,l]=n.useState(!1),[b,f]=n.useState(ee),c=n.useCallback(a=>{const i=Math.max(0,a.scrollHeight-a.clientHeight);if(i<=0)return 0;const w=i/ye;return!Number.isFinite(w)||w<=0?me:Math.max(me,w)},[]),j=n.useCallback(a=>{const i=Math.max(0,a.scrollHeight-a.clientHeight);if(i<=0)return ee;const w=c(a);if(w<=0)return ee;const S=Math.round(i/w*1e3);return!Number.isFinite(S)||S<=0?ee:Math.max(ee,S)},[c]),x=xe({ref:s,active:d&&g,speed:c,loop:!1,startDelay:he,resumeDelay:600,resumeOnUserInput:!0,threshold:.05,resetOnInactive:!1});n.useEffect(()=>{d&&(x.resetPosition(0),s.current?.scrollTo({top:0,left:0,behavior:"auto"}))},[d,x.resetPosition]),n.useEffect(()=>{const a=s.current;if(!a)return;const i=a.querySelector("picture img")??a.querySelector("img");if(!i){v(!1);return}if(i.complete&&i.naturalHeight>0){v(!0);return}v(!1);const w=()=>v(!0);return i.addEventListener("load",w,{once:!0}),i.addEventListener("error",w,{once:!0}),()=>{i.removeEventListener("load",w),i.removeEventListener("error",w)}},[t,r]),n.useEffect(()=>{if(!y){l(!1);return}const a=s.current;if(!a)return;let i=!1,w=null;const S=()=>Math.max(0,a.scrollHeight-a.clientHeight)>Le,I=()=>{i||(i=!0,w?.(),w=null,l(!0))},M=()=>{if(typeof ResizeObserver>"u"){I();return}let p=null,R=a.scrollHeight;const O=()=>{p||(p=window.setTimeout(()=>{p=null,I()},_e))},_=()=>{p&&(window.clearTimeout(p),p=null)},P=new ResizeObserver(()=>{const H=a.scrollHeight;Math.abs(H-R)>Oe&&(R=H,_()),O()});P.observe(a),O(),w=()=>{P.disconnect(),p&&(window.clearTimeout(p),p=null)}};if(S())M();else if(typeof ResizeObserver<"u"){const p=new ResizeObserver(()=>{S()&&(p.disconnect(),M())});p.observe(a),w=()=>p.disconnect()}else I();const L=window.setTimeout(I,ze);return()=>{w?.(),window.clearTimeout(L)}},[y]),n.useEffect(()=>{if(!g||!d){f(ee);return}const a=s.current;if(!a)return;const i=()=>f(j(a));i();const w=typeof ResizeObserver<"u"?new ResizeObserver(()=>i()):null;return w?.observe(a),()=>w?.disconnect()},[g,d,j]),n.useEffect(()=>{if(!g||!d||m<=1||x.paused)return;const a=he+b+De,i=window.setTimeout(()=>u(),a);return()=>window.clearTimeout(i)},[d,g,u,b,m,x.paused]);const k=J(t.featuredImage)||J(t.bannerImage)||J(t.image)||"",o=()=>r?.sources?.length?e.jsxs("picture",{children:[r.sources.map((a,i)=>e.jsx("source",{srcSet:a.srcSet,sizes:a.sizes??r.sizes,type:a.type},`${t.slug??t.id??i}-source-${i}`)),e.jsx("img",{src:r.src,srcSet:r.srcSet,sizes:r.sizes,alt:r.alt||t.alt||t.title||"Project preview",width:r.width,height:r.height,loading:"lazy",decoding:"async",fetchPriority:"auto",draggable:!1,className:"block h-auto min-h-full w-full select-none object-cover object-top"})]}):r?.src?e.jsx("img",{src:r.src,srcSet:r.srcSet,sizes:r.sizes,alt:r.alt||t.alt||t.title||"Project preview",width:r.width,height:r.height,loading:"lazy",decoding:"async",fetchPriority:"auto",draggable:!1,className:"block h-auto min-h-full w-full select-none object-cover object-top"}):k?e.jsx("img",{src:k,alt:t.alt||t.title||"Project preview",loading:"lazy",decoding:"async",fetchPriority:"auto",draggable:!1,className:"block h-auto min-h-full w-full select-none object-cover object-top"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gradient-to-b from-bg2 via-bg to-bg/80 text-white/30",children:"Preview coming soon"});return e.jsx("div",{className:"relative h-full w-full",children:e.jsxs("div",{className:"relative h-full bg-bg3",children:[e.jsx("div",{className:"flex flex-col gap-3 border-b border-white/10 px-4 py-3 text-white/70 sm:flex-row sm:items-center sm:justify-between",children:e.jsx("div",{className:"flex items-center gap-3 text-xs uppercase tracking-[0.35em] text-white/50",children:e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"h-3 w-3 rounded-full bg-gray-800"}),e.jsx("span",{className:"h-3 w-3 rounded-full bg-gray-800"}),e.jsx("span",{className:"h-3 w-3 rounded-full bg-gray-800"})]})})}),e.jsx("figure",{ref:s,className:"relative h-full overflow-y-auto overscroll-contain bg-black/40",style:{WebkitOverflowScrolling:"touch"},children:o()})]})})}function lt({items:t=[],className:r="",mediaEntries:m=[]}){const u=n.useMemo(()=>Array.isArray(t)?t:[],[t]),d=n.useMemo(()=>Array.isArray(m)?m:[],[m]),[s,y]=n.useState(0),[v,g]=n.useState(null),[l,b]=n.useState("idle"),f=n.useRef(null),c=n.useRef(null);n.useEffect(()=>{if(!u.length){y(0),g(null),b("idle");return}y(o=>o>=u.length?0:o)},[u.length]),n.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=null),c.current&&(cancelAnimationFrame(c.current),c.current=null)},[]);const j=n.useCallback(o=>{typeof window>"u"||(g(s),y(o),b("pre"),c.current&&(cancelAnimationFrame(c.current),c.current=null),c.current=requestAnimationFrame(()=>{c.current=requestAnimationFrame(()=>{b("animating")})}),f.current&&(window.clearTimeout(f.current),f.current=null),f.current=window.setTimeout(()=>{b("idle"),g(null)},Pe))},[s]),x=n.useCallback(()=>{if(!u.length||u.length<=1||l!=="idle")return;const o=(s+1)%u.length;j(o)},[s,u.length,j,l]);if(!u.length)return null;const k="absolute inset-0 transition-transform transition-opacity duration-[750ms] ease-[cubic-bezier(0.4,0,0.2,1)]";return e.jsx("div",{className:`relative h-full ${r}`.trim(),children:e.jsx("div",{className:"relative h-full w-full overflow-hidden card-bg rounded-lg",children:u.map((o,a)=>{const i=a===s,w=a===v,S=i||w&&l!=="idle";if(!(i||w&&l!=="idle"))return null;let M="translate-x-full";return w&&l!=="idle"?M="-translate-x-full":i&&(l==="idle"||v===null?M="translate-x-0":l==="pre"?M="translate-x-full":M="translate-x-0"),e.jsx("div",{className:`${k} shadow-2xl ${M} ${S?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-hidden":i?"false":"true",children:e.jsx(He,{item:o,mediaEntry:d[a],totalSlides:u.length||1,onCycleComplete:x,isActive:i&&l==="idle"})},o.slug??o.id??a)})})})}const oe=1500,Se=30,X=Se*1e3,We=X*4,ge=18,Fe=60,Ue=3e3,Be=6,Ve=260,Ye=18;function qe({item:t,i:r,activeIndex:m,itemsLength:u,centerW:d,centerH:s,sideW:y,sideH:v,tx:g,onSelect:l,mediaChild:b}){const f=n.useRef(null),c=r-m,[j,x]=n.useState(!1),[k,o]=n.useState(!1),[a,i]=n.useState(X),w=n.useMemo(()=>c===0?"center":c===-1||c===u-1?"left":c===1||c===-(u-1)?"right":"hidden",[c,u]),S=w==="center",I=S?"translate(-50%, 0)":"translate(-50%, -50%)",M=n.useCallback(T=>{const E=Math.max(0,T.scrollHeight-T.clientHeight);if(E<=0)return 0;const $=E/Se;return!Number.isFinite($)||$<=0?ge:Math.min(Fe,Math.max(ge,$))},[]),L=n.useCallback(T=>{const E=Math.max(0,T.scrollHeight-T.clientHeight);if(E<=0)return X;const $=M(T);if($<=0)return X;const W=Math.round(E/$*1e3);return!Number.isFinite(W)||W<=0?X:Math.min(We,Math.max(X,W))},[M]);xe({ref:f,active:S&&j,speed:M,loop:!1,startDelay:oe,resumeDelay:900,resumeOnUserInput:!0,threshold:.1,resetOnInactive:!0});const[p,R]=n.useState(0);n.useEffect(()=>{if(!S)return;let T=null;const E=()=>{const $=f.current;if($){const W=Math.max(0,$.scrollHeight-$.clientHeight),N=W>0?$.scrollTop/W*100:0;R(Math.round(N))}T=requestAnimationFrame(E)};return T=requestAnimationFrame(E),()=>{T&&cancelAnimationFrame(T)}},[S]),n.useEffect(()=>{if(!S||!k){x(!1),i(X);return}const T=f.current;if(!T)return;let E=!1,$=null;const W=()=>Math.max(0,T.scrollHeight-T.clientHeight)>Be,N=()=>{E||(E=!0,$?.(),$=null,x(!0))},A=()=>{if(typeof ResizeObserver>"u"){N();return}let Y=null,te=T.scrollHeight;const ne=()=>{Y||(Y=window.setTimeout(()=>{Y=null,N()},Ve))},se=()=>{Y&&(window.clearTimeout(Y),Y=null)},K=new ResizeObserver(()=>{const re=T.scrollHeight;Math.abs(re-te)>Ye&&(te=re,se()),ne()});K.observe(T),ne(),$=()=>{K.disconnect(),Y&&(window.clearTimeout(Y),Y=null)}};let F=null;W()?A():typeof ResizeObserver<"u"?(F=new ResizeObserver(()=>{W()&&(F?.disconnect(),F=null,A())}),F.observe(T)):N();const V=window.setTimeout(()=>{N()},Ue);return()=>{F?.disconnect(),$?.(),V&&window.clearTimeout(V)}},[S,k]),n.useEffect(()=>{if(!S||!j){i(X);return}const T=f.current;if(!T)return;const E=()=>{i(L(T))};E();const $=typeof ResizeObserver<"u"?new ResizeObserver(()=>E()):null;return $?.observe(T),()=>$?.disconnect()},[S,j,L]),n.useEffect(()=>{if(!S||!j||typeof window>"u")return;const T=f.current;if(!T)return;const E=N=>{T.dispatchEvent(new CustomEvent("autoscroll-user",{bubbles:!0,detail:{phase:N}}))},$=window.setTimeout(()=>{E("start")},oe),W=window.setTimeout(()=>{E("end")},oe+a);return()=>{window.clearTimeout($),window.clearTimeout(W),E("end")}},[S,j,a]);const O="absolute left-1/2 overflow-hidden shadow-[0_25px_50px_-12px_rgba(0,0,0,0.5)] transition-all duration-700 ease-[cubic-bezier(0.4,0,0.2,1)] will-change-transform bg-gray-900";let _={width:`${y}px`,height:`${v}px`,transform:`${I} scale(0)`,zIndex:10,opacity:0,pointerEvents:"none"};S?_={width:`${d}px`,height:`${s}px`,transform:`${I} scale(1) rotateY(0deg)`,zIndex:30,opacity:1}:w==="left"?_={width:`${y}px`,height:`${v}px`,transform:`${I} translateX(-${g}px) scale(0.9) rotateY(22deg)`,zIndex:20,opacity:.4}:w==="right"&&(_={width:`${y}px`,height:`${v}px`,transform:`${I} translateX(${g}px) scale(0.9) rotateY(-22deg)`,zIndex:20,opacity:.4});const P="w-full h-full bg-gray-900 overflow-y-auto overscroll-auto touch-pan-y m-0 p-0 relative",H="w-full h-full bg-gray-900 overflow-hidden pointer-events-none select-none m-0 p-0 relative",h=S?{WebkitOverflowScrolling:"touch",overscrollBehaviorY:"auto"}:void 0,C=()=>{const T=J(t.featuredImage)||J(t.bannerImage)||J(t.image)||"";if(t.imageSources){if(S&&t.imageSources.center)return t.imageSources.center;if((w==="left"||w==="right")&&t.imageSources.side)return t.imageSources.side;if(t.imageSources.mobile)return t.imageSources.mobile}return T},D=()=>t.dimensions?.aspectRatio&&s>0?{objectFit:"cover",objectPosition:"center top"}:{objectFit:"cover",objectPosition:"center top"},B=C(),Z=t.alt||t.title||"Project preview",G=n.useMemo(()=>{if(!b)return;if(!n.isValidElement(b))return b;if(!b.props?.["data-portfolio-placeholder"])return b},[b]);return n.useEffect(()=>{if(!S){o(!1);return}const T=f.current;if(!T)return;const E=T.querySelector("picture img")??T.querySelector("img");if(!E){o(!0);return}const $=()=>o(!0);if(E.complete&&E.naturalHeight>0){o(!0);return}return o(!1),E.addEventListener("load",$,{once:!1}),E.addEventListener("error",$,{once:!1}),()=>{E.removeEventListener("load",$),E.removeEventListener("error",$)}},[S,G,B]),e.jsxs("div",{className:`${O} ${S?"top-0":"top-1/2"}`,style:_,"data-carousel-item":!0,"data-index":r,"data-active":S?"true":"false",onClick:()=>{S||l(r)},children:[e.jsx("figure",{ref:f,className:S?P:H,style:h,"aria-hidden":S?"false":"true",tabIndex:S?0:-1,children:G||(B?e.jsx("img",{src:B,alt:Z,loading:r===0?"eager":"lazy",draggable:!1,className:"block w-full h-auto min-h-full select-none",style:D(),decoding:"async"}):e.jsx("div",{className:"flex h-full w-full bg-gradient-to-b from-bg2 via-bg to-bg/80"}))}),!1]})}const Ge=({className:t=""})=>e.jsx("svg",{className:t,fill:"currentColor",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"})}),Xe=({className:t=""})=>e.jsx("svg",{className:t,fill:"currentColor",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"})}),Ze={floating:"absolute z-40 w-10 h-10 md:w-12 md:h-12 rounded-full bg-heading/10 border border-heading/20 text-text backdrop-blur-sm hover:bg-heading/20 transition hover:border-heading/75",inline:"w-10 h-10 md:w-12 md:h-12 rounded-full faded-bg text-text backdrop-blur-sm transition hover:bg-heading/20 hover:border-heading/50"},Je="mx-auto my-auto w-4.5 h-4.5 md:w-6 md:h-6",je=({direction:t="left",variant:r="floating",position:m,className:u="",iconClassName:d,disabled:s,...y})=>{const v=t==="left"?Ge:Xe,g=t==="left"?"Previous":"Next",l=r==="custom"?u:Ze[r]||`${r} ${u}`.trim(),b=m?{left:m.left,right:m.right,top:m.top??"50%",transform:m.transform??"translate(-50%, -50%)",...m}:void 0;return e.jsx("button",{type:"button","aria-label":g,className:l,style:b,disabled:s,...y,children:e.jsx(v,{className:d||Je})})},Te=t=>e.jsx(je,{direction:"left",...t}),Ne=t=>e.jsx(je,{direction:"right",...t});function Re({containerRef:t,totalItems:r,currentIndex:m,setIndex:u,autoplay:d=!0,autoplayTime:s=4e3,threshold:y=.3,resumeDelay:v=5e3,resumeTriggers:g=["scroll","click-outside","hover-away"],pauseOnEngage:l=!0,engageOnlyOnActiveItem:b=!0,activeItemAttr:f="data-active"}){const c=n.useMemo(()=>`carousel-${Math.random().toString(36).slice(2,8)}`,[]),j=ue(t,{threshold:y}),x=ce({totalItems:r,currentIndex:m,setIndex:u,autoplayTime:s,resumeDelay:v,resumeTriggers:g,containerSelector:`[data-autoplay-scope="${c}"]`,itemSelector:`[data-autoplay-scope="${c}"] [data-carousel-item]`,inView:d&&j,pauseOnEngage:l,engageOnlyOnActiveItem:b,activeItemAttr:f});return{scopeId:c,inView:j,...x}}function ct({items:t=[],defaultIndex:r=0,autoplay:m=!0,autoAdvanceDelay:u=5e3,showArrows:d=!0,showDots:s=!0,drag:y=!1,className:v="",children:g}){const l=n.useRef(null),[b,f]=n.useState(r),[c,j]=n.useState(0),x=n.useMemo(()=>Array.isArray(t)?t:[],[t]),k=n.useMemo(()=>n.Children.toArray(g??[]),[g]),o=c>0;n.useLayoutEffect(()=>{if(typeof window>"u")return;const N=l.current;if(!N)return;const A=()=>{const V=N.getBoundingClientRect().width;V&&V!==c&&j(V)};A();const F=new ResizeObserver(A);return F.observe(N),window.addEventListener("resize",A,{passive:!0}),()=>{F.disconnect(),window.removeEventListener("resize",A)}},[c]);const{scopeId:a}=Re({containerRef:l,totalItems:x.length,currentIndex:b,setIndex:f,autoplay:m,autoplayTime:u}),i=()=>{const N=c;return N<640?{centerW:280,centerH:190,sideW:180,sideH:120}:N<768?{centerW:340,centerH:230,sideW:220,sideH:150}:N<1024?{centerW:460,centerH:310,sideW:290,sideH:190}:N<1280?{centerW:680,centerH:450,sideW:420,sideH:290}:{centerW:860,centerH:540,sideW:520,sideH:360}},w=N=>{const A=c,V=-(A>=1536?72:A>=1280?56:A>=1024?40:20);return A/2-N/2-V},{centerW:S,centerH:I,sideW:M,sideH:L}=o?i():{centerW:0,centerH:0,sideW:0,sideH:0},p=o?w(M):0,R=()=>f(N=>N===0?x.length-1:N-1),O=()=>f(N=>N===x.length-1?0:N+1),P=(c>=768?48:40)/2,H=c>=1024?20:16,h=c>=1280,C=S/2+P+H,D=h?`calc(50% - ${p}px)`:`calc(50% - ${C}px)`,B=h?`calc(50% + ${p}px)`:`calc(50% + ${C}px)`,Z=n.useRef(null),G=n.useRef(null);ve({enabled:o&&y&&x.length>1,leftElRef:Z,rightElRef:G,onLeft:R,onRight:O,dragThreshold:Math.max(40,Math.round(c*.05)),tapThreshold:12});const T=Math.max(140,Math.min(M,520)),E=N=>({left:`calc(50% ${N>=0?"+":"-"} ${Math.abs(N)}px)`,transform:"translateX(-50%)",width:`${T}px`,top:0,height:"100%"}),$=h?p:C,W=h?p:C;return x.length?e.jsx("div",{ref:l,...be("fade-in",{once:!0}),"data-carousel-container":!0,"data-autoplay-scope":a,suppressHydrationWarning:!0,className:`w-full ${v}`.trim(),children:o&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative overflow-visible w-full leading-none",style:{height:`${I}px`},children:[x.map((N,A)=>e.jsx(qe,{item:N,i:A,activeIndex:b,itemsLength:x.length,centerW:S,centerH:I,sideW:M,sideH:L,tx:p,onSelect:f,mediaChild:k[A]},N.slug??N.id??A)),y&&x.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:Z,className:"absolute z-30 cursor-grab touch-pan-x select-none",style:E(-$),"aria-hidden":"true","data-drag-zone":"left"}),e.jsx("div",{ref:G,className:"absolute z-30 cursor-grab touch-pan-x select-none",style:E(W),"aria-hidden":"true","data-drag-zone":"right"})]}),d&&x.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(Te,{onClick:R,variant:"floating",position:{left:D,top:"50%",transform:"translate(-50%, -50%)"}}),e.jsx(Ne,{onClick:O,variant:"floating",position:{left:B,top:"50%",transform:"translate(-50%, -50%)"}})]})]}),s&&x.length>1&&e.jsx("nav",{className:"mt-6 flex justify-center gap-3","aria-label":"Carousel Pagination",children:x.map((N,A)=>e.jsx("button",{type:"button",onClick:()=>f(A),className:`w-3 h-3 rounded-full transition-all duration-300 ${A===b?"bg-primary scale-[1.30]":"faded-bg"}`,"aria-label":`Go to slide ${A+1}`},A))})]})}):null}const Ke=n.forwardRef(function({items:r=[],renderItem:m=()=>null,children:u,speed:d=30,duplicateCount:s=3,autoplay:y=!0,pauseOnHover:v=!0,pauseOnEngage:g=!0,startDelay:l=2500,gap:b=24,itemWidth:f=120,gradientMask:c=!0,gradientWidth:j={base:48,md:80},threshold:x=.3,onItemInteraction:k,resumeDelay:o=500,resumeTriggers:a=["scroll","click-outside","hover-away"],containerSelector:i,itemSelector:w,className:S="",trackClassName:I=""},M){const L=n.useRef(null),p=n.useRef(null),[R,O]=n.useState(0),_=n.useMemo(()=>`smooth-carousel-${Math.random().toString(36).slice(2,8)}`,[]);n.useImperativeHandle(M,()=>({container:L.current,track:p.current,getCurrentOffset:()=>R,setOffset:O}));const P=ue(L,{threshold:x}),H=n.useMemo(()=>n.Children.toArray(u).filter(Boolean),[u]),h=H.length>0,C=h?H.length:r.length,D=n.useMemo(()=>h?Array.from({length:s},(z,U)=>H.map((q,Q)=>({type:"child",node:q,originalIndex:Q,duplicateIndex:U}))).flat():Array.from({length:s},(z,U)=>r.map((q,Q)=>({type:"item",item:q,originalIndex:Q,duplicateIndex:U}))).flat(),[H,s,r,h]),B=C*f,{engageUser:Z,isAutoplayPaused:G,userEngaged:T,isResumeScheduled:E,pause:$,resume:W}=ce({totalItems:Math.max(C,1),currentIndex:C>0?Math.floor(Math.abs(R)/f)%C:0,setIndex:()=>{},autoplayTime:50,resumeDelay:o,resumeTriggers:a,containerSelector:i||`[data-autoplay-scope="${_}"]`,itemSelector:w||`[data-autoplay-scope="${_}"] [data-smooth-item]`,inView:y&&P,pauseOnEngage:g,engageOnlyOnActiveItem:!1,activeItemAttr:"data-active"}),[N,A]=n.useState(!1);n.useEffect(()=>{if(!(y&&P&&!G)){A(!1);return}const U=window.setTimeout(()=>A(!0),l);return()=>window.clearTimeout(U)},[y,P,G,l]),n.useEffect(()=>{if(!N)return;let z,U=performance.now();const q=Q=>{const Ce=(Q-U)/1e3;U=Q,O(de=>{if(B<=0)return de;let ae=de-d*Ce;return Math.abs(ae)>=B&&(ae+=B),ae}),z=requestAnimationFrame(q)};return z=requestAnimationFrame(q),()=>cancelAnimationFrame(z)},[N,d,B]);const F=n.useRef(null),V=n.useCallback(()=>{F.current&&(window.clearTimeout(F.current),F.current=null)},[]),Y=n.useCallback(()=>{V(),F.current=window.setTimeout(()=>{W(),F.current=null},o)},[V,W,o]),te=(z,U,q)=>{g&&(Z(),$()),k?.(z,U,q)},ne=()=>{v&&(Z(),$())},se=()=>{v&&Y()};n.useEffect(()=>()=>V(),[V]);const[K,re]=n.useState(()=>typeof window>"u"?j.base:window.innerWidth>=768?j.md:j.base);return n.useEffect(()=>{if(typeof window>"u")return;const z=()=>{re(window.innerWidth>=768?j.md:j.base)};return window.addEventListener("resize",z,{passive:!0}),()=>window.removeEventListener("resize",z)},[j.base,j.md]),e.jsxs("div",{ref:L,"data-autoplay-scope":_,className:`relative w-full overflow-hidden ${S}`.trim(),"data-smooth-carousel":!0,onMouseEnter:ne,onMouseLeave:se,children:[c&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-gradient-to-r from-bg to-transparent z-10 pointer-events-none",style:{width:`${K}px`}}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-gradient-to-l from-bg to-transparent z-10 pointer-events-none",style:{width:`${K}px`}})]}),e.jsx("div",{className:"overflow-hidden",style:{paddingInline:`${K}px`},children:e.jsx("div",{ref:p,className:`flex items-center ${I}`.trim(),style:{transform:`translateX(${R}px)`,width:"max-content",gap:`${b}px`},children:D.map((z,U)=>e.jsx("div",{"data-smooth-item":!0,className:"flex-shrink-0",onMouseEnter:()=>te(z,U,"hover"),children:z.type==="child"?z.node:m(z.item,U,{isActive:!1,onInteraction:q=>te(z.item,U,q)})},`${z.originalIndex}-${z.duplicateIndex}-${U}`))})}),!1]})});function Qe({name:t,index:r,onTechHover:m,onTechLeave:u,showName:d=!1,className:s="",children:y}){const[v,g]=n.useState(!1),l=n.useRef(null);n.useEffect(()=>()=>{l.current&&window.clearTimeout(l.current)},[]);const b=()=>m?.(t),f=()=>{g(!1),u?.()},c=()=>{l.current&&window.clearTimeout(l.current),g(!0),m?.(t),l.current=window.setTimeout(()=>{g(!1),u?.()},2500)};return e.jsxs("div",{...we("fade-in",r,{once:!0,staggerDelay:50}),"data-tech-item":!0,"data-tech-name":t,"data-index":r,className:`group flex flex-col items-center flex-shrink-0 ${s}`.trim(),role:"button",tabIndex:0,"aria-label":t,onMouseEnter:b,onMouseLeave:f,onFocus:b,onBlur:f,onTouchStart:c,children:[e.jsx("div",{className:"relative p-2 transition-all duration-300 group-hover:scale-110 cursor-pointer select-none",children:e.jsx("div",{className:`relative text-heading transition-opacity duration-300 ${v?"opacity-100":"opacity-70 group-hover:opacity-100"}`,children:y})}),d?e.jsx("div",{className:`mt-2 text-xs md:text-sm text-muted transition-all duration-300 whitespace-nowrap ${v?"opacity-100 translate-y-0":"opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0"}`,children:t}):e.jsx("span",{className:"sr-only",children:t})]})}function ut({technologies:t=[],className:r=""}){const[m,u]=n.useState(null),d=n.useMemo(()=>t.filter(s=>s?.title).map(s=>({name:s.title??"",icon:s.icon??"lucide:code"})),[t]);return e.jsx("div",{className:`inner-section text-center lg:text-left ${r}`.trim(),children:e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-[1fr_2fr] gap-6 lg:gap-8 items-center",children:[e.jsx("div",{className:"w-sm",children:e.jsxs("div",{className:"relative inline-block mb-6 leading-tight",children:[e.jsx(le,{tagName:"h2",before:"We've mastered ",text:"the tools that matter.",className:`transition-opacity duration-150 ${m?"opacity-0":"opacity-100"}`,beforeClass:"text-heading block lg:inline",textClass:"text-heading block lg:inline"}),e.jsx(le,{tagName:"h2",before:"We've mastered ",text:m??"",className:`absolute inset-0 pointer-events-none transition-opacity duration-150 ${m?"opacity-100":"opacity-0"}`,beforeClass:"text-heading block lg:inline",textClass:"text-accent block lg:inline"})]})}),e.jsx(Ke,{startDelay:5e3,speed:30,gap:32,itemWidth:120,autoplay:!0,pauseOnHover:!0,pauseOnEngage:!0,gradientMask:!0,gradientWidth:{base:48,md:72},className:"relative w-full h-[84px] md:h-[96px]",children:d.map((s,y)=>e.jsx(Qe,{name:s.name,index:y,onTechHover:u,onTechLeave:()=>u(null),children:e.jsx($e,{icon:s.icon,size:"xl","aria-label":s.name})},`${s.name}-${y}`))})]})})}const et={src:"/assets/placeholder-D97sUwgC.jpg",width:8576,height:5696,format:"jpg"};function tt({item:t,className:r="",ringDuration:m=800}){const u=t.description??"",d=t.author??t.title??"Happy Client",s=[t.role,t.company].filter(Boolean).join(", "),y=Math.max(1,Math.min(5,t.rating??5)),v=J(t.featuredImage)||et;return e.jsx("div",{className:r,children:e.jsxs(ie,{variant:"progress-b-f",triggers:"hover",duration:m,borderRadius:"rounded-3xl",borderWidth:2,className:"group text-left outer-card-transition !duration-[900ms] ease-out",innerClassName:"h-100 md:h-90 lg:h-80 mx-auto px-10 flex flex-col justify-center items-start relative card-bg",children:[e.jsx("div",{className:"inner-card-style inner-card-transition inner-card-color"}),e.jsx(fe,{data:{icon:"❝",description:u?`“${u}”`:void 0},layout:"vertical",alignment:"left",iconClassName:"card-icon-color icon-medium mb-5 z-10 relative",descriptionClassName:"text-text text-lg leading-relaxed mb-8 italic relative z-10",descriptionTag:"p",showTitle:!1}),e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 relative z-10 w-full",children:[e.jsx(fe,{data:{image:v?{src:v,alt:d}:void 0,title:d,description:s||void 0},layout:"horizontal",alignment:"left",className:"gap-2",imageClassName:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",titleClassName:"h4",titleTag:"span",descriptionClassName:"text-text text-sm",descriptionTag:"p",showIcon:!1,showImage:!0,showTitle:!0,showDescription:!!s}),e.jsx("div",{className:"flex gap-1 text-center justify-center items-center",children:Array.from({length:y}).map((g,l)=>e.jsx("svg",{className:"w-5 h-5 text-accent fill-current",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`star-${l}`))})]})]})})}function dt({items:t=[],slidesPerView:r={base:1,md:2},gap:m=32,autoplay:u=!0,autoAdvanceDelay:d=4500,showArrows:s=!1,showDots:y=!0,drag:v=!1,className:g=""}){const l=n.useRef(null),b=n.useRef(null),f=n.useRef(null),[c,j]=n.useState(typeof window<"u"?window.innerWidth:1024);n.useEffect(()=>{if(typeof window>"u")return;const p=()=>j(window.innerWidth);return window.addEventListener("resize",p,{passive:!0}),()=>window.removeEventListener("resize",p)},[]);const x=n.useMemo(()=>{const p=[{key:"base",min:0},{key:"sm",min:640},{key:"md",min:768},{key:"lg",min:1024},{key:"xl",min:1280},{key:"2xl",min:1536}];let R=r.base??1;for(const{key:O,min:_}of p)c>=_&&r[O]!=null&&(R=r[O]);return Math.max(1,Number(R)||1)},[r,c]),k=n.useMemo(()=>{const p=[];for(let R=0;R<t.length;R+=x)p.push(t.slice(R,R+x));return p.length?p:[[]]},[t,x]),o=k.length,[a,i]=n.useState(0);n.useEffect(()=>{a>=o&&i(o-1)},[o,a]),Re({containerRef:l,totalItems:o,currentIndex:a,setIndex:i,autoplay:u,autoplayTime:d,threshold:.3,resumeDelay:5e3,resumeTriggers:["scroll","click-outside","hover-away"],pauseOnEngage:!0,engageOnlyOnActiveItem:!0,activeItemAttr:"data-active"});const w=()=>i(p=>p===0?o-1:p-1),S=()=>i(p=>p===o-1?0:p+1),[I,M]=n.useState(!1);n.useEffect(()=>{if(o<=1)return;M(!0);const p=setTimeout(()=>M(!1),550);return()=>clearTimeout(p)},[a,o]),ve({enabled:v&&o>1,leftElRef:b,rightElRef:f,onLeft:w,onRight:S,dragThreshold:Math.max(40,Math.round(c*.05)),tapThreshold:12});const L=120;return e.jsxs("div",{ref:l,className:`relative w-full ${g}`.trim(),children:[e.jsxs("div",{className:`relative grid items-center gap-x-4 md:gap-x-6 ${s&&o>1?"grid-cols-[auto_1fr_auto]":"grid-cols-1"}`,children:[s&&o>1&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Te,{onClick:w,variant:"inline"})}),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"relative z-20 flex transition-transform duration-500 ease-in-out",style:{width:`${o*100}%`,transform:`translateX(-${a*100/o}%)`},children:k.map((p,R)=>e.jsx("div",{"data-carousel-item":!0,"data-active":R===a?"true":"false",className:"shrink-0",style:{width:`${100/o}%`},children:e.jsx("div",{className:"grid",style:{gridTemplateColumns:`repeat(${x}, minmax(0, 1fr))`,gap:m},children:p.map((O,_)=>e.jsx("div",{className:"min-w-0",...we("scale-in",R*x+_,{once:!0,staggerDelay:L}),children:e.jsx(tt,{item:O})},`testimonial-${R}-${_}`))})},`page-${R}`))}),I&&e.jsx("div",{className:"absolute inset-0 z-30 pointer-events-auto","aria-hidden":"true"}),v&&o>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:b,className:"absolute top-0 left-0 h-full z-40 cursor-grab touch-pan-x select-none",style:{width:"50%"},"aria-hidden":"true"}),e.jsx("div",{ref:f,className:"absolute top-0 right-0 h-full z-40 cursor-grab touch-pan-x select-none",style:{width:"50%"},"aria-hidden":"true"})]})]}),s&&o>1&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Ne,{onClick:S,variant:"inline"})})]}),y&&o>1&&e.jsx("nav",{className:"mt-6 flex justify-center gap-3","aria-label":"Carousel Pagination",children:Array.from({length:o}).map((p,R)=>e.jsx("button",{type:"button",onClick:()=>i(R),className:`w-3 h-3 rounded-full transition-all duration-300 ${R===a?"bg-primary scale-[1.30]":"faded-bg"}`,"aria-label":`Go to page ${R+1}`},`dot-${R}`))})]})}const pe=n.forwardRef(function({desktop:r=!1,className:m="",wrapperClassName:u="",overlay:d,autoPlay:s,muted:y,playsInline:v,controls:g,preload:l,...b},f){const c=r?"w-full h-[24rem] object-cover rounded-2xl":"w-full aspect-video object-cover rounded-2xl",j=s??!0,x=y??!0,k=v??!0,o=g??r,a=l??"metadata";return e.jsxs("div",{className:`relative rounded-2xl overflow-hidden bg-card/40 ${u}`.trim(),children:[e.jsx("video",{ref:f,className:`${c} ${m}`.trim(),autoPlay:j,muted:x,playsInline:k,controls:o,preload:a,...b}),d]})}),nt=t=>t.replace(/[:]/g,"");function ft({items:t,className:r="",autoAdvanceDelay:m=3e3}){const d=Array.isArray(t)?t.filter(h=>!!h&&typeof h=="object"&&!!h.title):[],s=n.useRef(null),y=n.useRef(null),[v,g]=n.useState(0),[l,b]=n.useState(0),f=n.useId(),c=n.useMemo(()=>nt(f),[f]),j=n.useRef(null),x=ue(j,{threshold:0,rootMargin:"0px 0px -20% 0px"}),k=n.useCallback(()=>{const h=s.current,C=y.current;let D=null;return h&&!h.paused&&h.currentTime>0?D=h:C&&!C.paused&&C.currentTime>0?D=C:h&&h.offsetParent!==null?D=h:C&&C.offsetParent!==null?D=C:D=h||C,!D||!Number.isFinite(D.duration)?m:Math.max(0,(D.duration-D.currentTime)*1e3)+m},[m]),{engageUser:o,beginGraceWindow:a,isAutoplayPaused:i,isResumeScheduled:w,userEngaged:S,schedule:I}=ce({totalItems:d.length,currentIndex:l,setIndex:h=>b(h),autoplayTime:k,resumeDelay:5e3,containerSelector:`[data-video-accordion="${c}"]`,itemSelector:`[data-video-accordion="${c}"] [data-accordion-item]`,inView:x,engageOnlyOnActiveItem:!0,activeItemAttr:"data-active"}),M=n.useRef(null);n.useEffect(()=>{M.current=I},[I]),n.useEffect(()=>{d.length!==0&&l>=d.length&&b(0)},[l,d.length]);const L=n.useCallback(h=>{b(h),g(0),o(),M.current?.()},[o]),p=n.useCallback(()=>{const h=s.current,C=y.current;return h&&!h.paused&&h.currentTime>0?h:C&&!C.paused&&C.currentTime>0?C:h&&h.offsetParent!==null?h:C&&C.offsetParent!==null?C:h||C},[]),R=n.useCallback(()=>{const h=p();!h||!h.duration||(g(h.currentTime/h.duration*100),M.current?.())},[p]),O=n.useCallback(()=>{g(0),M.current?.()},[]),_=n.useCallback(()=>{g(100),a()},[a]),P=n.useCallback(()=>{o()},[o]);if(d.length===0)return null;const H=d[Math.min(l,d.length-1)];return e.jsx("div",{ref:j,...be("fade-in",{once:!0}),className:`relative ${r}`.trim(),"data-video-accordion":c,children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start gap-12 max-2-primary",children:[e.jsx("div",{className:"min-w-0 lg:w-1/2 lg:shrink-0 flex flex-col space-y-4","data-accordion-container":!0,children:d.map((h,C)=>{const D=h.key||h.title||`item-${C}`;return e.jsxs(Ee,{icon:h.icon,title:h.title,description:h.description,isActive:l===C,progress:v,onToggle:()=>L(C),children:[l===C&&e.jsx("div",{className:"lg:hidden mt-4",children:e.jsx(pe,{ref:B=>{y.current=B},src:h.videoSrc,onTimeUpdate:R,onEnded:_,onLoadedData:O,onClick:P,desktop:!1},`mobile-${D}`)}),h.hasPage&&h.url&&e.jsx("div",{className:"mt-4",children:e.jsxs(Ie,{variant:"link",href:h.url,rightIcon:"lu:arrow-right",children:["Explore ",h.title]})})]},D)})}),e.jsxs("div",{className:"hidden lg:block lg:w-1/2 min-w-0 sticky-section",children:[e.jsx(pe,{ref:s,src:H?.videoSrc,onTimeUpdate:R,onEnded:_,onLoadedData:O,onClick:P,desktop:!0,wrapperClassName:"shadow-2xl shadow-accent/15 bg-card/40"},`desktop-${H?.key??l}`),!1]})]})})}export{it as B,lt as P,ut as T,ft as V,ct as a,dt as b,Ae as c,ue as u};
