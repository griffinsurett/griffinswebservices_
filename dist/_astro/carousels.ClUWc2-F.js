import{bH as t,bI as e}from"./react-core.DztsbV3P.js";import{A as le,I as fe}from"./ui-primitives.BTe8sCCU.js";import{u as xe,a as ce,b as be}from"./engagement-hooks.8ScFr1bj.js";import{a as we,s as ye,I as Ae,E as Ee,B as Ie}from"./accordion.B1RHlJvZ.js";import{u as ue}from"./visibility-hooks.xXMErAV0.js";const Se=t.forwardRef(({src:r,poster:s,className:f="",autoPlay:l=!0,muted:u=!0,loop:a=!0,controls:v=!1,playsInline:j=!0,lazy:p=!0,sourceType:d,children:c,...m},i)=>{const T=t.useRef(null),R=k=>{T.current=k,typeof i=="function"?i(k):i&&(i.current=k)};return t.useEffect(()=>{const k=T.current;if(!k||!p)return;const n=new IntersectionObserver(C=>{C.forEach(E=>{if(E.isIntersecting){const x=k.dataset.videoSrc;x&&k.src!==x&&(k.src=x,k.load(),l&&k.play().catch(()=>{})),n.disconnect()}})},{threshold:.35,rootMargin:"0px 0px 160px 0px"});return n.observe(k),()=>n.disconnect()},[p,l]),e.jsxs("video",{ref:R,className:`w-full h-full object-cover ${f}`.trim(),poster:s,autoPlay:!p&&l,muted:u,loop:a,controls:v,playsInline:j,preload:p?"metadata":"auto","data-video-src":p?r:void 0,src:p?void 0:r,...m,children:[r&&e.jsx("source",{src:p?void 0:r,"data-video-src":p?r:void 0,type:d}),c??"Your browser does not support the video tag."]})});Se.displayName="Video";function ie({tagName:r="h2",className:s="",before:f,text:l,after:u,beforeClass:a="",textClass:v="",afterClass:j="",beforeId:p,textId:d,afterId:c,beforeProps:m,textProps:i,afterProps:T,segmented:R,children:k,...n}){const C=typeof r=="string"?r.toLowerCase():"h2",E=["h1","h2","h3","h4","h5","h6"].includes(C),D=/\bh[1-6]\b/.test(s)||!E?s:`${C} ${s}`.trim(),g=f!==void 0||l!==void 0||u!==void 0,h=R!=null,y=(N,O,H)=>{const _=H??{},F=[O,_.className].filter(Boolean).join(" ");return{id:N??_.id,..._,className:F||void 0}},S=r;return e.jsx(S,{className:`${D} capitalize`,...n,children:h?e.jsxs(e.Fragment,{children:[R?.before!==void 0&&e.jsx("span",{...y(p,a,m),children:`${R.before} `}),R?.text!==void 0&&e.jsx("span",{...y(d,v,i),children:`${R.text} `}),R?.after!==void 0&&e.jsx("span",{...y(c,j,T),children:R.after})]}):g?e.jsxs(e.Fragment,{children:[f!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{...y(p,a,m),children:f})," "]}),l!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{...y(d,v,i),children:l})," "]}),u!==void 0&&e.jsx("span",{...y(c,j,T),children:u})]}):k})}function it({children:r,className:s="",duration:f=1200,hoverSweep:l=!0,pillClassName:u="text-sm px-5 py-2.5 tracking-wider",visibleRootMargin:a}){return e.jsx("div",{className:"inline-block mb-3",children:e.jsxs("div",{className:"relative inline-block",children:[e.jsx(le,{variant:"progress-b-f",triggers:"visible",duration:f,borderRadius:"rounded-full",borderWidth:2,color:"var(--color-primary)",className:"inline-block",innerClassName:`bg-transparent border-transparent ${u}`,visibleRootMargin:a,children:e.jsx(ie,{tagName:"span",className:`uppercase tracking-wider font-semibold text-heading ${s}`,children:e.jsx("span",{"data-animate":"color-text-fade","data-animate-once":"true",className:"color-text-fade",style:{"--animation-duration":`${f}ms`},children:r})})}),l&&e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsx(le,{variant:"progress-infinite",triggers:"hover",duration:1200,borderRadius:"rounded-full",borderWidth:2,color:"var(--color-accent)",className:"w-full h-full",innerClassName:"bg-transparent border-transparent px-0 py-0 pointer-events-none",children:e.jsx("span",{className:"sr-only",children:"Decorative border sweep"})})})]})})}function je({ref:r,active:s=!0,resumeScheduled:f=!1}){const[l,u]=t.useState(!1),a=t.useRef(!1),v=t.useCallback(()=>{u(!0)},[]);return t.useEffect(()=>{s||u(!1)},[s]),t.useEffect(()=>{a.current&&!f&&u(!1),a.current=f},[f]),t.useEffect(()=>{if(l||!s)return;const j=r.current;if(j)return j.style.pointerEvents="none",()=>{j.style.pointerEvents=""}},[r,l,s]),{enabled:l,enableScroll:v}}function Z(r){return r?typeof r=="string"?r.startsWith("@/")?r.replace("@/","/src/"):r:r.src?typeof r.src=="string"?r.src:r.src.src?r.src.src:r.src:"":""}const he=700,Te=14,re=Te*1e3,me=28,_e=4,Le=220,Oe=16,ze=2200,He=450,De=750;function Pe({item:r,mediaEntry:s,totalSlides:f,onCycleComplete:l,isActive:u}){const a=t.useRef(null),[v,j]=t.useState(!1),[p,d]=t.useState(!1),[c,m]=t.useState(!1),[i,T]=t.useState(re);t.useEffect(()=>{j(!0)},[]);const R=t.useCallback(g=>{const h=Math.max(0,g.scrollHeight-g.clientHeight);if(h<=0)return 0;const y=h/Te;return!Number.isFinite(y)||y<=0?me:Math.max(me,y)},[]),k=t.useCallback(g=>{const h=Math.max(0,g.scrollHeight-g.clientHeight);if(h<=0)return re;const y=R(g);if(y<=0)return re;const S=Math.round(h/y*1e3);return!Number.isFinite(S)||S<=0?re:Math.max(re,S)},[R]),n=xe({ref:a,active:u&&c,speed:R,loop:!1,startDelay:he,resumeDelay:600,resumeOnUserInput:!0,threshold:.05,resetOnInactive:!1}),{enabled:C,enableScroll:E}=je({ref:a,active:u,resumeScheduled:n.resumeScheduled});t.useEffect(()=>{u&&(n.resetPosition(0),a.current?.scrollTo({top:0,left:0,behavior:"auto"}))},[u,n.resetPosition]),t.useEffect(()=>{if(!v)return;const g=a.current;if(!g)return;const h=g.querySelector("picture img")??g.querySelector("img");if(!h){d(!1);return}if(h.complete&&h.naturalHeight>0){d(!0);return}d(!1);const y=()=>d(!0);return h.addEventListener("load",y,{once:!0}),h.addEventListener("error",y,{once:!0}),()=>{h.removeEventListener("load",y),h.removeEventListener("error",y)}},[r,s,v]),t.useEffect(()=>{if(!p){m(!1);return}const g=a.current;if(!g)return;let h=!1,y=null;const S=()=>Math.max(0,g.scrollHeight-g.clientHeight)>_e,N=()=>{h||(h=!0,y?.(),y=null,m(!0))},O=()=>{if(typeof ResizeObserver>"u"){N();return}let _=null,F=g.scrollHeight;const o=()=>{_||(_=window.setTimeout(()=>{_=null,N()},Le))},M=()=>{_&&(window.clearTimeout(_),_=null)},L=new ResizeObserver(()=>{const W=g.scrollHeight;Math.abs(W-F)>Oe&&(F=W,M()),o()});L.observe(g),o(),y=()=>{L.disconnect(),_&&(window.clearTimeout(_),_=null)}};if(S())O();else if(typeof ResizeObserver<"u"){const _=new ResizeObserver(()=>{S()&&(_.disconnect(),O())});_.observe(g),y=()=>_.disconnect()}else N();const H=window.setTimeout(N,ze);return()=>{y?.(),window.clearTimeout(H)}},[p]),t.useEffect(()=>{if(!c||!u){T(re);return}const g=a.current;if(!g)return;const h=()=>T(k(g));h();const y=typeof ResizeObserver<"u"?new ResizeObserver(()=>h()):null;return y?.observe(g),()=>y?.disconnect()},[c,u,k]),t.useEffect(()=>{if(!c||!u||f<=1||n.paused)return;const g=he+i+He,h=window.setTimeout(()=>l(),g);return()=>window.clearTimeout(h)},[u,c,l,i,f,n.paused]);const x=Z(r.featuredImage)||Z(r.bannerImage)||Z(r.image)||"",D=()=>v?s?.sources?.length?e.jsxs("picture",{children:[s.sources.map((g,h)=>e.jsx("source",{srcSet:g.srcSet,sizes:g.sizes??s.sizes,type:g.type},`${r.slug??r.id??h}-source-${h}`)),e.jsx("img",{src:s.src,srcSet:s.srcSet,sizes:s.sizes,alt:s.alt||r.alt||r.title||"Project preview",width:s.width,height:s.height,loading:"lazy",decoding:"async",fetchPriority:"auto",draggable:!1,className:"block h-auto min-h-full w-full select-none object-cover object-top"})]}):s?.src?e.jsx("img",{src:s.src,srcSet:s.srcSet,sizes:s.sizes,alt:s.alt||r.alt||r.title||"Project preview",width:s.width,height:s.height,loading:"lazy",decoding:"async",fetchPriority:"auto",draggable:!1,className:"block h-auto min-h-full w-full select-none object-cover object-top"}):x?e.jsx("img",{src:x,alt:r.alt||r.title||"Project preview",loading:"lazy",decoding:"async",fetchPriority:"auto",draggable:!1,className:"block h-auto min-h-full w-full select-none object-cover object-top"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gradient-to-b from-bg2 via-bg to-bg/80 text-white/30",children:"Preview coming soon"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gradient-to-b from-bg2 via-bg to-bg/80"});return e.jsx("div",{className:"relative h-full w-full",onClick:E,children:e.jsxs("div",{className:"relative h-full bg-bg3",children:[e.jsx("div",{className:"flex flex-col gap-3 border-b border-white/10 px-4 py-3 text-white/70 sm:flex-row sm:items-center sm:justify-between",children:e.jsx("div",{className:"flex items-center gap-3 text-xs uppercase tracking-[0.35em] text-white/50",children:e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"h-3 w-3 rounded-full bg-gray-800"}),e.jsx("span",{className:"h-3 w-3 rounded-full bg-gray-800"}),e.jsx("span",{className:"h-3 w-3 rounded-full bg-gray-800"})]})})}),e.jsx("figure",{ref:a,className:`relative h-full overflow-y-scroll bg-black/40 ${C?"overscroll-contain touch-pan-y":"touch-none"}`,style:{WebkitOverflowScrolling:C?"touch":"auto",overscrollBehaviorY:C?"contain":"none"},children:D()})]})})}function ct({items:r=[],className:s="",mediaEntries:f=[]}){const l=t.useMemo(()=>Array.isArray(r)?r:[],[r]),u=t.useMemo(()=>Array.isArray(f)?f:[],[f]),[a,v]=t.useState(0),[j,p]=t.useState(null),[d,c]=t.useState("idle"),m=t.useRef(null),i=t.useRef(null);t.useEffect(()=>{if(!l.length){v(0),p(null),c("idle");return}v(n=>n>=l.length?0:n)},[l.length]),t.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=null),i.current&&(cancelAnimationFrame(i.current),i.current=null)},[]);const T=t.useCallback(n=>{typeof window>"u"||(p(a),v(n),c("pre"),i.current&&(cancelAnimationFrame(i.current),i.current=null),i.current=requestAnimationFrame(()=>{i.current=requestAnimationFrame(()=>{c("animating")})}),m.current&&(window.clearTimeout(m.current),m.current=null),m.current=window.setTimeout(()=>{c("idle"),p(null)},De))},[a]),R=t.useCallback(()=>{if(!l.length||l.length<=1||d!=="idle")return;const n=(a+1)%l.length;T(n)},[a,l.length,T,d]);if(!l.length)return null;const k="absolute inset-0 transition-transform transition-opacity duration-[750ms] ease-[cubic-bezier(0.4,0,0.2,1)]";return e.jsx("div",{className:`relative h-full ${s}`.trim(),children:e.jsx("div",{className:"relative h-full w-full overflow-hidden card-bg rounded-lg",children:l.map((n,C)=>{const E=C===a,x=C===j,D=E||x&&d!=="idle";if(!(E||x&&d!=="idle"))return null;let h="translate-x-full";return x&&d!=="idle"?h="-translate-x-full":E&&(d==="idle"||j===null?h="translate-x-0":d==="pre"?h="translate-x-full":h="translate-x-0"),e.jsx("div",{className:`${k} shadow-2xl ${h} ${D?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-hidden":E?"false":"true",children:e.jsx(Pe,{item:n,mediaEntry:u[C],totalSlides:l.length||1,onCycleComplete:R,isActive:E&&d==="idle"})},n.slug??n.id??C)})})})}const oe=1500,Ne=30,q=Ne*1e3,Fe=q*4,ge=18,We=60,Ue=3e3,Be=6,Ve=260,Ye=18;function qe({item:r,i:s,activeIndex:f,itemsLength:l,centerW:u,centerH:a,sideW:v,sideH:j,tx:p,onSelect:d,mediaEntry:c}){const m=t.useRef(null),i=s-f,[T,R]=t.useState(!1),[k,n]=t.useState(!1),[C,E]=t.useState(q),x=i===0,D=t.useMemo(()=>i===0?"center":i===-1||i===l-1?"left":i===1||i===-(l-1)?"right":"hidden",[i,l]),g=x?"translate(-50%, 0)":"translate(-50%, -50%)",h=t.useCallback(b=>{const $=Math.max(0,b.scrollHeight-b.clientHeight);if($<=0)return 0;const I=$/Ne;return!Number.isFinite(I)||I<=0?ge:Math.min(We,Math.max(ge,I))},[]),y=t.useCallback(b=>{const $=Math.max(0,b.scrollHeight-b.clientHeight);if($<=0)return q;const I=h(b);if(I<=0)return q;const w=Math.round($/I*1e3);return!Number.isFinite(w)||w<=0?q:Math.min(Fe,Math.max(q,w))},[h]),S=xe({ref:m,active:x&&T,speed:h,loop:!1,startDelay:oe,resumeDelay:900,resumeOnUserInput:!0,threshold:.1,resetOnInactive:!0}),{enabled:N,enableScroll:O}=je({ref:m,active:x,resumeScheduled:S.resumeScheduled}),[H,_]=t.useState(0);t.useEffect(()=>{if(!x)return;let b=null;const $=()=>{const I=m.current;if(I){const w=Math.max(0,I.scrollHeight-I.clientHeight),A=w>0?I.scrollTop/w*100:0;_(Math.round(A))}b=requestAnimationFrame($)};return b=requestAnimationFrame($),()=>{b&&cancelAnimationFrame(b)}},[x]),t.useEffect(()=>{if(!x||!k){R(!1),E(q);return}const b=m.current;if(!b)return;let $=!1,I=null;const w=()=>Math.max(0,b.scrollHeight-b.clientHeight)>Be,A=()=>{$||($=!0,I?.(),I=null,R(!0))},Y=()=>{if(typeof ResizeObserver>"u"){A();return}let V=null,ee=b.scrollHeight;const se=()=>{V||(V=window.setTimeout(()=>{V=null,A()},Ve))},z=()=>{V&&(window.clearTimeout(V),V=null)},P=new ResizeObserver(()=>{const B=b.scrollHeight;Math.abs(B-ee)>Ye&&(ee=B,z()),se()});P.observe(b),se(),I=()=>{P.disconnect(),V&&(window.clearTimeout(V),V=null)}};let U=null;w()?Y():typeof ResizeObserver<"u"?(U=new ResizeObserver(()=>{w()&&(U?.disconnect(),U=null,Y())}),U.observe(b)):A();const ne=window.setTimeout(()=>{A()},Ue);return()=>{U?.disconnect(),I?.(),ne&&window.clearTimeout(ne)}},[x,k]),t.useEffect(()=>{if(!x||!T){E(q);return}const b=m.current;if(!b)return;const $=()=>{E(y(b))};$();const I=typeof ResizeObserver<"u"?new ResizeObserver(()=>$()):null;return I?.observe(b),()=>I?.disconnect()},[x,T,y]),t.useEffect(()=>{if(!x||!T||typeof window>"u")return;const b=m.current;if(!b)return;const $=A=>{b.dispatchEvent(new CustomEvent("autoscroll-user",{bubbles:!0,detail:{phase:A}}))},I=window.setTimeout(()=>{$("start")},oe),w=window.setTimeout(()=>{$("end")},oe+C);return()=>{window.clearTimeout(I),window.clearTimeout(w),$("end")}},[x,T,C]);const F="absolute left-1/2 overflow-hidden shadow-[0_25px_50px_-12px_rgba(0,0,0,0.5)] transition-all duration-700 ease-[cubic-bezier(0.4,0,0.2,1)] will-change-transform bg-gray-900";let o={width:`${v}px`,height:`${j}px`,transform:`${g} scale(0)`,zIndex:10,opacity:0,pointerEvents:"none"};x?o={width:`${u}px`,height:`${a}px`,transform:`${g} scale(1) rotateY(0deg)`,zIndex:30,opacity:1}:D==="left"?o={width:`${v}px`,height:`${j}px`,transform:`${g} translateX(-${p}px) scale(0.9) rotateY(22deg)`,zIndex:20,opacity:.4}:D==="right"&&(o={width:`${v}px`,height:`${j}px`,transform:`${g} translateX(${p}px) scale(0.9) rotateY(-22deg)`,zIndex:20,opacity:.4});const M=N?"w-full h-full bg-gray-900 overflow-y-scroll overscroll-auto touch-pan-y m-0 p-0 relative":"w-full h-full bg-gray-900 overflow-y-scroll touch-none m-0 p-0 relative",L="w-full h-full bg-gray-900 overflow-hidden pointer-events-none select-none m-0 p-0 relative",W=x?{WebkitOverflowScrolling:N?"touch":"auto",overscrollBehaviorY:N?"auto":"none"}:void 0,J=()=>{const b=Z(r.featuredImage)||Z(r.bannerImage)||Z(r.image)||"";if(r.imageSources){if(x&&r.imageSources.center)return r.imageSources.center;if((D==="left"||D==="right")&&r.imageSources.side)return r.imageSources.side;if(r.imageSources.mobile)return r.imageSources.mobile}return b},K=()=>r.dimensions?.aspectRatio&&a>0?{objectFit:"cover",objectPosition:"center top"}:{objectFit:"cover",objectPosition:"center top"},G=J(),X=c?.alt||r.alt||r.title||"Project preview",Q=()=>c?.sources?.length?e.jsxs("picture",{children:[c.sources.map((b,$)=>e.jsx("source",{srcSet:b.srcSet,sizes:b.sizes??c.sizes,type:b.type},`source-${$}`)),e.jsx("img",{src:c.src,srcSet:c.srcSet,sizes:c.sizes,alt:X,width:c.width,height:c.height,loading:"lazy",decoding:"async",draggable:!1,className:"block w-full h-auto min-h-full select-none object-cover object-top"})]}):c?.src?e.jsx("img",{src:c.src,srcSet:c.srcSet,sizes:c.sizes,alt:X,width:c.width,height:c.height,loading:"lazy",decoding:"async",draggable:!1,className:"block w-full h-auto min-h-full select-none object-cover object-top"}):G?e.jsx("img",{src:G,alt:X,loading:s===0?"eager":"lazy",draggable:!1,className:"block w-full h-auto min-h-full select-none",style:K(),decoding:"async"}):e.jsx("div",{className:"flex h-full w-full bg-gradient-to-b from-bg2 via-bg to-bg/80"});return t.useEffect(()=>{if(!x){n(!1);return}const b=m.current;if(!b)return;const $=b.querySelector("picture img")??b.querySelector("img");if(!$){n(!0);return}const I=()=>n(!0);if($.complete&&$.naturalHeight>0){n(!0);return}return n(!1),$.addEventListener("load",I,{once:!1}),$.addEventListener("error",I,{once:!1}),()=>{$.removeEventListener("load",I),$.removeEventListener("error",I)}},[x,c,G]),e.jsxs("div",{className:`${F} ${x?"top-0":"top-1/2"}`,style:o,"data-carousel-item":!0,"data-index":s,"data-active":x?"true":"false",onClick:()=>{x?O():d(s)},children:[e.jsx("figure",{ref:m,className:x?M:L,style:W,"aria-hidden":x?"false":"true",tabIndex:x?0:-1,children:Q()}),!1]})}const Ge=({className:r=""})=>e.jsx("svg",{className:r,fill:"currentColor",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"})}),Xe=({className:r=""})=>e.jsx("svg",{className:r,fill:"currentColor",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"})}),Ze={floating:"absolute z-40 w-10 h-10 md:w-12 md:h-12 rounded-full bg-heading/10 border border-heading/20 text-text backdrop-blur-sm hover:bg-heading/20 transition hover:border-heading/75",inline:"w-10 h-10 md:w-12 md:h-12 rounded-full faded-bg text-text backdrop-blur-sm transition hover:bg-heading/20 hover:border-heading/50"},Je="mx-auto my-auto w-4.5 h-4.5 md:w-6 md:h-6",Re=({direction:r="left",variant:s="floating",position:f,className:l="",iconClassName:u,disabled:a,...v})=>{const j=r==="left"?Ge:Xe,p=r==="left"?"Previous":"Next",d=s==="custom"?l:Ze[s]||`${s} ${l}`.trim(),c=f?{left:f.left,right:f.right,top:f.top??"50%",transform:f.transform??"translate(-50%, -50%)",...f}:void 0;return e.jsx("button",{type:"button","aria-label":p,className:d,style:c,disabled:a,...v,children:e.jsx(j,{className:u||Je})})},Ce=r=>e.jsx(Re,{direction:"left",...r}),Me=r=>e.jsx(Re,{direction:"right",...r});function $e({containerRef:r,totalItems:s,currentIndex:f,setIndex:l,autoplay:u=!0,autoplayTime:a=4e3,threshold:v=.3,resumeDelay:j=5e3,resumeTriggers:p=["scroll","click-outside","hover-away"],pauseOnEngage:d=!0,engageOnlyOnActiveItem:c=!0,activeItemAttr:m="data-active"}){const i=t.useMemo(()=>`carousel-${Math.random().toString(36).slice(2,8)}`,[]),T=ue(r,{threshold:v}),R=ce({totalItems:s,currentIndex:f,setIndex:l,autoplayTime:a,resumeDelay:j,resumeTriggers:p,containerSelector:`[data-autoplay-scope="${i}"]`,itemSelector:`[data-autoplay-scope="${i}"] [data-carousel-item]`,inView:u&&T,pauseOnEngage:d,engageOnlyOnActiveItem:c,activeItemAttr:m});return{scopeId:i,inView:T,...R}}function ut({items:r=[],mediaEntries:s=[],defaultIndex:f=0,autoplay:l=!0,autoAdvanceDelay:u=5e3,showArrows:a=!0,showDots:v=!0,drag:j=!1,className:p=""}){const d=t.useRef(null),[c,m]=t.useState(f),[i,T]=t.useState(0),[R,k]=t.useState(!1);t.useEffect(()=>{k(!0)},[]);const n=t.useMemo(()=>Array.isArray(r)?r:[],[r]),C=t.useMemo(()=>Array.isArray(s)?s:[],[s]),E=i>0;t.useLayoutEffect(()=>{if(typeof window>"u")return;const w=d.current;if(!w)return;const A=()=>{const U=w.getBoundingClientRect().width;U&&U!==i&&T(U)};A();const Y=new ResizeObserver(A);return Y.observe(w),window.addEventListener("resize",A,{passive:!0}),()=>{Y.disconnect(),window.removeEventListener("resize",A)}},[i]);const{scopeId:x}=$e({containerRef:d,totalItems:n.length,currentIndex:c,setIndex:m,autoplay:l,autoplayTime:u}),D=()=>{const w=i;return w<640?{centerW:280,centerH:190,sideW:180,sideH:120}:w<768?{centerW:340,centerH:230,sideW:220,sideH:150}:w<1024?{centerW:460,centerH:310,sideW:290,sideH:190}:w<1280?{centerW:680,centerH:450,sideW:420,sideH:290}:{centerW:860,centerH:540,sideW:520,sideH:360}},g=w=>{const A=i,U=-(A>=1536?72:A>=1280?56:A>=1024?40:20);return A/2-w/2-U},{centerW:h,centerH:y,sideW:S,sideH:N}=E?D():{centerW:0,centerH:0,sideW:0,sideH:0},O=E?g(S):0,H=()=>m(w=>w===0?n.length-1:w-1),_=()=>m(w=>w===n.length-1?0:w+1),o=(i>=768?48:40)/2,M=i>=1024?20:16,L=i>=1280,W=h/2+o+M,J=L?`calc(50% - ${O}px)`:`calc(50% - ${W}px)`,K=L?`calc(50% + ${O}px)`:`calc(50% + ${W}px)`,G=t.useRef(null),X=t.useRef(null);be({enabled:E&&j&&n.length>1,leftElRef:G,rightElRef:X,onLeft:H,onRight:_,dragThreshold:Math.max(40,Math.round(i*.05)),tapThreshold:12});const Q=Math.max(140,Math.min(S,520)),b=w=>({left:`calc(50% ${w>=0?"+":"-"} ${Math.abs(w)}px)`,transform:"translateX(-50%)",width:`${Q}px`,top:0,height:"100%"}),$=L?O:W,I=L?O:W;return n.length?e.jsx("div",{ref:d,...we("fade-in",{once:!0}),"data-carousel-container":!0,"data-autoplay-scope":x,suppressHydrationWarning:!0,className:`w-full ${p}`.trim(),children:E&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative overflow-visible w-full leading-none",style:{height:`${y}px`},children:[n.map((w,A)=>e.jsx(qe,{item:w,i:A,activeIndex:c,itemsLength:n.length,centerW:h,centerH:y,sideW:S,sideH:N,tx:O,onSelect:m,mediaEntry:R?C[A]:void 0},w.slug??w.id??A)),j&&n.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:G,className:"absolute z-30 cursor-grab touch-pan-x select-none",style:b(-$),"aria-hidden":"true","data-drag-zone":"left"}),e.jsx("div",{ref:X,className:"absolute z-30 cursor-grab touch-pan-x select-none",style:b(I),"aria-hidden":"true","data-drag-zone":"right"})]}),a&&n.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(Ce,{onClick:H,variant:"floating",position:{left:J,top:"50%",transform:"translate(-50%, -50%)"}}),e.jsx(Me,{onClick:_,variant:"floating",position:{left:K,top:"50%",transform:"translate(-50%, -50%)"}})]})]}),v&&n.length>1&&e.jsx("nav",{className:"mt-6 flex justify-center gap-3","aria-label":"Carousel Pagination",children:n.map((w,A)=>e.jsx("button",{type:"button",onClick:()=>m(A),className:`w-3 h-3 rounded-full transition-all duration-300 ${A===c?"bg-primary scale-[1.30]":"faded-bg"}`,"aria-label":`Go to slide ${A+1}`},A))})]})}):null}const Ke=t.forwardRef(function({items:s=[],renderItem:f=()=>null,children:l,speed:u=30,duplicateCount:a=3,autoplay:v=!0,pauseOnHover:j=!0,pauseOnEngage:p=!0,startDelay:d=2500,gap:c=24,itemWidth:m=120,gradientMask:i=!0,gradientWidth:T={base:48,md:80},threshold:R=.3,onItemInteraction:k,resumeDelay:n=500,resumeTriggers:C=["scroll","click-outside","hover-away"],containerSelector:E,itemSelector:x,className:D="",trackClassName:g=""},h){const y=t.useRef(null),S=t.useRef(null),[N,O]=t.useState(0),H=t.useMemo(()=>`smooth-carousel-${Math.random().toString(36).slice(2,8)}`,[]);t.useImperativeHandle(h,()=>({container:y.current,track:S.current,getCurrentOffset:()=>N,setOffset:O}));const _=ue(y,{threshold:R}),F=t.useMemo(()=>t.Children.toArray(l).filter(Boolean),[l]),o=F.length>0,M=o?F.length:s.length,L=t.useMemo(()=>o?Array.from({length:a},(z,P)=>F.map((B,te)=>({type:"child",node:B,originalIndex:te,duplicateIndex:P}))).flat():Array.from({length:a},(z,P)=>s.map((B,te)=>({type:"item",item:B,originalIndex:te,duplicateIndex:P}))).flat(),[F,a,s,o]),W=M*m,{engageUser:J,isAutoplayPaused:K,userEngaged:G,isResumeScheduled:X,pause:Q,resume:b}=ce({totalItems:Math.max(M,1),currentIndex:M>0?Math.floor(Math.abs(N)/m)%M:0,setIndex:()=>{},autoplayTime:50,resumeDelay:n,resumeTriggers:C,containerSelector:E||`[data-autoplay-scope="${H}"]`,itemSelector:x||`[data-autoplay-scope="${H}"] [data-smooth-item]`,inView:v&&_,pauseOnEngage:p,engageOnlyOnActiveItem:!1,activeItemAttr:"data-active"}),[$,I]=t.useState(!1);t.useEffect(()=>{if(!(v&&_&&!K)){I(!1);return}const P=window.setTimeout(()=>I(!0),d);return()=>window.clearTimeout(P)},[v,_,K,d]),t.useEffect(()=>{if(!$)return;let z,P=performance.now();const B=te=>{const ke=(te-P)/1e3;P=te,O(de=>{if(W<=0)return de;let ae=de-u*ke;return Math.abs(ae)>=W&&(ae+=W),ae}),z=requestAnimationFrame(B)};return z=requestAnimationFrame(B),()=>cancelAnimationFrame(z)},[$,u,W]);const w=t.useRef(null),A=t.useCallback(()=>{w.current&&(window.clearTimeout(w.current),w.current=null)},[]),Y=t.useCallback(()=>{A(),w.current=window.setTimeout(()=>{b(),w.current=null},n)},[A,b,n]),U=(z,P,B)=>{p&&(J(),Q()),k?.(z,P,B)},ne=()=>{j&&(J(),Q())},V=()=>{j&&Y()};t.useEffect(()=>()=>A(),[A]);const[ee,se]=t.useState(()=>typeof window>"u"?T.base:window.innerWidth>=768?T.md:T.base);return t.useEffect(()=>{if(typeof window>"u")return;const z=()=>{se(window.innerWidth>=768?T.md:T.base)};return window.addEventListener("resize",z,{passive:!0}),()=>window.removeEventListener("resize",z)},[T.base,T.md]),e.jsxs("div",{ref:y,"data-autoplay-scope":H,className:`relative w-full overflow-hidden ${D}`.trim(),"data-smooth-carousel":!0,onMouseEnter:ne,onMouseLeave:V,children:[i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-gradient-to-r from-bg to-transparent z-10 pointer-events-none",style:{width:`${ee}px`}}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-gradient-to-l from-bg to-transparent z-10 pointer-events-none",style:{width:`${ee}px`}})]}),e.jsx("div",{className:"overflow-hidden",style:{paddingInline:`${ee}px`},children:e.jsx("div",{ref:S,className:`flex items-center ${g}`.trim(),style:{transform:`translateX(${N}px)`,width:"max-content",gap:`${c}px`},children:L.map((z,P)=>e.jsx("div",{"data-smooth-item":!0,className:"flex-shrink-0",onMouseEnter:()=>U(z,P,"hover"),children:z.type==="child"?z.node:f(z.item,P,{isActive:!1,onInteraction:B=>U(z.item,P,B)})},`${z.originalIndex}-${z.duplicateIndex}-${P}`))})}),!1]})});function Qe({name:r,index:s,onTechHover:f,onTechLeave:l,showName:u=!1,className:a="",children:v}){const[j,p]=t.useState(!1),d=t.useRef(null);t.useEffect(()=>()=>{d.current&&window.clearTimeout(d.current)},[]);const c=()=>f?.(r),m=()=>{p(!1),l?.()},i=()=>{d.current&&window.clearTimeout(d.current),p(!0),f?.(r),d.current=window.setTimeout(()=>{p(!1),l?.()},2500)};return e.jsxs("div",{...ye("fade-in",s,{once:!0,staggerDelay:50}),"data-tech-item":!0,"data-tech-name":r,"data-index":s,className:`group flex flex-col items-center flex-shrink-0 ${a}`.trim(),role:"button",tabIndex:0,"aria-label":r,onMouseEnter:c,onMouseLeave:m,onFocus:c,onBlur:m,onTouchStart:i,children:[e.jsx("div",{className:"relative p-2 transition-all duration-300 group-hover:scale-110 cursor-pointer select-none",children:e.jsx("div",{className:`relative text-heading transition-opacity duration-300 ${j?"opacity-100":"opacity-70 group-hover:opacity-100"}`,children:v})}),u?e.jsx("div",{className:`mt-2 text-xs md:text-sm text-muted transition-all duration-300 whitespace-nowrap ${j?"opacity-100 translate-y-0":"opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0"}`,children:r}):e.jsx("span",{className:"sr-only",children:r})]})}function dt({technologies:r=[],className:s=""}){const[f,l]=t.useState(null),u=t.useMemo(()=>r.filter(a=>a?.title).map(a=>({name:a.title??"",icon:a.icon??"lucide:code"})),[r]);return e.jsx("div",{className:`inner-section text-center lg:text-left ${s}`.trim(),children:e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-[1fr_2fr] gap-6 lg:gap-8 items-center",children:[e.jsx("div",{className:"w-sm",children:e.jsxs("div",{className:"relative inline-block mb-6 leading-tight",children:[e.jsx(ie,{tagName:"h2",before:"We've mastered ",text:"the tools that matter.",className:`transition-opacity duration-150 ${f?"opacity-0":"opacity-100"}`,beforeClass:"text-heading block lg:inline",textClass:"text-heading block lg:inline"}),e.jsx(ie,{tagName:"h2",before:"We've mastered ",text:f??"",className:`absolute inset-0 pointer-events-none transition-opacity duration-150 ${f?"opacity-100":"opacity-0"}`,beforeClass:"text-heading block lg:inline",textClass:"text-accent block lg:inline"})]})}),e.jsx(Ke,{startDelay:5e3,speed:30,gap:32,itemWidth:120,autoplay:!0,pauseOnHover:!0,pauseOnEngage:!0,gradientMask:!0,gradientWidth:{base:48,md:72},className:"relative w-full h-[84px] md:h-[96px]",children:u.map((a,v)=>e.jsx(Qe,{name:a.name,index:v,onTechHover:l,onTechLeave:()=>l(null),children:e.jsx(Ae,{icon:a.icon,size:"xl","aria-label":a.name})},`${a.name}-${v}`))})]})})}const et="/assets/placeholder.jpg";function tt({item:r,className:s="",ringDuration:f=800}){const l=r.description??"",u=r.author??r.title??"Happy Client",a=[r.role,r.company].filter(Boolean).join(", "),v=Math.max(1,Math.min(5,r.rating??5)),j=Z(r.featuredImage)||et;return e.jsx("div",{className:s,children:e.jsxs(le,{variant:"progress-b-f",triggers:"hover",duration:f,borderRadius:"rounded-3xl",borderWidth:2,className:"group text-left outer-card-transition !duration-[900ms] ease-out",innerClassName:"h-100 md:h-90 lg:h-80 mx-auto px-10 flex flex-col justify-center items-start relative card-bg",children:[e.jsx("div",{className:"inner-card-style inner-card-transition inner-card-color"}),e.jsx(fe,{data:{icon:"❝",description:l?`“${l}”`:void 0},layout:"vertical",alignment:"left",iconClassName:"card-icon-color icon-medium mb-5 z-10 relative",descriptionClassName:"text-text text-lg leading-relaxed mb-8 italic relative z-10",descriptionTag:"p",showTitle:!1}),e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 relative z-10 w-full",children:[e.jsx(fe,{data:{image:{src:j,alt:u},title:u,description:a||void 0},layout:"horizontal",alignment:"left",className:"gap-2",imageClassName:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",titleClassName:"h4",titleTag:"span",descriptionClassName:"text-text text-sm",descriptionTag:"p",showIcon:!1,showImage:!0,showTitle:!0,showDescription:!!a}),e.jsx("div",{className:"flex gap-1 text-center justify-center items-center",children:Array.from({length:v}).map((p,d)=>e.jsx("svg",{className:"w-5 h-5 text-accent fill-current",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`star-${d}`))})]})]})})}function ft({items:r=[],slidesPerView:s={base:1,md:2},gap:f=32,autoplay:l=!0,autoAdvanceDelay:u=4500,showArrows:a=!1,showDots:v=!0,drag:j=!1,className:p=""}){const d=t.useRef(null),c=t.useRef(null),m=t.useRef(null),[i,T]=t.useState(typeof window<"u"?window.innerWidth:1024);t.useEffect(()=>{if(typeof window>"u")return;const S=()=>T(window.innerWidth);return window.addEventListener("resize",S,{passive:!0}),()=>window.removeEventListener("resize",S)},[]);const R=t.useMemo(()=>{const S=[{key:"base",min:0},{key:"sm",min:640},{key:"md",min:768},{key:"lg",min:1024},{key:"xl",min:1280},{key:"2xl",min:1536}];let N=s.base??1;for(const{key:O,min:H}of S)i>=H&&s[O]!=null&&(N=s[O]);return Math.max(1,Number(N)||1)},[s,i]),k=t.useMemo(()=>{const S=[];for(let N=0;N<r.length;N+=R)S.push(r.slice(N,N+R));return S.length?S:[[]]},[r,R]),n=k.length,[C,E]=t.useState(0);t.useEffect(()=>{C>=n&&E(n-1)},[n,C]),$e({containerRef:d,totalItems:n,currentIndex:C,setIndex:E,autoplay:l,autoplayTime:u,threshold:.3,resumeDelay:5e3,resumeTriggers:["scroll","click-outside","hover-away"],pauseOnEngage:!0,engageOnlyOnActiveItem:!0,activeItemAttr:"data-active"});const x=()=>E(S=>S===0?n-1:S-1),D=()=>E(S=>S===n-1?0:S+1),[g,h]=t.useState(!1);t.useEffect(()=>{if(n<=1)return;h(!0);const S=setTimeout(()=>h(!1),550);return()=>clearTimeout(S)},[C,n]),be({enabled:j&&n>1,leftElRef:c,rightElRef:m,onLeft:x,onRight:D,dragThreshold:Math.max(40,Math.round(i*.05)),tapThreshold:12});const y=120;return e.jsxs("div",{ref:d,className:`relative w-full ${p}`.trim(),children:[e.jsxs("div",{className:`relative grid items-center gap-x-4 md:gap-x-6 ${a&&n>1?"grid-cols-[auto_1fr_auto]":"grid-cols-1"}`,children:[a&&n>1&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Ce,{onClick:x,variant:"inline"})}),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"relative z-20 flex transition-transform duration-500 ease-in-out",style:{width:`${n*100}%`,transform:`translateX(-${C*100/n}%)`},children:k.map((S,N)=>e.jsx("div",{"data-carousel-item":!0,"data-active":N===C?"true":"false",className:"shrink-0",style:{width:`${100/n}%`},children:e.jsx("div",{className:"grid",style:{gridTemplateColumns:`repeat(${R}, minmax(0, 1fr))`,gap:f},children:S.map((O,H)=>e.jsx("div",{className:"min-w-0",...ye("scale-in",N*R+H,{once:!0,staggerDelay:y}),children:e.jsx(tt,{item:O})},`testimonial-${N}-${H}`))})},`page-${N}`))}),g&&e.jsx("div",{className:"absolute inset-0 z-30 pointer-events-auto","aria-hidden":"true"}),j&&n>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:c,className:"absolute top-0 left-0 h-full z-40 cursor-grab touch-pan-x select-none",style:{width:"50%"},"aria-hidden":"true"}),e.jsx("div",{ref:m,className:"absolute top-0 right-0 h-full z-40 cursor-grab touch-pan-x select-none",style:{width:"50%"},"aria-hidden":"true"})]})]}),a&&n>1&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Me,{onClick:D,variant:"inline"})})]}),v&&n>1&&e.jsx("nav",{className:"mt-6 flex justify-center gap-3","aria-label":"Carousel Pagination",children:Array.from({length:n}).map((S,N)=>e.jsx("button",{type:"button",onClick:()=>E(N),className:`w-3 h-3 rounded-full transition-all duration-300 ${N===C?"bg-primary scale-[1.30]":"faded-bg"}`,"aria-label":`Go to page ${N+1}`},`dot-${N}`))})]})}const pe=t.forwardRef(function({desktop:s=!1,className:f="",wrapperClassName:l="",overlay:u,lazy:a=!0,autoPlay:v=!0,muted:j=!0,playsInline:p=!0,controls:d,loop:c=!1,src:m,poster:i,sourceType:T,children:R,...k},n){const C=s?"w-full h-[24rem] object-cover rounded-2xl":"w-full aspect-video object-cover rounded-2xl",E=d??s;return e.jsxs("div",{className:`relative rounded-2xl overflow-hidden bg-card/40 ${l}`.trim(),children:[e.jsx(Se,{ref:n,className:`${C} ${f}`.trim(),src:m??"",poster:i,autoPlay:v,muted:j,playsInline:p,controls:E,loop:c,lazy:a,sourceType:T,...k,children:R??"Your browser does not support the video tag."}),u]})}),rt=r=>r.replace(/[:]/g,""),ve=r=>{if(r)return r.endsWith(".mov")?"video/quicktime":r.endsWith(".webm")?"video/webm":"video/mp4"};function ht({items:r,className:s="",autoAdvanceDelay:f=3e3}){const u=Array.isArray(r)?r.filter(o=>!!o&&typeof o=="object"&&!!o.title):[],a=t.useRef(null),v=t.useRef(null),[j,p]=t.useState(0),[d,c]=t.useState(0),m=t.useId(),i=t.useMemo(()=>rt(m),[m]),T=t.useRef(null),R=ue(T,{threshold:0,rootMargin:"0px 0px -20% 0px"}),k=t.useCallback(()=>{const o=a.current,M=v.current;let L=null;return o&&!o.paused&&o.currentTime>0?L=o:M&&!M.paused&&M.currentTime>0?L=M:o&&o.offsetParent!==null?L=o:M&&M.offsetParent!==null?L=M:L=o||M,!L||!Number.isFinite(L.duration)?f:Math.max(0,(L.duration-L.currentTime)*1e3)+f},[f]),{engageUser:n,beginGraceWindow:C,isAutoplayPaused:E,isResumeScheduled:x,userEngaged:D,schedule:g}=ce({totalItems:u.length,currentIndex:d,setIndex:o=>c(o),autoplayTime:k,resumeDelay:5e3,containerSelector:`[data-video-accordion="${i}"]`,itemSelector:`[data-video-accordion="${i}"] [data-accordion-item]`,inView:R,engageOnlyOnActiveItem:!0,activeItemAttr:"data-active"}),h=t.useRef(null);t.useEffect(()=>{h.current=g},[g]),t.useEffect(()=>{u.length!==0&&d>=u.length&&c(0)},[d,u.length]);const y=t.useCallback(o=>{c(o),p(0),n(),h.current?.()},[n]),S=t.useCallback(()=>{const o=a.current,M=v.current;return o&&!o.paused&&o.currentTime>0?o:M&&!M.paused&&M.currentTime>0?M:o&&o.offsetParent!==null?o:M&&M.offsetParent!==null?M:o||M},[]),N=t.useCallback(()=>{const o=S();!o||!o.duration||(p(o.currentTime/o.duration*100),h.current?.())},[S]),O=t.useCallback(()=>{p(0),h.current?.()},[]),H=t.useCallback(()=>{p(100),C()},[C]),_=t.useCallback(()=>{n()},[n]);if(u.length===0)return null;const F=u[Math.min(d,u.length-1)];return e.jsx("div",{ref:T,...we("fade-in",{once:!0}),className:`relative ${s}`.trim(),"data-video-accordion":i,children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start gap-12 max-2-primary",children:[e.jsx("div",{className:"min-w-0 lg:w-1/2 lg:shrink-0 flex flex-col space-y-4","data-accordion-container":!0,children:u.map((o,M)=>{const L=o.key||o.title||`item-${M}`;return e.jsxs(Ee,{icon:o.icon,title:o.title,description:o.description,isActive:d===M,progress:j,onToggle:()=>y(M),children:[d===M&&e.jsx("div",{className:"lg:hidden mt-4",children:e.jsx(pe,{ref:W=>{v.current=W},src:o.videoSrc,poster:o.videoPoster,lazy:!1,sourceType:ve(o.videoSrc),onTimeUpdate:N,onEnded:H,onLoadedData:O,onClick:_,desktop:!1},`mobile-${L}`)}),o.hasPage&&o.url&&e.jsx("div",{className:"mt-4",children:e.jsxs(Ie,{variant:"link",href:o.url,rightIcon:"lu:arrow-right",children:["Explore ",o.title]})})]},L)})}),e.jsxs("div",{className:"hidden lg:block lg:w-1/2 min-w-0 sticky-section",children:[e.jsx(pe,{ref:a,src:F?.videoSrc,poster:F?.videoPoster,sourceType:ve(F?.videoSrc),lazy:!1,onTimeUpdate:N,onEnded:H,onLoadedData:O,onClick:_,desktop:!0,wrapperClassName:"shadow-2xl shadow-accent/15 bg-card/40"},`desktop-${F?.key??d}`),!1]})]})})}export{it as B,ct as P,dt as T,Se as V,ut as a,ft as b,ht as c};
