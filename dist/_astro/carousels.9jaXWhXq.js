import{j as e,r as n}from"./react-core.INjS0cla.js";import{A as le,I as Re,a as ue}from"./ui-primitives.YsNo9MyY.js";import{a as me,u as ge,b as pe}from"./engagement-hooks.ChazTTXB.js";import{C as Me,a as Ee,s as ve}from"./accordion.CrY4pn0C.js";import{u as xe}from"./visibility-hooks.Cl1L1XKD.js";function ie({tagName:t="h2",className:r="",before:f,text:s,after:v,beforeClass:i="",textClass:b="",afterClass:w="",beforeId:C,textId:m,afterId:u,beforeProps:h,textProps:d,afterProps:R,segmented:M,children:k,...c}){const j=typeof t=="string"?t.toLowerCase():"h2",N=["h1","h2","h3","h4","h5","h6"].includes(j),O=/\bh[1-6]\b/.test(r)||!N?r:`${j} ${r}`.trim(),z=f!==void 0||s!==void 0||v!==void 0,H=M!=null,a=(o,E,_)=>{const A=_??{},D=[E,A.className].filter(Boolean).join(" ");return{id:o??A.id,...A,className:D||void 0}},l=t;return e.jsx(l,{className:`${O} capitalize`,...c,children:H?e.jsxs(e.Fragment,{children:[M?.before!==void 0&&e.jsx("span",{...a(C,i,h),children:`${M.before} `}),M?.text!==void 0&&e.jsx("span",{...a(m,b,d),children:`${M.text} `}),M?.after!==void 0&&e.jsx("span",{...a(u,w,R),children:M.after})]}):z?e.jsxs(e.Fragment,{children:[f!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{...a(C,i,h),children:f})," "]}),s!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{...a(m,b,d),children:s})," "]}),v!==void 0&&e.jsx("span",{...a(u,w,R),children:v})]}):k})}function at({children:t,className:r="",duration:f=1200,hoverSweep:s=!0,pillClassName:v="text-sm px-5 py-2.5 tracking-wider",visibleRootMargin:i}){return e.jsx("div",{className:"inline-block mb-3",children:e.jsxs("div",{className:"relative inline-block",children:[e.jsx(le,{variant:"progress-b-f",triggers:"visible",duration:f,borderRadius:"rounded-full",borderWidth:2,color:"var(--color-primary)",className:"inline-block",innerClassName:`bg-transparent border-transparent ${v}`,visibleRootMargin:i,children:e.jsx(ie,{tagName:"span",className:`uppercase tracking-wider font-semibold text-heading ${r}`,children:e.jsx("span",{"data-animate":"color-text-fade","data-animate-once":"true",className:"color-text-fade",style:{"--animation-duration":`${f}ms`},children:t})})}),s&&e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsx(le,{variant:"progress-infinite",triggers:"hover",duration:1200,borderRadius:"rounded-full",borderWidth:2,color:"var(--color-accent)",className:"w-full h-full",innerClassName:"bg-transparent border-transparent px-0 py-0 pointer-events-none",children:e.jsx("span",{className:"sr-only",children:"Decorative border sweep"})})})]})})}function be({ref:t,active:r=!0,resumeScheduled:f=!1}){const[s,v]=n.useState(!1),i=n.useRef(!1),b=n.useCallback(()=>{v(!0)},[]);return n.useEffect(()=>{r||v(!1)},[r]),n.useEffect(()=>{i.current&&!f&&v(!1),i.current=f},[f]),n.useEffect(()=>{if(s||!r)return;const w=t.current;if(w)return w.style.pointerEvents="none",()=>{w.style.pointerEvents=""}},[t,s,r]),{enabled:s,enableScroll:b}}function K(t){return t?typeof t=="string"?t.startsWith("@/")?t.replace("@/","/src/"):t:t.src?typeof t.src=="string"?t.src:t.src.src?t.src.src:t.src:"":""}const de=700,we=14,ne=we*1e3,fe=28,$e=4,Ae=220,_e=16,Le=2200,Oe=450,Ie=750,ke="portfolio-showcase:ready",ze=800;function He({item:t,mediaEntry:r,totalSlides:f,onCycleComplete:s,isActive:v,isTransitioning:i=!1}){const b=n.useRef(null),[w,C]=n.useState(!1),[m,u]=n.useState(!1),[h,d]=n.useState(!1),[R,M]=n.useState(ne);n.useEffect(()=>{C(!0)},[]);const k=n.useCallback(a=>{const l=Math.max(0,a.scrollHeight-a.clientHeight);if(l<=0)return 0;const o=l/we;return!Number.isFinite(o)||o<=0?fe:Math.max(fe,o)},[]),c=n.useCallback(a=>{const l=Math.max(0,a.scrollHeight-a.clientHeight);if(l<=0)return ne;const o=k(a);if(o<=0)return ne;const E=Math.round(l/o*1e3);return!Number.isFinite(E)||E<=0?ne:Math.max(ne,E)},[k]),N=me({ref:b,active:v&&h&&!i,speed:k,loop:!1,startDelay:de,resumeDelay:600,resumeOnUserInput:!0,threshold:.05,resetOnInactive:!1}),{enabled:x,enableScroll:O}=be({ref:b,active:v,resumeScheduled:N.resumeScheduled});n.useEffect(()=>{v&&(N.resetPosition(0),b.current?.scrollTo({top:0,left:0,behavior:"auto"}))},[v,N.resetPosition]),n.useEffect(()=>{if(!w)return;const a=b.current;if(!a)return;let l=null;const o=()=>{const A=a.querySelector("picture img")??a.querySelector("img");if(!A)return!1;if(A.complete&&A.naturalHeight>0)return u(!0),!0;u(!1);const D=()=>u(!0);return A.addEventListener("load",D,{once:!0}),A.addEventListener("error",D,{once:!0}),l=()=>{A.removeEventListener("load",D),A.removeEventListener("error",D)},!0};if(o())return()=>l?.();const E=new MutationObserver(()=>{o()&&E.disconnect()});E.observe(a,{childList:!0,subtree:!0});const _=setTimeout(()=>{o()},100);return()=>{E.disconnect(),clearTimeout(_),l?.()}},[t,r,w]),n.useEffect(()=>{if(!m){d(!1);return}const a=b.current;if(!a)return;let l=!1,o=null;const E=()=>Math.max(0,a.scrollHeight-a.clientHeight)>$e,_=()=>{l||(l=!0,o?.(),o=null,d(!0))},A=()=>{if(typeof ResizeObserver>"u"){_();return}let $=null,U=a.scrollHeight;const Y=()=>{$||($=window.setTimeout(()=>{$=null,_()},Ae))},F=()=>{$&&(window.clearTimeout($),$=null)},q=new ResizeObserver(()=>{const X=a.scrollHeight;Math.abs(X-U)>_e&&(U=X,F()),Y()});q.observe(a),Y(),o=()=>{q.disconnect(),$&&(window.clearTimeout($),$=null)}};if(E())A();else if(typeof ResizeObserver<"u"){const $=new ResizeObserver(()=>{E()&&($.disconnect(),A())});$.observe(a),o=()=>$.disconnect()}else _();const D=window.setTimeout(_,Le);return()=>{o?.(),window.clearTimeout(D)}},[m]),n.useEffect(()=>{if(!h||!v){M(ne);return}const a=b.current;if(!a)return;const l=()=>M(c(a));l();const o=typeof ResizeObserver<"u"?new ResizeObserver(()=>l()):null;return o?.observe(a),()=>o?.disconnect()},[h,v,c]),n.useEffect(()=>{if(!h||!v||f<=1||N.paused)return;const a=de+R+Oe,l=window.setTimeout(()=>{N.paused||s()},a);return()=>window.clearTimeout(l)},[v,h,s,R,f,N.paused]);const z=K(t.featuredImage)||K(t.bannerImage)||K(t.image)||"",H=()=>w?!r?.src&&!z?e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gradient-to-b from-bg2 via-bg to-bg/80 text-white/30",children:"Preview coming soon"}):e.jsx(Me,{src:r?.src||z,srcSet:r?.srcSet,sizes:r?.sizes,sources:r?.sources,alt:r?.alt||t.alt||t.title||"Project preview",width:r?.width,height:r?.height,loading:r?.loading||"lazy",decoding:r?.decoding||"async",fetchPriority:r?.fetchPriority||"auto",draggable:!1,className:"block h-auto min-h-full w-full select-none object-cover object-top"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gradient-to-b from-bg2 via-bg to-bg/80"});return e.jsx("figure",{ref:b,onClick:O,className:`relative h-full overflow-y-scroll bg-black/40 ${x?"overscroll-contain touch-pan-y":"touch-none"}`,style:{WebkitOverflowScrolling:x?"touch":"auto",overscrollBehaviorY:x?"contain":"none"},children:H()})}function ot({items:t=[],className:r="",mediaEntries:f=[]}){const s=n.useMemo(()=>Array.isArray(t)?t:[],[t]),v=n.useMemo(()=>Array.isArray(f)?f:[],[f]),[i,b]=n.useState(0),[w,C]=n.useState(null),[m,u]=n.useState("idle"),h=n.useRef(null),d=n.useRef(null),R=n.useRef(!1);n.useEffect(()=>{if(!s.length||R.current)return;R.current=!0;const j=window.setTimeout(()=>{window.dispatchEvent(new CustomEvent(ke))},ze);return()=>window.clearTimeout(j)},[s.length]),n.useEffect(()=>{if(!s.length){b(0),C(null),u("idle");return}b(j=>j>=s.length?0:j)},[s.length]),n.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=null),d.current&&(cancelAnimationFrame(d.current),d.current=null)},[]);const M=n.useCallback(j=>{typeof window>"u"||(C(i),b(j),u("pre"),d.current&&(cancelAnimationFrame(d.current),d.current=null),d.current=requestAnimationFrame(()=>{d.current=requestAnimationFrame(()=>{u("animating")})}),h.current&&(window.clearTimeout(h.current),h.current=null),h.current=window.setTimeout(()=>{u("idle"),C(null)},Ie))},[i]),k=n.useCallback(()=>{if(!s.length||s.length<=1||m!=="idle")return;const j=(i+1)%s.length;M(j)},[i,s.length,M,m]);if(!s.length)return null;const c="absolute inset-0 transition-transform transition-opacity duration-[750ms] ease-[cubic-bezier(0.4,0,0.2,1)]";return e.jsx("div",{className:`portfolio-showcase-mounted relative h-full ${r}`.trim(),children:e.jsx("div",{className:"relative h-full w-full overflow-hidden",children:s.map((j,N)=>{const x=N===i,O=N===w,z=x||O&&m!=="idle";if(!(x||O&&m!=="idle"))return null;let a="translate-x-full";return O&&m!=="idle"?a="-translate-x-full":x&&(m==="idle"||w===null?a="translate-x-0":m==="pre"?a="translate-x-full":a="translate-x-0"),e.jsx("div",{className:`${c} shadow-2xl ${a} ${z?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-hidden":x?"false":"true",children:e.jsx(He,{item:j,mediaEntry:v[N],totalSlides:s.length||1,onCycleComplete:k,isActive:x,isTransitioning:m!=="idle"})},j.slug??j.id??N)})})})}const oe=1500,ye=30,Z=ye*1e3,De=Z*4,he=18,Pe=60,Fe=3e3,We=6,Be=260,Ue=18;function Ye({item:t,i:r,activeIndex:f,itemsLength:s,centerW:v,centerH:i,sideW:b,sideH:w,tx:C,onSelect:m,mediaEntry:u}){const h=n.useRef(null),d=r-f,[R,M]=n.useState(!1),[k,c]=n.useState(!1),[j,N]=n.useState(Z),x=d===0,O=n.useMemo(()=>d===0?"center":d===-1||d===s-1?"left":d===1||d===-(s-1)?"right":"hidden",[d,s]),z=x?"translate(-50%, 0)":"translate(-50%, -50%)",H=n.useCallback(g=>{const y=Math.max(0,g.scrollHeight-g.clientHeight);if(y<=0)return 0;const T=y/ye;return!Number.isFinite(T)||T<=0?he:Math.min(Pe,Math.max(he,T))},[]),a=n.useCallback(g=>{const y=Math.max(0,g.scrollHeight-g.clientHeight);if(y<=0)return Z;const T=H(g);if(T<=0)return Z;const p=Math.round(y/T*1e3);return!Number.isFinite(p)||p<=0?Z:Math.min(De,Math.max(Z,p))},[H]),l=me({ref:h,active:x&&R,speed:H,loop:!1,startDelay:oe,resumeDelay:900,resumeOnUserInput:!0,threshold:.1,resetOnInactive:!0}),{enabled:o,enableScroll:E}=be({ref:h,active:x,resumeScheduled:l.resumeScheduled}),[_,A]=n.useState(0);n.useEffect(()=>{if(!x)return;let g=null;const y=()=>{const T=h.current;if(T){const p=Math.max(0,T.scrollHeight-T.clientHeight),S=p>0?T.scrollTop/p*100:0;A(Math.round(S))}g=requestAnimationFrame(y)};return g=requestAnimationFrame(y),()=>{g&&cancelAnimationFrame(g)}},[x]),n.useEffect(()=>{if(!x||!k){M(!1),N(Z);return}const g=h.current;if(!g)return;let y=!1,T=null;const p=()=>Math.max(0,g.scrollHeight-g.clientHeight)>We,S=()=>{y||(y=!0,T?.(),T=null,M(!0))},G=()=>{if(typeof ResizeObserver>"u"){S();return}let B=null,ee=g.scrollHeight;const se=()=>{B||(B=window.setTimeout(()=>{B=null,S()},Be))},L=()=>{B&&(window.clearTimeout(B),B=null)},I=new ResizeObserver(()=>{const W=g.scrollHeight;Math.abs(W-ee)>Ue&&(ee=W,L()),se()});I.observe(g),se(),T=()=>{I.disconnect(),B&&(window.clearTimeout(B),B=null)}};let P=null;p()?G():typeof ResizeObserver<"u"?(P=new ResizeObserver(()=>{p()&&(P?.disconnect(),P=null,G())}),P.observe(g)):S();const re=window.setTimeout(()=>{S()},Fe);return()=>{P?.disconnect(),T?.(),re&&window.clearTimeout(re)}},[x,k]),n.useEffect(()=>{if(!x||!R){N(Z);return}const g=h.current;if(!g)return;const y=()=>{N(a(g))};y();const T=typeof ResizeObserver<"u"?new ResizeObserver(()=>y()):null;return T?.observe(g),()=>T?.disconnect()},[x,R,a]),n.useEffect(()=>{if(!x||!R||typeof window>"u")return;const g=h.current;if(!g)return;const y=S=>{g.dispatchEvent(new CustomEvent("autoscroll-user",{bubbles:!0,detail:{phase:S}}))},T=window.setTimeout(()=>{y("start")},oe),p=window.setTimeout(()=>{y("end")},oe+j);return()=>{window.clearTimeout(T),window.clearTimeout(p),y("end")}},[x,R,j]);const D="absolute left-1/2 overflow-hidden shadow-[0_25px_50px_-12px_rgba(0,0,0,0.5)] transition-all duration-700 ease-[cubic-bezier(0.4,0,0.2,1)] will-change-transform bg-gray-900";let $={width:`${b}px`,height:`${w}px`,transform:`${z} scale(0)`,zIndex:10,opacity:0,pointerEvents:"none"};x?$={width:`${v}px`,height:`${i}px`,transform:`${z} scale(1) rotateY(0deg)`,zIndex:30,opacity:1}:O==="left"?$={width:`${b}px`,height:`${w}px`,transform:`${z} translateX(-${C}px) scale(0.9) rotateY(22deg)`,zIndex:20,opacity:.4}:O==="right"&&($={width:`${b}px`,height:`${w}px`,transform:`${z} translateX(${C}px) scale(0.9) rotateY(-22deg)`,zIndex:20,opacity:.4});const U=o?"w-full h-full bg-gray-900 overflow-y-scroll overscroll-auto touch-pan-y m-0 p-0 relative":"w-full h-full bg-gray-900 overflow-y-scroll touch-none m-0 p-0 relative",Y="w-full h-full bg-gray-900 overflow-hidden pointer-events-none select-none m-0 p-0 relative",F=x?{WebkitOverflowScrolling:o?"touch":"auto",overscrollBehaviorY:o?"auto":"none"}:void 0,q=()=>{const g=K(t.featuredImage)||K(t.bannerImage)||K(t.image)||"";if(t.imageSources){if(x&&t.imageSources.center)return t.imageSources.center;if((O==="left"||O==="right")&&t.imageSources.side)return t.imageSources.side;if(t.imageSources.mobile)return t.imageSources.mobile}return g},X=()=>t.dimensions?.aspectRatio&&i>0?{objectFit:"cover",objectPosition:"center top"}:{objectFit:"cover",objectPosition:"center top"},V=q(),J=u?.alt||t.alt||t.title||"Project preview",Q=()=>u?.sources?.length?e.jsxs("picture",{children:[u.sources.map((g,y)=>e.jsx("source",{srcSet:g.srcSet,sizes:g.sizes??u.sizes,type:g.type},`source-${y}`)),e.jsx("img",{src:u.src,srcSet:u.srcSet,sizes:u.sizes,alt:J,width:u.width,height:u.height,loading:"lazy",decoding:"async",draggable:!1,className:"block w-full h-auto min-h-full select-none object-cover object-top"})]}):u?.src?e.jsx("img",{src:u.src,srcSet:u.srcSet,sizes:u.sizes,alt:J,width:u.width,height:u.height,loading:"lazy",decoding:"async",draggable:!1,className:"block w-full h-auto min-h-full select-none object-cover object-top"}):V?e.jsx("img",{src:V,alt:J,loading:r===0?"eager":"lazy",draggable:!1,className:"block w-full h-auto min-h-full select-none",style:X(),decoding:"async"}):e.jsx("div",{className:"flex h-full w-full bg-gradient-to-b from-bg2 via-bg to-bg/80"});return n.useEffect(()=>{if(!x){c(!1);return}const g=h.current;if(!g)return;const y=g.querySelector("picture img")??g.querySelector("img");if(!y){c(!0);return}const T=()=>c(!0);if(y.complete&&y.naturalHeight>0){c(!0);return}return c(!1),y.addEventListener("load",T,{once:!1}),y.addEventListener("error",T,{once:!1}),()=>{y.removeEventListener("load",T),y.removeEventListener("error",T)}},[x,u,V]),e.jsxs("div",{className:`${D} ${x?"top-0":"top-1/2"}`,style:$,"data-carousel-item":!0,"data-index":r,"data-active":x?"true":"false",onClick:()=>{x?E():m(r)},children:[e.jsx("figure",{ref:h,className:x?U:Y,style:F,"aria-hidden":x?"false":"true",tabIndex:x?0:-1,children:Q()}),!1]})}const qe=({className:t=""})=>e.jsx("svg",{className:t,fill:"currentColor",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"})}),Xe=({className:t=""})=>e.jsx("svg",{className:t,fill:"currentColor",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"})}),Ge={floating:"absolute z-40 w-10 h-10 md:w-12 md:h-12 rounded-full bg-heading/10 border border-heading/20 text-text backdrop-blur-sm hover:bg-heading/20 transition hover:border-heading/75",inline:"w-10 h-10 md:w-12 md:h-12 rounded-full faded-bg text-text backdrop-blur-sm transition hover:bg-heading/20 hover:border-heading/50"},Ze="mx-auto my-auto w-4.5 h-4.5 md:w-6 md:h-6",Se=({direction:t="left",variant:r="floating",position:f,className:s="",iconClassName:v,disabled:i,...b})=>{const w=t==="left"?qe:Xe,C=t==="left"?"Previous":"Next",m=r==="custom"?s:Ge[r]||`${r} ${s}`.trim(),u=f?{left:f.left,right:f.right,top:f.top??"50%",transform:f.transform??"translate(-50%, -50%)",...f}:void 0;return e.jsx("button",{type:"button","aria-label":C,className:m,style:u,disabled:i,...b,children:e.jsx(w,{className:v||Ze})})},je=t=>e.jsx(Se,{direction:"left",...t}),Te=t=>e.jsx(Se,{direction:"right",...t});function Ne({containerRef:t,totalItems:r,currentIndex:f,setIndex:s,autoplay:v=!0,autoplayTime:i=4e3,threshold:b=.3,resumeDelay:w=5e3,resumeTriggers:C=["scroll","click-outside","hover-away"],pauseOnEngage:m=!0,engageOnlyOnActiveItem:u=!0,activeItemAttr:h="data-active"}){const d=n.useMemo(()=>`carousel-${Math.random().toString(36).slice(2,8)}`,[]),R=xe(t,{threshold:b}),M=ge({totalItems:r,currentIndex:f,setIndex:s,autoplayTime:i,resumeDelay:w,resumeTriggers:C,containerSelector:`[data-autoplay-scope="${d}"]`,itemSelector:`[data-autoplay-scope="${d}"] [data-carousel-item]`,inView:v&&R,pauseOnEngage:m,engageOnlyOnActiveItem:u,activeItemAttr:h});return{scopeId:d,inView:R,...M}}function lt({items:t=[],mediaEntries:r=[],defaultIndex:f=0,autoplay:s=!0,autoAdvanceDelay:v=5e3,showArrows:i=!0,showDots:b=!0,drag:w=!1,className:C=""}){const m=n.useRef(null),[u,h]=n.useState(f),[d,R]=n.useState(0),[M,k]=n.useState(!1);n.useEffect(()=>{k(!0)},[]);const c=n.useMemo(()=>Array.isArray(t)?t:[],[t]),j=n.useMemo(()=>Array.isArray(r)?r:[],[r]),N=d>0;n.useLayoutEffect(()=>{if(typeof window>"u")return;const p=m.current;if(!p)return;const S=()=>{const P=p.getBoundingClientRect().width;P&&P!==d&&R(P)};S();const G=new ResizeObserver(S);return G.observe(p),window.addEventListener("resize",S,{passive:!0}),()=>{G.disconnect(),window.removeEventListener("resize",S)}},[d]);const{scopeId:x}=Ne({containerRef:m,totalItems:c.length,currentIndex:u,setIndex:h,autoplay:s,autoplayTime:v}),O=()=>{const p=d;return p<640?{centerW:280,centerH:190,sideW:180,sideH:120}:p<768?{centerW:340,centerH:230,sideW:220,sideH:150}:p<1024?{centerW:460,centerH:310,sideW:290,sideH:190}:p<1280?{centerW:680,centerH:450,sideW:420,sideH:290}:{centerW:860,centerH:540,sideW:520,sideH:360}},z=p=>{const S=d,P=-(S>=1536?72:S>=1280?56:S>=1024?40:20);return S/2-p/2-P},{centerW:H,centerH:a,sideW:l,sideH:o}=N?O():{centerW:0,centerH:0,sideW:0,sideH:0},E=N?z(l):0,_=()=>h(p=>p===0?c.length-1:p-1),A=()=>h(p=>p===c.length-1?0:p+1),$=(d>=768?48:40)/2,U=d>=1024?20:16,Y=d>=1280,F=H/2+$+U,q=Y?`calc(50% - ${E}px)`:`calc(50% - ${F}px)`,X=Y?`calc(50% + ${E}px)`:`calc(50% + ${F}px)`,V=n.useRef(null),J=n.useRef(null);pe({enabled:N&&w&&c.length>1,leftElRef:V,rightElRef:J,onLeft:_,onRight:A,dragThreshold:Math.max(40,Math.round(d*.05)),tapThreshold:12});const Q=Math.max(140,Math.min(l,520)),g=p=>({left:`calc(50% ${p>=0?"+":"-"} ${Math.abs(p)}px)`,transform:"translateX(-50%)",width:`${Q}px`,top:0,height:"100%"}),y=Y?E:F,T=Y?E:F;return c.length?e.jsx("div",{ref:m,...Ee("fade-in",{once:!0}),"data-carousel-container":!0,"data-autoplay-scope":x,suppressHydrationWarning:!0,className:`w-full ${C}`.trim(),children:N&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative overflow-visible w-full leading-none",style:{height:`${a}px`},children:[c.map((p,S)=>e.jsx(Ye,{item:p,i:S,activeIndex:u,itemsLength:c.length,centerW:H,centerH:a,sideW:l,sideH:o,tx:E,onSelect:h,mediaEntry:M?j[S]:void 0},p.slug??p.id??S)),w&&c.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:V,className:"absolute z-30 cursor-grab touch-pan-x select-none",style:g(-y),"aria-hidden":"true","data-drag-zone":"left"}),e.jsx("div",{ref:J,className:"absolute z-30 cursor-grab touch-pan-x select-none",style:g(T),"aria-hidden":"true","data-drag-zone":"right"})]}),i&&c.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(je,{onClick:_,variant:"floating",position:{left:q,top:"50%",transform:"translate(-50%, -50%)"}}),e.jsx(Te,{onClick:A,variant:"floating",position:{left:X,top:"50%",transform:"translate(-50%, -50%)"}})]})]}),b&&c.length>1&&e.jsx("nav",{className:"mt-6 flex justify-center gap-3","aria-label":"Carousel Pagination",children:c.map((p,S)=>e.jsx("button",{type:"button",onClick:()=>h(S),className:`w-3 h-3 rounded-full transition-all duration-300 ${S===u?"bg-primary scale-[1.30]":"faded-bg"}`,"aria-label":`Go to slide ${S+1}`},S))})]})}):null}const Ve=n.forwardRef(function({items:r=[],renderItem:f=()=>null,children:s,speed:v=30,duplicateCount:i=3,autoplay:b=!0,pauseOnHover:w=!0,pauseOnEngage:C=!0,startDelay:m=2500,gap:u=24,itemWidth:h=120,gradientMask:d=!0,gradientWidth:R={base:48,md:80},threshold:M=.3,onItemInteraction:k,resumeDelay:c=500,resumeTriggers:j=["scroll","click-outside","hover-away"],containerSelector:N,itemSelector:x,className:O="",trackClassName:z=""},H){const a=n.useRef(null),l=n.useRef(null),[o,E]=n.useState(0),_=n.useMemo(()=>`smooth-carousel-${Math.random().toString(36).slice(2,8)}`,[]);n.useImperativeHandle(H,()=>({container:a.current,track:l.current,getCurrentOffset:()=>o,setOffset:E}));const A=xe(a,{threshold:M}),D=n.useMemo(()=>n.Children.toArray(s).filter(Boolean),[s]),$=D.length>0,U=$?D.length:r.length,Y=n.useMemo(()=>$?Array.from({length:i},(L,I)=>D.map((W,te)=>({type:"child",node:W,originalIndex:te,duplicateIndex:I}))).flat():Array.from({length:i},(L,I)=>r.map((W,te)=>({type:"item",item:W,originalIndex:te,duplicateIndex:I}))).flat(),[D,i,r,$]),F=U*h,{engageUser:q,isAutoplayPaused:X,userEngaged:V,isResumeScheduled:J,pause:Q,resume:g}=ge({totalItems:Math.max(U,1),currentIndex:U>0?Math.floor(Math.abs(o)/h)%U:0,setIndex:()=>{},autoplayTime:50,resumeDelay:c,resumeTriggers:j,containerSelector:N||`[data-autoplay-scope="${_}"]`,itemSelector:x||`[data-autoplay-scope="${_}"] [data-smooth-item]`,inView:b&&A,pauseOnEngage:C,engageOnlyOnActiveItem:!1,activeItemAttr:"data-active"}),[y,T]=n.useState(!1);n.useEffect(()=>{if(!(b&&A&&!X)){T(!1);return}const I=window.setTimeout(()=>T(!0),m);return()=>window.clearTimeout(I)},[b,A,X,m]),n.useEffect(()=>{if(!y)return;let L,I=performance.now();const W=te=>{const Ce=(te-I)/1e3;I=te,E(ce=>{if(F<=0)return ce;let ae=ce-v*Ce;return Math.abs(ae)>=F&&(ae+=F),ae}),L=requestAnimationFrame(W)};return L=requestAnimationFrame(W),()=>cancelAnimationFrame(L)},[y,v,F]);const p=n.useRef(null),S=n.useCallback(()=>{p.current&&(window.clearTimeout(p.current),p.current=null)},[]),G=n.useCallback(()=>{S(),p.current=window.setTimeout(()=>{g(),p.current=null},c)},[S,g,c]),P=(L,I,W)=>{C&&(q(),Q()),k?.(L,I,W)},re=()=>{w&&(q(),Q())},B=()=>{w&&G()};n.useEffect(()=>()=>S(),[S]);const[ee,se]=n.useState(()=>typeof window>"u"?R.base:window.innerWidth>=768?R.md:R.base);return n.useEffect(()=>{if(typeof window>"u")return;const L=()=>{se(window.innerWidth>=768?R.md:R.base)};return window.addEventListener("resize",L,{passive:!0}),()=>window.removeEventListener("resize",L)},[R.base,R.md]),e.jsxs("div",{ref:a,"data-autoplay-scope":_,className:`relative w-full overflow-hidden ${O}`.trim(),"data-smooth-carousel":!0,onMouseEnter:re,onMouseLeave:B,children:[d&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 z-10 pointer-events-none",style:{width:`${ee}px`}}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 z-10 pointer-events-none",style:{width:`${ee}px`}})]}),e.jsx("div",{className:"overflow-hidden",style:{paddingInline:`${ee}px`},children:e.jsx("div",{ref:l,className:`flex items-center ${z}`.trim(),style:{transform:`translateX(${o}px)`,width:"max-content",gap:`${u}px`},children:Y.map((L,I)=>e.jsx("div",{"data-smooth-item":!0,className:"flex-shrink-0",onMouseEnter:()=>P(L,I,"hover"),children:L.type==="child"?L.node:f(L.item,I,{isActive:!1,onInteraction:W=>P(L.item,I,W)})},`${L.originalIndex}-${L.duplicateIndex}-${I}`))})}),!1]})});function Je({name:t,index:r,onTechHover:f,onTechLeave:s,showName:v=!1,className:i="",children:b}){const[w,C]=n.useState(!1),m=n.useRef(null);n.useEffect(()=>()=>{m.current&&window.clearTimeout(m.current)},[]);const u=()=>f?.(t),h=()=>{C(!1),s?.()},d=()=>{m.current&&window.clearTimeout(m.current),C(!0),f?.(t),m.current=window.setTimeout(()=>{C(!1),s?.()},2500)};return e.jsxs("div",{...ve("fade-in",r,{once:!0,staggerDelay:50}),"data-tech-item":!0,"data-tech-name":t,"data-index":r,className:`group flex flex-col items-center flex-shrink-0 ${i}`.trim(),role:"button",tabIndex:0,"aria-label":t,onMouseEnter:u,onMouseLeave:h,onFocus:u,onBlur:h,onTouchStart:d,children:[e.jsx("div",{className:"relative p-2 transition-all duration-300 group-hover:scale-110 cursor-pointer select-none",children:e.jsx("div",{className:`relative text-heading transition-opacity duration-300 ${w?"opacity-100":"opacity-70 group-hover:opacity-100"}`,children:b})}),v?e.jsx("div",{className:`mt-2 text-xs md:text-sm text-muted transition-all duration-300 whitespace-nowrap ${w?"opacity-100 translate-y-0":"opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0"}`,children:t}):e.jsx("span",{className:"sr-only",children:t})]})}function it({technologies:t=[],className:r=""}){const[f,s]=n.useState(null),v=n.useMemo(()=>t.filter(i=>i?.title).map(i=>({name:i.title??"",icon:i.icon??"lucide:code"})),[t]);return e.jsx("div",{className:`inner-section text-center lg:text-left ${r}`.trim(),children:e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-[1fr_2fr] gap-6 lg:gap-8 items-center",children:[e.jsx("div",{className:"w-sm",children:e.jsxs("div",{className:"relative inline-block mb-6 leading-tight",children:[e.jsx(ie,{tagName:"h2",before:"We've mastered ",text:"the tools that matter.",className:`transition-opacity duration-150 ${f?"opacity-0":"opacity-100"}`,beforeClass:"text-heading block lg:inline",textClass:"text-heading block lg:inline"}),e.jsx(ie,{tagName:"h2",before:"We've mastered ",text:f??"",className:`absolute inset-0 pointer-events-none transition-opacity duration-150 ${f?"opacity-100":"opacity-0"}`,beforeClass:"text-heading block lg:inline",textClass:"text-accent block lg:inline"})]})}),e.jsx(Ve,{startDelay:5e3,speed:30,gap:32,itemWidth:120,autoplay:!0,pauseOnHover:!0,pauseOnEngage:!0,gradientMask:!0,gradientWidth:{base:48,md:72},className:"relative w-full h-[84px] md:h-[96px]",children:v.map((i,b)=>e.jsx(Je,{name:i.name,index:b,onTechHover:s,onTechLeave:()=>s(null),children:e.jsx(Re,{icon:i.icon,size:"xl","aria-label":i.name})},`${i.name}-${b}`))})]})})}const Ke="/assets/placeholder.jpg";function Qe({item:t,className:r="",ringDuration:f=800}){const s=t.description??"",v=t.author??t.title??"Happy Client",i=[t.role,t.company].filter(Boolean).join(", "),b=Math.max(1,Math.min(5,t.rating??5)),w=K(t.featuredImage)||Ke,C=t.url||t.href||(t.slug?`/${t.slug}`:void 0),m=!!(t.hasPage&&C),u=[m?"group":"","text-left","outer-card-transition",m?"outer-card-hover-transition":"","!duration-[900ms]","ease-out"].filter(Boolean).join(" ");return e.jsx("div",{className:r,children:e.jsxs(le,{variant:m?"progress-b-f":"none",triggers:m?"hover":[],duration:f,borderRadius:"rounded-3xl",borderWidth:2,className:u,innerClassName:"h-100 md:h-90 lg:h-80 mx-auto px-10 flex flex-col justify-center items-start relative card-bg",linkProps:m?{href:C}:void 0,children:[e.jsx("div",{className:"inner-card-style inner-card-transition inner-card-color"}),e.jsx(ue,{data:{icon:"❝",description:s?`“${s}”`:void 0},layout:"vertical",alignment:"left",iconClassName:"card-icon-color icon-medium mb-5 z-10 relative",descriptionClassName:"text-text text-lg leading-relaxed mb-8 italic relative z-10",descriptionTag:"p",showTitle:!1}),e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 relative z-10 w-full",children:[e.jsx(ue,{data:{image:{src:w,alt:v},title:v,description:i||void 0},layout:"horizontal",alignment:"left",className:"gap-2",imageClassName:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",titleClassName:"h4",titleTag:"span",descriptionClassName:"text-text text-sm",descriptionTag:"p",showIcon:!1,showImage:!0,showTitle:!0,showDescription:!!i}),e.jsx("div",{className:"flex gap-1 text-center justify-center items-center",children:Array.from({length:b}).map((h,d)=>e.jsx("svg",{className:"w-5 h-5 text-accent fill-current",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`star-${d}`))})]})]})})}function ct({items:t=[],slidesPerView:r={base:1,md:2},gap:f=32,autoplay:s=!0,autoAdvanceDelay:v=4500,showArrows:i=!1,showDots:b=!0,drag:w=!1,className:C=""}){const m=n.useRef(null),u=n.useRef(null),h=n.useRef(null),[d,R]=n.useState(typeof window<"u"?window.innerWidth:1024);n.useEffect(()=>{if(typeof window>"u")return;const l=()=>R(window.innerWidth);return window.addEventListener("resize",l,{passive:!0}),()=>window.removeEventListener("resize",l)},[]);const M=n.useMemo(()=>{const l=[{key:"base",min:0},{key:"sm",min:640},{key:"md",min:768},{key:"lg",min:1024},{key:"xl",min:1280},{key:"2xl",min:1536}];let o=r.base??1;for(const{key:E,min:_}of l)d>=_&&r[E]!=null&&(o=r[E]);return Math.max(1,Number(o)||1)},[r,d]),k=n.useMemo(()=>{const l=[];for(let o=0;o<t.length;o+=M)l.push(t.slice(o,o+M));return l.length?l:[[]]},[t,M]),c=k.length,[j,N]=n.useState(0);n.useEffect(()=>{j>=c&&N(c-1)},[c,j]),Ne({containerRef:m,totalItems:c,currentIndex:j,setIndex:N,autoplay:s,autoplayTime:v,threshold:.3,resumeDelay:5e3,resumeTriggers:["scroll","click-outside","hover-away"],pauseOnEngage:!0,engageOnlyOnActiveItem:!0,activeItemAttr:"data-active"});const x=()=>N(l=>l===0?c-1:l-1),O=()=>N(l=>l===c-1?0:l+1),[z,H]=n.useState(!1);n.useEffect(()=>{if(c<=1)return;H(!0);const l=setTimeout(()=>H(!1),550);return()=>clearTimeout(l)},[j,c]),pe({enabled:w&&c>1,leftElRef:u,rightElRef:h,onLeft:x,onRight:O,dragThreshold:Math.max(40,Math.round(d*.05)),tapThreshold:12});const a=120;return e.jsxs("div",{ref:m,className:`relative w-full ${C}`.trim(),children:[e.jsxs("div",{className:`relative grid items-center gap-x-4 md:gap-x-6 ${i&&c>1?"grid-cols-[auto_1fr_auto]":"grid-cols-1"}`,children:[i&&c>1&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(je,{onClick:x,variant:"inline"})}),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"relative z-20 flex transition-transform duration-500 ease-in-out",style:{width:`${c*100}%`,transform:`translateX(-${j*100/c}%)`},children:k.map((l,o)=>e.jsx("div",{"data-carousel-item":!0,"data-active":o===j?"true":"false",className:"shrink-0",style:{width:`${100/c}%`},children:e.jsx("div",{className:"grid",style:{gridTemplateColumns:`repeat(${M}, minmax(0, 1fr))`,gap:f},children:l.map((E,_)=>e.jsx("div",{className:"min-w-0",...ve("scale-in",o*M+_,{once:!0,staggerDelay:a}),children:e.jsx(Qe,{item:E})},`testimonial-${o}-${_}`))})},`page-${o}`))}),z&&e.jsx("div",{className:"absolute inset-0 z-30 pointer-events-auto","aria-hidden":"true"}),w&&c>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:u,className:"absolute top-0 left-0 h-full z-40 cursor-grab touch-pan-x select-none",style:{width:"50%"},"aria-hidden":"true"}),e.jsx("div",{ref:h,className:"absolute top-0 right-0 h-full z-40 cursor-grab touch-pan-x select-none",style:{width:"50%"},"aria-hidden":"true"})]})]}),i&&c>1&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Te,{onClick:O,variant:"inline"})})]}),b&&c>1&&e.jsx("nav",{className:"mt-6 flex justify-center gap-3","aria-label":"Carousel Pagination",children:Array.from({length:c}).map((l,o)=>e.jsx("button",{type:"button",onClick:()=>N(o),className:`w-3 h-3 rounded-full transition-all duration-300 ${o===j?"bg-primary scale-[1.30]":"faded-bg"}`,"aria-label":`Go to page ${o+1}`},`dot-${o}`))})]})}export{at as B,ot as P,it as T,lt as a,ct as b};
