---
// src/layouts/AboutSection.astro
// Modern, editorial about section optimized for the refreshed build
import SectionHeader from "@/components/SectionHeader.astro";
import Button from "@/components/Button/Button";
import IconListItem from "@/components/LoopComponents/IconListItem";
import LogoPoster from "@/assets/GWS-animated.png";

const {
  headingTitle = "About Griffin's Web Services",
  headingBefore = "Websites that make your business look credible, ",
  headingEmphasis = "fast, secure, and easy to manage ",
  headingAfter = "from day one.",
  headingDescription = "We build and manage websites that look elite, load instantly, and keep working long after launch so you never have to juggle multiple vendors again.",
  primaryCTA = {
    text: "Start Your Project",
    href: "#contact",
    rightIcon: "lu:arrow-right",
  },
  secondaryCTA = {
    text: "More About Us",
    href: "/about-us",
  },
  sidebar = {},
} = Astro.props;

const sidebarIcon = sidebar.icon ?? "lucide:layers";
const sidebarTitle = sidebar.title ?? "We handle everything.";
const sidebarEyebrow = sidebar.eyebrow ?? "Fully managed partnership";
const sidebarDescription =
  sidebar.description ??
  "You do not have to chase multiple contractors. We plan, design, develop, host, and maintain your site so it keeps earning trust and revenue in the background.";
const sidebarFootIcon = sidebar.footIcon ?? "ðŸš€";
const sidebarFootTitle =
  sidebar.footTitle ?? "Your website, our expertise";
const sidebarFootDescription =
  sidebar.footDescription ??
  "Strategy, design, development, and care plans working together so your online presence keeps up with the pace of your business.";

const sidebarImageSrc = sidebar.image?.src ?? LogoPoster.src;
const sidebarImageAlt = sidebar.image?.alt ?? sidebarTitle;
---

<section id="about" class="outer-section bg-bg2 relative">
  <div class="section-color-border"></div>

  <div class="inner-section space-y-20">
    <div class="flex flex-col gap-12 lg:flex-row lg:items-start">
      <article class="space-y-8 lg:flex-[1.25] min-w-0">
        <SectionHeader
          title={headingTitle}
          headingBefore={headingBefore}
          headingEmphasis={headingEmphasis}
          headingAfter={headingAfter}
          className="text-left"
          headingClassName="h2 mb-6"
          description={headingDescription}
          descriptionClassName="text-lg lg:text-xl text-text max-w-3xl"
        />

        <slot name="text" />

        <slot name="under-text" />

        <div class="flex flex-wrap gap-4">
          <Button
            client:visible
            variant="primary"
            size="lg"
            href={primaryCTA.href}
            rightIcon={primaryCTA.rightIcon}
          >
            {primaryCTA.text}
          </Button>
          <Button
            client:visible
            variant="secondary"
            size="lg"
            href={secondaryCTA.href}
            rightIcon={secondaryCTA.rightIcon}
          >
            {secondaryCTA.text}
          </Button>
        </div>
      </article>

      <aside class="lg:sticky lg:top-0 lg:flex-[0.85] w-full">
        <div class="bg-bg rounded-3xl border border-accent/20 p-4 lg:p-10 shadow-2xl space-y-6">
          <IconListItem
            client:visible
            data={{
              icon: sidebarIcon,
              title: sidebarTitle,
              description: sidebarEyebrow,
            }}
            layout="horizontal"
            alignment="left"
            className="items-start gap-4 w-full"
            iconSize="lg"
            titleClassName="h3"
            descriptionClassName="text-xs font-semibold uppercase tracking-[0.3em] emphasized-text"
            containerClassName="space-y-1"
          />
          <p class="text-muted leading-relaxed mt-4">
            {sidebarDescription}
          </p>

          <div class="mt-8 space-y-6">
            <slot name="quick-facts" />

            <div>
                <slot name="proof-points" />
            </div>
          </div>

          <div class="mt-8 rounded-2xl border border-accent/30 bg-gradient-to-br from-accent/15 via-transparent to-primary/10 p-6 flex items-center gap-4">
            <div class="text-4xl" aria-hidden="true">{sidebarFootIcon}</div>
            <div>
              <p class="text-heading font-semibold">{sidebarFootTitle}</p>
              <p class="text-muted text-sm leading-relaxed">
                {sidebarFootDescription}
              </p>
            </div>
          </div>
        </div>
      </aside>
    </div>

    <slot name="bottom-section" />
  </div>
</section>
