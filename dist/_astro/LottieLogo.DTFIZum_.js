const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/lottie_light.DrxjEB0o.js","_astro/react-core.INjS0cla.js"])))=>i.map(i=>d[i]);
import{r as t,j as w}from"./react-core.INjS0cla.js";import{_ as W}from"./lazy-utils.5qMb4LOZ.js";import{u as H,a as Z}from"./visibility-hooks.CrGIozah.js";const G=o=>{typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(o,{timeout:1e3}):setTimeout(o,0)},z=o=>o?typeof o.currentFrame=="number"?o.currentFrame:typeof o.currentRawFrame=="number"?o.currentRawFrame:0:0,$=2;function K({animationData:o=null,animationUrl:a=null,alt:R="",className:L="",containerClasses:S="relative",trigger:c="load",respectReducedMotion:T=!0,rewindToStartOnTop:u=!1,loop:D=!0,autoplay:f=!1,speed:C=1,renderer:j="svg",fadeMs:V=180,scrollThreshold:X=1,debounceDelay:ee=8,wheelSensitivity:te=1,children:Y}){const E=t.useRef(null),k=t.useRef(null),s=t.useRef(null),p=t.useRef(null),I=t.useRef(0),h=t.useRef(null),x=t.useRef(!1),A=t.useRef(!0),[_,B]=t.useState(!0),[m,v]=t.useState(!1),[O,J]=t.useState(!1),d=t.useCallback(()=>{const e=s.current;e&&h.current&&e.removeEventListener("enterFrame",h.current),h.current=null,x.current=!1},[]);t.useEffect(()=>{const e=()=>{const r=document.documentElement;J((r?.scrollHeight||0)>(window.innerHeight||0)+1)};"requestIdleCallback"in window?window.requestIdleCallback(e,{timeout:500}):setTimeout(e,100)},[]);const i=t.useMemo(()=>c==="scroll"||c==="visible"||c==="load"?c:O?"scroll":"load",[c,O]),b=T&&typeof window<"u"&&window.matchMedia?.("(prefers-reduced-motion: reduce)")?.matches,M=H(E,{threshold:.1,rootMargin:"0px",once:!0}),y=H(E,{threshold:0,rootMargin:"0px",once:!1});t.useEffect(()=>{if(!b)switch(i){case"load":v(!0);break;case"visible":y&&v(!0);break}},[i,y,b]);const N=t.useCallback(e=>{const r=s.current,n=Date.now();I.current=n,r&&(d(),clearTimeout(p.current),e>0?(r.setDirection(1),r.isPaused&&r.play()):e<0&&(r.setDirection(-1),r.isPaused&&r.play()),p.current=setTimeout(()=>{n===I.current&&r&&r.pause()},200))},[d]),P=t.useCallback(()=>{if(!u)return;const e=s.current;if(!e||x.current)return;if(z(e)<=0){e.goToAndStop(0,!0);return}x.current=!0,clearTimeout(p.current);const n=()=>{z(e)<=.5&&(e.pause(),e.goToAndStop(0,!0),d())};h.current=n,e.addEventListener("enterFrame",n),e.setDirection(-1),e.play()},[u,d]);Z({elementRef:null,scrollThreshold:1,debounceDelay:16,trustedOnly:!0,wheelSensitivity:1,onScrollActivity:i==="scroll"&&M?({dir:e,delta:r})=>{if(m||v(!0),s.current){const n=e==="down"?r:-r;N(n)}}:void 0,onWheelActivity:i==="scroll"&&M?({deltaY:e})=>{m||v(!0),s.current&&N(e)}:void 0}),t.useEffect(()=>{if(!u||i!=="scroll"||typeof window>"u")return;A.current=(window.scrollY||0)<=$;const e=()=>{const n=(window.scrollY||0)<=$;!A.current&&n&&P(),A.current=n};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[u,i,P]),t.useEffect(()=>{if(!m||!k.current||s.current)return;if(!o&&!a){console.warn("OptimizedLottie: No animationData or animationUrl provided");return}let e=!1;return G(async()=>{if(!e)try{const{default:r}=await W(async()=>{const{default:q}=await import("./lottie_light.DrxjEB0o.js").then(U=>U.l);return{default:q}},__vite__mapDeps([0,1]));let n=o;if(!n&&a&&(n=await(await fetch(a)).json()),e||!n)return;const l=r.loadAnimation({container:k.current,renderer:j,loop:D,autoplay:f,animationData:n});s.current=l,l.setSpeed(C),f||l.goToAndStop(0,!0);const g=()=>{f||l.goToAndStop(0,!0),requestAnimationFrame(()=>B(!1)),i==="load"&&f&&(l.setDirection(1),l.play())};l.addEventListener("DOMLoaded",g),l.addEventListener("data_ready",g),Promise.resolve().then(()=>g())}catch(r){console.error("OptimizedLottie: Failed to load animation:",r)}}),()=>{e=!0,d(),s.current?.destroy?.(),s.current=null}},[m,i,o,a,j,D,f,C,d]),t.useEffect(()=>{i!=="visible"||!s.current||!_&&y&&(s.current.setDirection(1),s.current.play())},[i,y,_]),t.useEffect(()=>()=>clearTimeout(p.current),[]);const F=b||_;return w.jsxs("div",{ref:E,"aria-label":R,className:`${L} ${S}`,children:[w.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{transition:`opacity ${V}ms ease`,opacity:F?1:0},"aria-hidden":!F,children:w.jsx("div",{className:"w-full h-full",children:Y})}),m&&w.jsx("div",{ref:k,className:"absolute inset-0",style:{visibility:b?"hidden":"visible"},"aria-hidden":F})]})}const Q=new URL("/assets/Animation_logo_small_size-D67EJZur.json",import.meta.url);function se({alt:o="",className:a="logo-class",mediaClasses:R="block w-[40px] h-[40px] lg:w-[45px] lg:h-[45px] object-contain",trigger:L="auto",respectReducedMotion:S=!0,fadeMs:c=180,loop:T=!0,children:u}){return w.jsx(K,{animationUrl:Q,alt:o,className:a,containerClasses:`relative ${R}`,trigger:L,respectReducedMotion:S,fadeMs:c,rewindToStartOnTop:!0,loop:T,autoplay:!1,speed:.5,renderer:"svg",scrollThreshold:1,debounceDelay:8,wheelSensitivity:1,children:u})}export{se as default};
