import{j as k,r as t}from"./react-core.lhpfgRL0.js";import{d as V,b as $}from"./scriptManager.D0TGFUKm.js";const D=({className:r=""})=>k.jsx("svg",{className:r,fill:"currentColor",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"})}),N=({className:r=""})=>k.jsx("svg",{className:r,fill:"currentColor",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"})}),T={floating:"absolute z-40 w-10 h-10 md:w-12 md:h-12 rounded-full bg-heading/10 border border-heading/20 text-text backdrop-blur-sm hover:bg-heading/20 transition hover:border-heading/75",inline:"w-10 h-10 md:w-12 md:h-12 rounded-full faded-bg text-text backdrop-blur-sm transition hover:bg-heading/20 hover:border-heading/50"},U="mx-auto my-auto w-4.5 h-4.5 md:w-6 md:h-6",X=({direction:r="left",variant:v="floating",position:c,className:u="",iconClassName:d,disabled:b,...o})=>{const e=r==="left"?D:N,l=r==="left"?"Previous":"Next",s=v==="custom"?u:T[v]||`${v} ${u}`.trim(),n=c?{left:c.left,right:c.right,top:c.top??"50%",transform:c.transform??"translate(-50%, -50%)",...c}:void 0;return k.jsx("button",{type:"button","aria-label":l,className:s,style:n,disabled:b,...o,children:k.jsx(e,{className:d||U})})},W=r=>k.jsx(X,{direction:"left",...r}),_=r=>k.jsx(X,{direction:"right",...r});function q({totalItems:r,currentIndex:v,setIndex:c,autoplayTime:u=3e3,loop:d=!0,enabled:b=!0}){const o=t.useRef(null),e=t.useCallback(()=>{o.current&&(clearTimeout(o.current),o.current=null)},[]),l=t.useCallback(()=>{if(r<=1)return;const m=v+1,i=m>=r?d?0:Math.max(r-1,0):m;c(i)},[v,d,c,r]),s=t.useCallback(()=>{try{return typeof u=="function"?u():u}catch{return 3e3}},[u]),n=t.useCallback(()=>{if(e(),!b||r<=1)return;const m=Math.max(0,Number(s())||0);o.current=setTimeout(l,m)},[l,e,b,s,r]);return t.useEffect(()=>(n(),e),[n,e]),{schedule:n,clearTimer:e,advance:l}}const z=({initialPausedState:r=!1,resumeTriggers:v=["scroll","click-outside","hover-away"],resumeDelay:c=5e3}={})=>{const[u,d]=t.useState(r),[b,o]=t.useState(!1),[e,l]=t.useState(!1),[s,n]=t.useState(!1),m=t.useRef(null),i=t.useCallback(()=>{m.current&&(clearTimeout(m.current),m.current=null),n(!1)},[]),f=t.useCallback(()=>{i(),n(!0),m.current=setTimeout(()=>{n(!1),o(!1),l(!1),d(!1)},c)},[i,c]),a=t.useCallback(()=>d(!0),[]),h=t.useCallback(()=>{i(),d(!1),o(!1),l(!1)},[i]),g=t.useCallback(()=>d(x=>!x),[]),w=t.useCallback(()=>{i(),o(!0),l(!0)},[i]),E=t.useCallback(()=>{o(!1),l(!1)},[]),P=t.useCallback(()=>e&&b?(d(!0),!0):!1,[e,b]),A=t.useCallback(x=>{v.includes(x)&&(o(!1),l(!1),u&&f())},[u,v,f]);return t.useEffect(()=>()=>i(),[i]),{isPaused:u,userEngaged:b,shouldPauseAfterVideo:e,isResumeScheduled:s,scheduleResume:f,cancelScheduledResume:i,pause:a,resume:h,toggle:g,engageUser:w,disengageUser:E,pauseAfterVideoIfEngaged:P,handleResumeActivity:A}},B=({containerSelector:r="[data-container]",itemSelector:v="[data-item]",onOutsideClick:c=()=>{},onInsideClick:u=()=>{},onItemClick:d=()=>{},trustedOnly:b=!0}={})=>(t.useEffect(()=>{const o=e=>{if(b&&!e.isTrusted)return;const l=e.target,s=l?.closest?.(r)??null,n=l?.closest?.(v)??null;if(!s){c(e);return}u(e,s),d(e,n,s)};return document.addEventListener("click",o),()=>document.removeEventListener("click",o)},[r,v,u,c,d,b]),{triggerClick:o=>{document.querySelector(o)?.click?.()}});function F({totalItems:r,currentIndex:v,setIndex:c,autoplayTime:u=3e3,resumeDelay:d=5e3,resumeTriggers:b=["scroll","click-outside","hover-away"],containerSelector:o="[data-autoplay-container]",itemSelector:e="[data-autoplay-item]",inView:l=!0,pauseOnEngage:s=!1,engageOnlyOnActiveItem:n=!1,activeItemAttr:m="data-active"}){const i=t.useRef(!1),{isPaused:f,userEngaged:a,isResumeScheduled:h,engageUser:g,handleResumeActivity:w,pause:E,resume:P}=z({initialPausedState:!1,resumeTriggers:b,resumeDelay:d}),{advance:A,schedule:x}=q({totalItems:r,currentIndex:v,setIndex:c,autoplayTime:u,enabled:!f&&l}),j=t.useCallback(()=>{i.current=!0,a&&!f&&E()},[E,a,f]);return t.useEffect(()=>{i.current=!1},[v]),t.useEffect(()=>{i.current&&a&&!f&&E()},[a,f,E]),V({scrollThreshold:10,debounceDelay:120,onScrollActivity:()=>w("scroll")}),B({containerSelector:o,itemSelector:e,onOutsideClick:()=>w("click-outside"),onInsideClick:()=>{},onItemClick:(C,y)=>{n&&!(y?.getAttribute(m)==="true")||(g(),s&&E())}}),t.useEffect(()=>{const C=Array.from(document.querySelectorAll(e));if(!C.length)return;const y=p=>!!p&&(!n||p.getAttribute(m)==="true"),L=p=>{const M=p.currentTarget;y(M)&&(g(),s&&E())},S=p=>{const M=p.relatedTarget?.closest?.(e)??null;y(M)||w("hover-away")};C.forEach(p=>{p.addEventListener("mouseenter",L),p.addEventListener("mouseleave",S)});const R=p=>{if(!a)return;const Y=document.elementFromPoint(p.clientX,p.clientY)?.closest?.(e)??null;y(Y)||w("hover-away")};return document.addEventListener("pointermove",R,{passive:!0}),()=>{C.forEach(p=>{p.removeEventListener("mouseenter",L),p.removeEventListener("mouseleave",S)}),document.removeEventListener("pointermove",R)}},[e,m,n,s,g,E,w,a]),t.useEffect(()=>{const C=document.querySelector(o);if(!C)return;const y=L=>{const R=L.detail?.phase,p=L.target?.closest?.(e);n&&!(p?.getAttribute(m)==="true")||(R==="start"?(g(),s&&!f&&E()):R==="end"&&w("scroll"))};return C.addEventListener("autoscroll-user",y),()=>C.removeEventListener("autoscroll-user",y)},[o,e,m,n,s,g,E,f,w]),t.useMemo(()=>({isAutoplayPaused:f,isResumeScheduled:h,userEngaged:a,pause:E,resume:P,engageUser:g,advance:A,schedule:x,beginGraceWindow:j}),[A,x,j,g,f,h,E,P,a])}function J({containerRef:r,totalItems:v,currentIndex:c,setIndex:u,autoplay:d=!0,autoplayTime:b=4e3,threshold:o=.3,resumeDelay:e=5e3,resumeTriggers:l=["scroll","click-outside","hover-away"],pauseOnEngage:s=!0,engageOnlyOnActiveItem:n=!0,activeItemAttr:m="data-active"}){const i=t.useMemo(()=>`carousel-${Math.random().toString(36).slice(2,8)}`,[]),f=$(r,{threshold:o}),a=F({totalItems:v,currentIndex:c,setIndex:u,autoplayTime:b,resumeDelay:e,resumeTriggers:l,containerSelector:`[data-autoplay-scope="${i}"]`,itemSelector:`[data-autoplay-scope="${i}"] [data-carousel-item]`,inView:d&&f,pauseOnEngage:s,engageOnlyOnActiveItem:n,activeItemAttr:m});return{scopeId:i,inView:f,...a}}const K=({enabled:r=!0,leftElRef:v,rightElRef:c,onLeft:u=()=>{},onRight:d=()=>{},dragThreshold:b=40,tapThreshold:o=12}={})=>{const e=t.useRef({active:!1,zone:null,id:null,startX:0,startY:0,moved:!1,slid:!1}),l=t.useCallback((s,n)=>{if(!s||typeof window>"u")return()=>{};const m=a=>{r&&(e.current={active:!0,zone:n,id:a.pointerId,startX:a.clientX,startY:a.clientY,moved:!1,slid:!1},s.setPointerCapture?.(a.pointerId))},i=a=>{const h=e.current;if(!h.active||h.id!==a.pointerId||h.zone!==n)return;const g=a.clientX-h.startX,w=a.clientY-h.startY;!h.moved&&(Math.abs(g)>2||Math.abs(w)>2)&&(h.moved=!0),!(Math.abs(w)>Math.abs(g))&&(a.preventDefault(),!h.slid&&Math.abs(g)>=b&&(n==="left"?u():d(),h.slid=!0))},f=a=>{const h=e.current;if(!h.active||h.id!==a.pointerId||h.zone!==n)return;const g=a.clientX-h.startX,w=a.clientY-h.startY;!h.slid&&Math.hypot(g,w)<=o&&(n==="left"?u():d());try{s.releasePointerCapture?.(a.pointerId)}catch{}e.current={active:!1,zone:null,id:null,startX:0,startY:0,moved:!1,slid:!1}};return s.addEventListener("pointerdown",m),s.addEventListener("pointermove",i),s.addEventListener("pointerup",f),s.addEventListener("pointercancel",f),()=>{s.removeEventListener("pointerdown",m),s.removeEventListener("pointermove",i),s.removeEventListener("pointerup",f),s.removeEventListener("pointercancel",f)}},[b,r,u,d,o]);t.useEffect(()=>{if(!r)return;const s=l(v?.current??null,"left"),n=l(c?.current??null,"right");return()=>{s?.(),n?.()}},[r,v,c,l])};export{W as L,_ as R,J as a,K as b,F as u};
