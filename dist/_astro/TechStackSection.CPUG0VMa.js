import{r as e,j as t}from"./react-core.QUkC7_l_.js";import{H as B}from"./Heading.C9E5r3zD.js";import{u as se}from"./useVisibility.B-3m_lqm.js";import{u as re}from"./useEngagementAutoplay.L-4y69yR.js";import{s as oe}from"./animationProps.HaIMKbsm.js";import{I as ie}from"./Icon.DeSJHGIO.js";import"./IntersectionObserver.CmZxnn85.js";const le=e.forwardRef(function({items:i=[],renderItem:l=()=>null,children:c,speed:f=30,duplicateCount:a=3,autoplay:u=!0,pauseOnHover:x=!0,pauseOnEngage:p=!0,startDelay:d=2500,gap:b=24,itemWidth:g=120,gradientMask:M=!0,gradientWidth:m={base:48,md:80},threshold:G=.3,onItemInteraction:U,resumeDelay:$=500,resumeTriggers:X=["scroll","click-outside","hover-away"],containerSelector:J,itemSelector:K,className:Q="",trackClassName:W=""},Y){const N=e.useRef(null),C=e.useRef(null),[A,L]=e.useState(0),S=e.useMemo(()=>`smooth-carousel-${Math.random().toString(36).slice(2,8)}`,[]);e.useImperativeHandle(Y,()=>({container:N.current,track:C.current,getCurrentOffset:()=>A,setOffset:L}));const T=se(N,{threshold:G}),w=e.useMemo(()=>e.Children.toArray(c).filter(Boolean),[c]),E=w.length>0,y=E?w.length:i.length,Z=e.useMemo(()=>E?Array.from({length:a},(n,s)=>w.map((o,h)=>({type:"child",node:o,originalIndex:h,duplicateIndex:s}))).flat():Array.from({length:a},(n,s)=>i.map((o,h)=>({type:"item",item:o,originalIndex:h,duplicateIndex:s}))).flat(),[w,a,i,E]),j=y*g,{engageUser:H,isAutoplayPaused:O,userEngaged:ue,isResumeScheduled:de,pause:z,resume:F}=re({totalItems:Math.max(y,1),currentIndex:y>0?Math.floor(Math.abs(A)/g)%y:0,setIndex:()=>{},autoplayTime:50,resumeDelay:$,resumeTriggers:X,containerSelector:J||`[data-autoplay-scope="${S}"]`,itemSelector:K||`[data-autoplay-scope="${S}"] [data-smooth-item]`,inView:u&&T,pauseOnEngage:p,engageOnlyOnActiveItem:!1,activeItemAttr:"data-active"}),[P,V]=e.useState(!1);e.useEffect(()=>{if(!(u&&T&&!O)){V(!1);return}const s=window.setTimeout(()=>V(!0),d);return()=>window.clearTimeout(s)},[u,T,O,d]),e.useEffect(()=>{if(!P)return;let n,s=performance.now();const o=h=>{const ae=(h-s)/1e3;s=h,L(q=>{if(j<=0)return q;let R=q-f*ae;return Math.abs(R)>=j&&(R+=j),R}),n=requestAnimationFrame(o)};return n=requestAnimationFrame(o),()=>cancelAnimationFrame(n)},[P,f,j]);const v=e.useRef(null),I=e.useCallback(()=>{v.current&&(window.clearTimeout(v.current),v.current=null)},[]),D=e.useCallback(()=>{I(),v.current=window.setTimeout(()=>{F(),v.current=null},$)},[I,F,$]),_=(n,s,o)=>{p&&(H(),z()),U?.(n,s,o)},ee=()=>{x&&(H(),z())},te=()=>{x&&D()};e.useEffect(()=>()=>I(),[I]);const[k,ne]=e.useState(()=>typeof window>"u"?m.base:window.innerWidth>=768?m.md:m.base);return e.useEffect(()=>{if(typeof window>"u")return;const n=()=>{ne(window.innerWidth>=768?m.md:m.base)};return window.addEventListener("resize",n,{passive:!0}),()=>window.removeEventListener("resize",n)},[m.base,m.md]),t.jsxs("div",{ref:N,"data-autoplay-scope":S,className:`relative w-full overflow-hidden ${Q}`.trim(),"data-smooth-carousel":!0,onMouseEnter:ee,onMouseLeave:te,children:[M&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-gradient-to-r from-bg to-transparent z-10 pointer-events-none",style:{width:`${k}px`}}),t.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-gradient-to-l from-bg to-transparent z-10 pointer-events-none",style:{width:`${k}px`}})]}),t.jsx("div",{className:"overflow-hidden",style:{paddingInline:`${k}px`},children:t.jsx("div",{ref:C,className:`flex items-center ${W}`.trim(),style:{transform:`translateX(${A}px)`,width:"max-content",gap:`${b}px`},children:Z.map((n,s)=>t.jsx("div",{"data-smooth-item":!0,className:"flex-shrink-0",onMouseEnter:()=>_(n,s,"hover"),children:n.type==="child"?n.node:l(n.item,s,{isActive:!1,onInteraction:o=>_(n.item,s,o)})},`${n.originalIndex}-${n.duplicateIndex}-${s}`))})}),!1]})});function ce({name:r,index:i,onTechHover:l,onTechLeave:c,showName:f=!1,className:a="",children:u}){const[x,p]=e.useState(!1),d=e.useRef(null);e.useEffect(()=>()=>{d.current&&window.clearTimeout(d.current)},[]);const b=()=>l?.(r),g=()=>{p(!1),c?.()},M=()=>{d.current&&window.clearTimeout(d.current),p(!0),l?.(r),d.current=window.setTimeout(()=>{p(!1),c?.()},2500)};return t.jsxs("div",{...oe("fade-in",i,{once:!0,staggerDelay:50}),"data-tech-item":!0,"data-tech-name":r,"data-index":i,className:`group flex flex-col items-center flex-shrink-0 ${a}`.trim(),role:"button",tabIndex:0,"aria-label":r,onMouseEnter:b,onMouseLeave:g,onFocus:b,onBlur:g,onTouchStart:M,children:[t.jsx("div",{className:"relative p-2 transition-all duration-300 group-hover:scale-110 cursor-pointer select-none",children:t.jsx("div",{className:`relative text-heading transition-opacity duration-300 ${x?"opacity-100":"opacity-70 group-hover:opacity-100"}`,children:u})}),f?t.jsx("div",{className:`mt-2 text-xs md:text-sm text-muted transition-all duration-300 whitespace-nowrap ${x?"opacity-100 translate-y-0":"opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0"}`,children:r}):t.jsx("span",{className:"sr-only",children:r})]})}function be({technologies:r=[],className:i=""}){const[l,c]=e.useState(null),f=e.useMemo(()=>r.filter(a=>a?.title).map(a=>({name:a.title??"",icon:a.icon??"lucide:code"})),[r]);return t.jsx("div",{className:`inner-section text-center lg:text-left ${i}`.trim(),children:t.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-[1fr_2fr] gap-6 lg:gap-8 items-center",children:[t.jsx("div",{className:"w-sm",children:t.jsxs("div",{className:"relative inline-block mb-6 leading-tight",children:[t.jsx(B,{tagName:"h2",before:"We've mastered ",text:"the tools that matter.",className:`transition-opacity duration-150 ${l?"opacity-0":"opacity-100"}`,beforeClass:"text-heading block lg:inline",textClass:"text-heading block lg:inline"}),t.jsx(B,{tagName:"h2",before:"We've mastered ",text:l??"",className:`absolute inset-0 pointer-events-none transition-opacity duration-150 ${l?"opacity-100":"opacity-0"}`,beforeClass:"text-heading block lg:inline",textClass:"text-accent block lg:inline"})]})}),t.jsx(le,{startDelay:5e3,speed:30,gap:32,itemWidth:120,autoplay:!0,pauseOnHover:!0,pauseOnEngage:!0,gradientMask:!0,gradientWidth:{base:48,md:72},className:"relative w-full h-[84px] md:h-[96px]",children:f.map((a,u)=>t.jsx(ce,{name:a.name,index:u,onTechHover:c,onTechLeave:()=>c(null),children:t.jsx(ie,{icon:a.icon,size:"xl","aria-label":a.name})},`${a.name}-${u}`))})]})})}export{be as default};
