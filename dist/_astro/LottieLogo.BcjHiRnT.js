const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/lottie_light.DrxjEB0o.js","_astro/react-core.INjS0cla.js"])))=>i.map(i=>d[i]);
import{r,j as h}from"./react-core.INjS0cla.js";import{_ as K}from"./Theme.astro_astro_type_script_index_0_lang.XY7X53dv.js";import{u as z,a as X}from"./visibility-hooks.Cl1L1XKD.js";import"./ui-primitives.YsNo9MyY.js";import"./accordion.CrY4pn0C.js";import"./engagement-hooks.ChazTTXB.js";const B=["data-a11y-motion","data-a11y-animations"];function M(){if(typeof window>"u"||typeof document>"u")return!1;const t=document.documentElement,u=window.matchMedia?.("(prefers-reduced-motion: reduce)")?.matches??!1,l=t.getAttribute("data-a11y-motion")==="reduced",c=t.getAttribute("data-a11y-animations")==="true";return u||l||c}function Q(t=!0){const[u,l]=r.useState(()=>t?M():!1);return r.useEffect(()=>{if(!t||typeof window>"u"||typeof document>"u")return;const c=()=>{l(M())};c();const b=window.matchMedia?window.matchMedia("(prefers-reduced-motion: reduce)"):null;b?.addEventListener("change",c);const d=new MutationObserver(p=>{for(const a of p)if(a.type==="attributes"&&a.attributeName&&B.includes(a.attributeName)){c();break}});return d.observe(document.documentElement,{attributes:!0,attributeFilter:B}),()=>{b?.removeEventListener("change",c),d.disconnect()}},[t]),r.useEffect(()=>{l(t?M():!1)},[t]),t?u:!1}const Z=t=>{typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(t,{timeout:1e3}):setTimeout(t,0)},V=t=>t?typeof t.currentFrame=="number"?t.currentFrame:typeof t.currentRawFrame=="number"?t.currentRawFrame:0:0,Y=2;function ee({animationData:t=null,animationUrl:u=null,alt:l="",className:c="",containerClasses:b="relative",trigger:d="load",respectReducedMotion:p=!0,rewindToStartOnTop:a=!1,loop:S=!0,autoplay:v=!1,speed:P=1,renderer:I="svg",fadeMs:U=180,scrollThreshold:re=1,debounceDelay:ne=8,wheelSensitivity:oe=1,children:W}){const A=r.useRef(null),g=r.useRef(null),i=r.useRef(null),y=r.useRef(null),O=r.useRef(0),T=r.useRef(null),D=r.useRef(!1),_=r.useRef(!0),[k,j]=r.useState(!0),[R,E]=r.useState(!1),[C,G]=r.useState(!1),m=r.useCallback(()=>{const e=i.current;e&&T.current&&e.removeEventListener("enterFrame",T.current),T.current=null,D.current=!1},[]);r.useEffect(()=>{const e=()=>{const n=document.documentElement;G((n?.scrollHeight||0)>(window.innerHeight||0)+1)};"requestIdleCallback"in window?window.requestIdleCallback(e,{timeout:500}):setTimeout(e,100)},[]);const f=r.useMemo(()=>d==="scroll"||d==="visible"||d==="load"?d:C?"scroll":"load",[d,C]),o=Q(p),N=z(A,{threshold:.1,rootMargin:"0px",once:!0}),L=z(A,{threshold:0,rootMargin:"0px",once:!1});r.useEffect(()=>{if(!o)switch(f){case"load":E(!0);break;case"visible":L&&E(!0);break}},[f,L,o]);const $=r.useCallback(e=>{const n=i.current,s=Date.now();O.current=s,n&&(m(),clearTimeout(y.current),e>0?(n.setDirection(1),n.isPaused&&n.play()):e<0&&(n.setDirection(-1),n.isPaused&&n.play()),y.current=setTimeout(()=>{s===O.current&&n&&n.pause()},200))},[m]),q=r.useCallback(()=>{if(!a)return;const e=i.current;if(!e||D.current)return;if(V(e)<=0){e.goToAndStop(0,!0);return}D.current=!0,clearTimeout(y.current);const s=()=>{V(e)<=.5&&(e.pause(),e.goToAndStop(0,!0),m())};T.current=s,e.addEventListener("enterFrame",s),e.setDirection(-1),e.play()},[a,m]);X({elementRef:null,scrollThreshold:1,debounceDelay:16,trustedOnly:!0,wheelSensitivity:1,onScrollActivity:f==="scroll"&&N?({dir:e,delta:n})=>{if(!o&&(R||E(!0),i.current)){const s=e==="down"?n:-n;$(s)}}:void 0,onWheelActivity:f==="scroll"&&N?({deltaY:e})=>{o||(R||E(!0),i.current&&$(e))}:void 0}),r.useEffect(()=>{if(!a||f!=="scroll"||o||typeof window>"u")return;_.current=(window.scrollY||0)<=Y;const e=()=>{const s=(window.scrollY||0)<=Y;!_.current&&s&&q(),_.current=s};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[a,f,q,o]),r.useEffect(()=>{if(o||!R||!g.current||i.current)return;if(!t&&!u){console.warn("OptimizedLottie: No animationData or animationUrl provided");return}let e=!1;return Z(async()=>{if(!e)try{const{default:n}=await K(async()=>{const{default:H}=await import("./lottie_light.DrxjEB0o.js").then(J=>J.l);return{default:H}},__vite__mapDeps([0,1]));let s=t;if(!s&&u&&(s=await(await fetch(u)).json()),e||!s)return;const w=n.loadAnimation({container:g.current,renderer:I,loop:S,autoplay:v,animationData:s});i.current=w,w.setSpeed(P),v||w.goToAndStop(0,!0);const F=()=>{v||w.goToAndStop(0,!0),requestAnimationFrame(()=>j(!1)),f==="load"&&v&&(w.setDirection(1),w.play())};w.addEventListener("DOMLoaded",F),w.addEventListener("data_ready",F),Promise.resolve().then(()=>F())}catch(n){console.error("OptimizedLottie: Failed to load animation:",n)}}),()=>{e=!0,m(),i.current?.destroy?.(),i.current=null}},[R,f,t,u,I,S,v,P,m,o]),r.useEffect(()=>{o&&(j(!0),E(!1),m(),clearTimeout(y.current),i.current?.destroy?.(),i.current=null)},[o,m]),r.useEffect(()=>{f!=="visible"||!i.current||o||!k&&L&&(i.current.setDirection(1),i.current.play())},[f,L,k,o]),r.useEffect(()=>()=>clearTimeout(y.current),[]);const x=o||k;return h.jsxs("div",{ref:A,"aria-label":l,className:`${c} ${b}`,children:[h.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{transition:`opacity ${U}ms ease`,opacity:x?1:0},"aria-hidden":!x,children:h.jsx("div",{className:"w-full h-full",children:W})}),R&&!o&&h.jsx("div",{ref:g,className:"absolute inset-0",style:{visibility:o?"hidden":"visible"},"aria-hidden":x})]})}const te="/lotties/Animation_logo_small_size.json";function de({alt:t="",className:u="logo-class",mediaClasses:l="block w-[40px] h-[40px] lg:w-[45px] lg:h-[45px] object-contain",trigger:c="auto",respectReducedMotion:b=!0,fadeMs:d=180,loop:p=!0,children:a}){return Q(b)?h.jsx("div",{className:`${u} relative ${l}`,"aria-label":t,children:a}):h.jsx(ee,{animationUrl:te,alt:t,className:u,containerClasses:`relative ${l}`,trigger:c,respectReducedMotion:b,fadeMs:d,rewindToStartOnTop:!0,loop:p,autoplay:!1,speed:.5,renderer:"svg",scrollThreshold:1,debounceDelay:8,wheelSensitivity:1,children:a})}export{de as default};
