const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/CookiePreferencesModal.DcxqJbhD.js","_astro/react-core.INjS0cla.js","_astro/scriptManager.jKgPrBry.js","_astro/accordion.C9MMlmzN.js","_astro/ui-primitives.B02S2cKU.js","_astro/visibility-hooks.CrGIozah.js","_astro/engagement-hooks.CKajifgp.js","_astro/lazy-utils.D53SodFx.js"])))=>i.map(i=>d[i]);
import{r as s,bL as S,j as e}from"./react-core.INjS0cla.js";import{_ as M}from"./lazy-utils.D53SodFx.js";import{u as R,e as N}from"./scriptManager.jKgPrBry.js";import{B as j}from"./accordion.C9MMlmzN.js";let v=null;function _(){return v||(typeof document>"u"?null:(v=document.body,v))}const P={center:"flex items-center justify-center","bottom-left":"flex items-end justify-start p-4","bottom-right":"flex items-end justify-end p-4","top-left":"flex items-start justify-start p-4","top-right":"flex items-start justify-end p-4"};function T({isOpen:t,onClose:r,children:i,closeButton:d=!0,closeButtonClass:a="absolute top-4 right-4",overlayClass:u="bg-black bg-opacity-50",className:x="bg-bg shadow-xl p-6 rounded-lg max-w-lg w-full mx-4",allowScroll:f=!1,ariaLabel:h,ariaDescribedBy:m,position:p="center",ssr:c=!0}){const[n,o]=s.useState(c?t:!1),b=s.useRef(null);s.useEffect(()=>{!c&&!n&&o(!0)},[c,n]),s.useEffect(()=>{t&&o(!0)},[t]),s.useEffect(()=>{if(!n||!t||f)return;const l=document.body.style.overflow,w=document.body.style.paddingRight,C=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",C>0&&(document.body.style.paddingRight=`${C}px`),()=>{document.body.style.overflow=l,document.body.style.paddingRight=w}},[n,t,f]),s.useEffect(()=>{if(!n||!t)return;const l=w=>{w.key==="Escape"&&r()};return document.addEventListener("keydown",l,{passive:!0}),()=>{document.removeEventListener("keydown",l)}},[n,t,r]);const g=()=>{t||o(!1)},y=l=>{l.target===l.currentTarget&&r()},E=l=>{l.stopPropagation()},$=t?"pointer-events-auto":"pointer-events-none";if(!c&&!n||!n)return null;const k=_();return k?S.createPortal(e.jsx("div",{className:`fixed inset-0 z-[9999] ${P[p]} ${u} transform transition-opacity duration-300 ease-in-out ${t?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:y,onTransitionEnd:g,role:"dialog","aria-modal":"true","aria-label":h,"aria-describedby":m,children:e.jsxs("div",{ref:b,className:`relative ${x} ${$} transform-gpu transition-all duration-300 ease-in-out origin-center ${t?"scale-100 translate-y-0 opacity-100":"scale-95 translate-y-4 opacity-0"}`,onClick:E,tabIndex:-1,children:[d&&e.jsx("button",{onClick:r,className:a,"aria-label":"Close modal",type:"button",children:e.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})}),i]})}),k):null}const L=s.memo(T);function D({label:t,description:r,checked:i,onChange:d,disabled:a=!1,note:u,id:x,bordered:f=!0,className:h="",hideText:m=!1,size:p="md"}){const c=s.useId(),n=x??c,o=`${n}-label`,b=r?`${n}-description`:void 0,g=p==="lg"?{track:"h-7 w-12",thumb:"h-5 w-5",on:"translate-x-6",off:"translate-x-1"}:p==="sm"?{track:"h-5 w-9",thumb:"h-3.5 w-3.5",on:"translate-x-5",off:"translate-x-1"}:{track:"h-6 w-11",thumb:"h-4 w-4",on:"translate-x-6",off:"translate-x-1"},y=()=>{a||d(!i)};return e.jsxs("div",{className:`flex items-start justify-between gap-4 ${f?"border-b border-surface last:border-b-0":""} ${h}`,children:[e.jsxs("div",{className:`flex-1 pr-4 ${a?"cursor-not-allowed":"cursor-pointer"}`,onClick:y,role:"presentation",children:[e.jsx("p",{id:o,className:`font-semibold text-heading ${m?"sr-only":""}`,children:t}),r&&e.jsx("p",{id:b,className:`text-sm text-text mt-1 ${m?"sr-only":""}`,children:r})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u&&e.jsx("span",{className:"text-xs font-semibold text-primary",children:u}),e.jsx("button",{type:"button",id:n,role:"switch","aria-checked":i,"aria-labelledby":o,"aria-describedby":b,"aria-disabled":a,disabled:a,onClick:y,className:`relative inline-flex ${g.track} items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 ${i?"bg-primary":"bg-text/20"} ${a?"opacity-60 cursor-not-allowed":""}`,children:e.jsx("span",{className:`inline-block ${g.thumb} transform rounded-full bg-bg transition-transform shadow ${i?g.on:g.off}`})})]})]})}function A(){const[t,r]=s.useState(!1),[i,d]=s.useState(!1),[a,u]=s.useTransition(),{setCookie:x}=R(),[f,h]=s.useState(null),m=s.useRef(!1);s.useEffect(()=>{if(document.cookie.includes("cookie-consent="))return;const o=setTimeout(()=>{r(!0)},1e3);return()=>clearTimeout(o)},[]);const p=()=>{const o={necessary:!0,functional:!0,performance:!0,targeting:!0,timestamp:Date.now()};x("cookie-consent",JSON.stringify(o),{expires:365}),N(),window.dispatchEvent(new Event("consent-changed")),u(()=>{r(!1)})},c=()=>{const o={necessary:!0,functional:!1,performance:!1,targeting:!1,timestamp:Date.now()};x("cookie-consent",JSON.stringify(o),{expires:365}),N(),window.dispatchEvent(new Event("consent-changed")),u(()=>{r(!1)})},n=()=>{m.current?d(!0):(m.current=!0,M(()=>import("./CookiePreferencesModal.DcxqJbhD.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(o=>{h(()=>o.default),d(!0)}))};return e.jsxs(e.Fragment,{children:[e.jsx(L,{isOpen:t,onClose:()=>r(!1),closeButton:!1,position:"bottom-left",className:"consent-banner",overlayClass:"bg-transparent pointer-events-none",allowScroll:!0,ssr:!1,ariaLabel:"Cookie consent banner",children:e.jsx("div",{className:"outer-card-transition group text-left",children:e.jsxs("div",{className:"outer-card-style card-bg-2",children:[e.jsx("div",{className:"inner-card-style inner-card-transition inner-card-color","aria-hidden":"true"}),e.jsxs("div",{className:"relative z-10 flex flex-col gap-6",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",role:"img","aria-label":"Cookie",children:"ðŸª"}),e.jsxs("p",{className:"text-sm text-text leading-relaxed",children:["We use cookies to improve your browsing experience and for marketing purposes."," ",e.jsx(j,{variant:"link",onClick:n,type:"button",children:"Manage preferences"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(j,{variant:"secondary",onClick:c,fullWidth:!0,type:"button",size:"md",disabled:a,children:"Reject All"}),e.jsx(j,{variant:"primary",onClick:p,fullWidth:!0,className:"flex-1",animated:!1,type:"button",size:"md",disabled:a,children:"Accept All"})]})]})]})})}),f&&e.jsx(f,{isOpen:i,onClose:()=>d(!1)})]})}const J=Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"}));export{J as C,L as M,D as T};
