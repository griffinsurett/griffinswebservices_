import{r as i}from"./react-core.BKcrIQ47.js";import{u as v}from"./useVisibility.Dfexy_Di.js";function A(n){if(typeof n=="number")return`0px 0px ${n}px 0px`;const t=String(n??"").trim();return/^-?\d+px$/.test(t)?`0px 0px ${t} 0px`:t||"0px"}function D({ref:n,duration:t=600,delay:m=0,easing:p="cubic-bezier(0.4, 0, 0.2, 1)",threshold:$=.2,rootMargin:b="0px 0px -50px 0px",once:y=!1,onStart:u,onComplete:f,onReverse:d}={}){const x=n??i.useRef(null),r=v(x,{threshold:$,rootMargin:A(b),once:y}),e=typeof window>"u"?!0:r,[s,l]=i.useState("forward"),w=i.useRef(!1);i.useEffect(()=>{const g=w.current,V=r&&!g,h=!r&&g;V&&(l("forward"),u?.(),f?.()),h&&(l("reverse"),d?.()),w.current=r},[r,f,d,u]);const o=e?100:0,a=e?1:0,c=i.useMemo(()=>({"--animation-duration":`${t}ms`,"--animation-delay":`${m}ms`,"--animation-easing":p,"--animation-progress":`${o}%`,"--animation-progress-decimal":a,"--animation-direction":s}),[m,s,t,p,o,a]),R=i.useMemo(()=>({style:c,"data-visible":e?"true":"false","data-animation-direction":s}),[s,e,c]);return{ref:x,inView:e,progress:o,progressDecimal:a,direction:s,isAnimating:e,hasAnimated:e,props:R,style:c}}export{D as u};
