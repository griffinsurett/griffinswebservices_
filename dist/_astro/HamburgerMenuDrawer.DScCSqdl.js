import{j as e,r as o}from"./react-core.INjS0cla.js";import{M as C}from"./CookieConsentBanner.CxXlLRXa.js";import{B as j}from"./accordion.BXVC5r2y.js";import{I as M}from"./ui-primitives.CM-pdwI4.js";import"./lazy-utils.CHL3-7XF.js";import"./scriptManager.jKgPrBry.js";import"./visibility-hooks.CrGIozah.js";import"./engagement-hooks.CKajifgp.js";function $({title:l,url:i,children:f=[],openInNewTab:c=!1,onNavigate:s,onOpenSubmenu:u}){const a=f.length>0,h=()=>{a&&u?.({title:l,items:f})},m=()=>{if(i){s();return}h()};return a?e.jsx("li",{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{variant:"menuItemButton",className:"hover-emphasis-text inline-flex items-center gap-2 text-left",onClick:m,...i?{href:i,target:c?"_blank":void 0,rel:c?"noopener noreferrer":void 0}:{type:"button"},children:l}),e.jsx("button",{type:"button",onClick:h,"aria-label":`View submenu for ${l}`,className:"text-text",children:e.jsx(M,{icon:"lu:chevron-right",size:"md",className:"w-6 h-6"})})]})}):e.jsx("li",{children:e.jsx(j,{variant:"menuItemButton",href:i||"#",onClick:s,target:c?"_blank":void 0,rel:c?"noopener noreferrer":void 0,className:"hover-emphasis-text",children:l})})}function B({isOpen:l,onChange:i,className:f="",ariaLabel:c="Toggle menu",hamburgerTransform:s=!0,...u}){const a=s&&l;return e.jsxs("button",{type:"button","aria-label":c,"aria-expanded":l,onClick:()=>i(!l),className:`group relative h-6 w-7 cursor-pointer flex flex-col justify-between items-start text-text hover:text-heading ${f}`.trim(),...u,children:[e.jsx("span",{className:`block h-[0.5px] w-full bg-current transition-all duration-300 ${a?"absolute top-1/2 -translate-y-1/2 rotate-45":""}`}),e.jsx("span",{className:`block h-[0.5px] bg-current transition-all duration-300 ${a?"opacity-0 w-full":"opacity-100 w-5 group-hover:w-full"}`}),e.jsx("span",{className:`block h-[0.5px] w-full bg-current transition-all duration-300 ${a?"absolute top-1/2 -translate-y-1/2 -rotate-45":""}`})]})}function A({items:l,className:i="",hamburgerTransform:f=!0,closeButton:c=!1,triggerId:s="mobile-menu-toggle",useExternalTrigger:u=!1}){const[a,h]=o.useState(!1),[m,b]=o.useState(()=>[{title:"Main Menu",items:l}]),v=o.useRef(s);v.current=s;const x=o.useCallback(()=>{b([{title:"Main Menu",items:l}])},[l]);o.useEffect(()=>{x()},[x]);const p=o.useCallback(t=>{const n=document.getElementById(v.current);n&&n.setAttribute("aria-expanded",String(t))},[]),d=o.useCallback(t=>{h(n=>{const r=typeof t=="boolean"?t:!n;return r||x(),p(r),r})},[x,p]);o.useEffect(()=>{p(a)},[a,p]),o.useEffect(()=>{if(!u)return;const t=document.getElementById(s);if(!t)return;const n=()=>d();return t.addEventListener("click",n),()=>t.removeEventListener("click",n)},[s,d,u]);const k=()=>{d(!1)},y=(t,n)=>{n?.length&&b(r=>[...r,{title:t,items:n}])},w=()=>{b(t=>t.length>1?t.slice(0,-1):t)},N=(m.length-1)*100;return e.jsxs(e.Fragment,{children:[!u&&e.jsx(B,{isOpen:a,onChange:t=>d(t),hamburgerTransform:f,ariaLabel:a?"Close menu":"Open menu",id:s}),e.jsx(C,{isOpen:a,onClose:()=>d(!1),position:"center",className:`w-full max-w-full h-full hero-gradient-bg p-0 rounded-none transform transition-transform duration-300 ease-out ${a?"translate-y-0":"translate-y-full"}`,overlayClass:`bg-black/50 transition-opacity duration-300 ${a?"opacity-100":"opacity-0"}`,closeButton:c,ariaLabel:"Mobile navigation menu",ssr:!1,children:e.jsx("nav",{className:`${i} h-full w-full flex flex-col justify-center overflow-hidden`,"aria-label":"Mobile navigation",children:e.jsx("div",{className:"inner-section my-auto py-4",style:{maxHeight:"calc(100vh - 6rem)"},children:e.jsx("div",{className:"relative w-full h-full overflow-hidden",children:e.jsx("div",{className:"flex h-full transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${N}%)`},children:m.map((t,n)=>e.jsxs("div",{className:"w-full flex-shrink-0 h-full flex flex-col relative","aria-hidden":n!==m.length-1,children:[n>0&&e.jsxs("button",{type:"button",onClick:w,className:"flex items-center gap-2 text-text hover:underline absolute left-0 top-0","aria-label":`Go back to ${m[n-1]?.title??"previous menu"}`,children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),e.jsx("div",{className:`flex-1 overflow-y-auto overflow-x-hidden pr-2 ${n>0?"pt-12":""}`,children:e.jsx("ul",{className:"menu-item-spacing pb-10",children:t.items.map(r=>e.jsx($,{...r,onNavigate:k,onOpenSubmenu:g=>y(g.title,g.items)},r.slug||r.id))})})]},`${t.title}-${n}`))})})})})})]})}export{A as default};
