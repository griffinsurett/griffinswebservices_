import{r}from"./react-core.BzPYpmcP.js";function p(l,t){const[f,m]=r.useState(null),[I,a]=r.useState(!1),s=r.useRef(!1),n="triggerId"in t?t.triggerId:void 0,c="toggle"in t?t.toggle:!1,d="delay"in t?t.delay:void 0,o="skipIf"in t?t.skipIf:void 0,u=r.useCallback(e=>{if(s.current){e?.();return}s.current=!0,l().then(i=>{m(()=>i.default),e?.()})},[l]),k=r.useCallback(()=>{a(!1),n&&document.getElementById(n)?.setAttribute("aria-expanded","false")},[n]);return r.useEffect(()=>{if(d===void 0||o?.()||s.current)return;const e=setTimeout(()=>u(),d);return()=>clearTimeout(e)},[d,o,u]),r.useEffect(()=>{if(!n)return;const e=document.getElementById(n);if(!e)return;const i=()=>{s.current?c&&a(v=>{const g=!v;return e.setAttribute("aria-expanded",String(g)),g}):u(()=>{c&&(a(!0),e.setAttribute("aria-expanded","true"))})};return e.addEventListener("click",i),()=>e.removeEventListener("click",i)},[n,c,u]),{Component:f,isLoaded:f!==null,isOpen:I,close:k}}export{p as u};
