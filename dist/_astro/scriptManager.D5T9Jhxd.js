import{r as s,j as i}from"./react-core.Dcp9QKwj.js";function a(e){if(typeof document>"u")return null;try{const n=("; "+document.cookie).split("; "+e+"=");if(n.length===2){const o=n.pop()?.split(";").shift();return o?decodeURIComponent(o):null}return null}catch(t){return console.error(`Error reading cookie ${e}:`,t),null}}function f(e,t,n={}){if(!(typeof document>"u"))try{const{expires:o=365,path:r="/",sameSite:c="Strict",secure:x=!0,domain:g}=n,u=new Date;u.setTime(u.getTime()+o*24*60*60*1e3);const l=[`${e}=${encodeURIComponent(t)}`,`expires=${u.toUTCString()}`,`path=${r}`,`SameSite=${c}`];x&&l.push("Secure"),g&&l.push(`domain=${g}`),document.cookie=l.join("; ")}catch(o){console.error(`Error setting cookie ${e}:`,o)}}function m(e,t={}){if(!(typeof document>"u"))try{const{path:n="/",domain:o}=t,r=[`${e}=`,"expires=Thu, 01 Jan 1970 00:00:00 UTC",`path=${n}`];o&&r.push(`domain=${o}`),document.cookie=r.join("; "),!o&&typeof window<"u"&&(document.cookie=r.join("; ")+`; domain=${window.location.hostname}`)}catch(n){console.error(`Error deleting cookie ${e}:`,n)}}function S(e){return a(e)!==null}const T=Object.freeze(Object.defineProperty({__proto__:null,clearCookie:m,getCookie:a,hasCookie:S,setCookie:f},Symbol.toStringTag,{value:"Module"}));function p(){if(typeof document>"u")return null;try{const e=a("cookie-consent");return e?JSON.parse(e):null}catch(e){return console.error("Error parsing consent cookie:",e),null}}function y(e){if(typeof document>"u")return!1;if(e==="necessary")return!0;const t=p();return t?t[e]===!0:!1}function O(){return typeof document>"u"?!1:p()!==null}function $(){return typeof document>"u"?!1:document.cookie.includes("cookie-consent=")}function h(){if(typeof navigator>"u")return!1;const e=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;return e==="1"||e==="yes"}function k(e){return h()?(console.log("ðŸš« Do Not Track enabled - tracking disabled"),!1):y(e)}function C(){if(typeof document>"u")return;const e={necessary:!0,functional:!1,performance:!1,targeting:!1,timestamp:Date.now()};f("cookie-consent",JSON.stringify(e),{expires:365}),window.dispatchEvent(new Event("consent-changed")),console.log("ðŸš« CCPA Opt-Out: All non-essential cookies disabled")}const N=Object.freeze(Object.defineProperty({__proto__:null,getConsent:p,hasConsentCookie:$,hasConsentFor:y,hasConsented:O,hasDoNotTrack:h,isTrackingAllowed:k,optOutOfSale:C},Symbol.toStringTag,{value:"Module"}));function _(){const[e,t]=s.useState(!1),n=()=>{C(),t(!0),setTimeout(()=>window.location.reload(),1500)};return e?i.jsxs("div",{className:"bg-green-50 border-2 border-green-600 rounded-lg p-6",children:[i.jsx("p",{className:"font-bold text-green-900 text-lg",children:"âœ… Success!"}),i.jsx("p",{className:"text-green-800 text-sm mt-2",children:"You've opted out. Non-essential cookies disabled. Reloading..."})]}):i.jsx("button",{onClick:n,className:"bg-primary text-bg px-8 py-4 rounded-lg font-bold text-lg hover:bg-primary-700 transition-colors",type:"button",children:"ðŸš« Opt Out of Data Sharing"})}function D(){const e=s.useCallback(o=>a(o),[]),t=s.useCallback((o,r,c={})=>{f(o,r,c)},[]),n=s.useCallback((o,r="/")=>{m(o,{path:r})},[]);return{getCookie:e,setCookie:t,deleteCookie:n}}function w(e){if(e.dataset.consentEnabled==="true")return;const t=document.createElement("script");Array.from(e.attributes).forEach(n=>{n.name!=="type"&&t.setAttribute(n.name,n.value)}),t.type="text/javascript",e.dataset.partytown==="true"&&(t.type="text/partytown"),e.textContent&&(t.textContent=e.textContent),e.dataset.consentEnabled="true",e.parentNode?.insertBefore(t,e.nextSibling),console.log(`âœ… Enabled ${e.dataset.consent} script:`,e.src||"inline")}function E(e){const t=`script[type="text/plain"][data-consent="${e}"]`;return Array.from(document.querySelectorAll(t))}function b(e){if(typeof document>"u")return;const t=E(e);if(t.length===0){console.log(`â„¹ï¸  No blocked scripts found for category: ${e}`);return}console.log(`ðŸ”“ Enabling ${t.length} script(s) for category: ${e}`),t.forEach(n=>{w(n)})}function d(){if(typeof document>"u")return;["necessary","functional","performance","targeting"].forEach(t=>{k(t)&&b(t)})}function j(){typeof document>"u"||(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{d()}):d(),console.log("ðŸ“œ Script manager initialized"))}const A=Object.freeze(Object.defineProperty({__proto__:null,enableConsentedScripts:d,enableScriptsForCategory:b,initScriptManager:j},Symbol.toStringTag,{value:"Module"}));export{_ as O,b as a,N as b,T as c,d as e,p as g,y as h,A as s,D as u};
