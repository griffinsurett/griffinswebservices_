const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/lottie_light.B6GDRDPH.js","_astro/react-core.D5E039p9.js"])))=>i.map(i=>d[i]);
import{r as t,j as m}from"./react-core.D5E039p9.js";import{_ as K}from"./preload-helper.BlTxHScW.js";import{u as Y}from"./useMotionPreference.hUfwzWUI.js";import{u as H,a as Q}from"./visibility-hooks.Dmmo3rK9.js";import"./accordion.BDlZIC5Q.js";import"./ui-primitives.gCzb8rn1.js";import"./engagement-hooks.Di3lS_CL.js";const U=n=>{typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(n,{timeout:1e3}):setTimeout(n,0)},z=n=>n?typeof n.currentFrame=="number"?n.currentFrame:typeof n.currentRawFrame=="number"?n.currentRawFrame:0:0,V=2;function X({animationData:n=null,animationUrl:c=null,alt:b="",className:T="",containerClasses:y="relative",trigger:f="load",respectReducedMotion:L=!0,rewindToStartOnTop:d=!1,loop:E=!0,autoplay:p=!1,speed:j=1,renderer:C="svg",fadeMs:B=180,scrollThreshold:ee=1,debounceDelay:te=8,wheelSensitivity:re=1,children:W}){const x=t.useRef(null),k=t.useRef(null),i=t.useRef(null),w=t.useRef(null),I=t.useRef(0),R=t.useRef(null),A=t.useRef(!1),D=t.useRef(!0),[_,O]=t.useState(!0),[v,h]=t.useState(!1),[M,G]=t.useState(!1),u=t.useCallback(()=>{const e=i.current;e&&R.current&&e.removeEventListener("enterFrame",R.current),R.current=null,A.current=!1},[]);t.useEffect(()=>{const e=()=>{const r=document.documentElement;G((r?.scrollHeight||0)>(window.innerHeight||0)+1)};"requestIdleCallback"in window?window.requestIdleCallback(e,{timeout:500}):setTimeout(e,100)},[]);const l=t.useMemo(()=>f==="scroll"||f==="visible"||f==="load"?f:M?"scroll":"load",[f,M]),o=Y(L),P=H(x,{threshold:.1,rootMargin:"0px",once:!0}),S=H(x,{threshold:0,rootMargin:"0px",once:!1});t.useEffect(()=>{if(!o)switch(l){case"load":h(!0);break;case"visible":S&&h(!0);break}},[l,S,o]);const N=t.useCallback(e=>{const r=i.current,s=Date.now();I.current=s,r&&(u(),clearTimeout(w.current),e>0?(r.setDirection(1),r.isPaused&&r.play()):e<0&&(r.setDirection(-1),r.isPaused&&r.play()),w.current=setTimeout(()=>{s===I.current&&r&&r.pause()},200))},[u]),$=t.useCallback(()=>{if(!d)return;const e=i.current;if(!e||A.current)return;if(z(e)<=0){e.goToAndStop(0,!0);return}A.current=!0,clearTimeout(w.current);const s=()=>{z(e)<=.5&&(e.pause(),e.goToAndStop(0,!0),u())};R.current=s,e.addEventListener("enterFrame",s),e.setDirection(-1),e.play()},[d,u]);Q({elementRef:null,scrollThreshold:1,debounceDelay:16,trustedOnly:!0,wheelSensitivity:1,onScrollActivity:l==="scroll"&&P?({dir:e,delta:r})=>{if(!o&&(v||h(!0),i.current)){const s=e==="down"?r:-r;N(s)}}:void 0,onWheelActivity:l==="scroll"&&P?({deltaY:e})=>{o||(v||h(!0),i.current&&N(e))}:void 0}),t.useEffect(()=>{if(!d||l!=="scroll"||o||typeof window>"u")return;D.current=(window.scrollY||0)<=V;const e=()=>{const s=(window.scrollY||0)<=V;!D.current&&s&&$(),D.current=s};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[d,l,$,o]),t.useEffect(()=>{if(o||!v||!k.current||i.current)return;if(!n&&!c){console.warn("OptimizedLottie: No animationData or animationUrl provided");return}let e=!1;return U(async()=>{if(!e)try{const{default:r}=await K(async()=>{const{default:q}=await import("./lottie_light.B6GDRDPH.js").then(J=>J.l);return{default:q}},__vite__mapDeps([0,1]));let s=n;if(!s&&c&&(s=await(await fetch(c)).json()),e||!s)return;const a=r.loadAnimation({container:k.current,renderer:C,loop:E,autoplay:p,animationData:s});i.current=a,a.setSpeed(j),p||a.goToAndStop(0,!0);const g=()=>{p||a.goToAndStop(0,!0),requestAnimationFrame(()=>O(!1)),l==="load"&&p&&(a.setDirection(1),a.play())};a.addEventListener("DOMLoaded",g),a.addEventListener("data_ready",g),Promise.resolve().then(()=>g())}catch(r){console.error("OptimizedLottie: Failed to load animation:",r)}}),()=>{e=!0,u(),i.current?.destroy?.(),i.current=null}},[v,l,n,c,C,E,p,j,u,o]),t.useEffect(()=>{o&&(O(!0),h(!1),u(),clearTimeout(w.current),i.current?.destroy?.(),i.current=null)},[o,u]),t.useEffect(()=>{l!=="visible"||!i.current||o||!_&&S&&(i.current.setDirection(1),i.current.play())},[l,S,_,o]),t.useEffect(()=>()=>clearTimeout(w.current),[]);const F=o||_;return m.jsxs("div",{ref:x,"aria-label":b,className:`${T} ${y}`,children:[m.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{transition:`opacity ${B}ms ease`,opacity:F?1:0},"aria-hidden":!F,children:m.jsx("div",{className:"w-full h-full",children:W})}),v&&!o&&m.jsx("div",{ref:k,className:"absolute inset-0",style:{visibility:o?"hidden":"visible"},"aria-hidden":F})]})}const Z="/lotties/Animation_logo_small_size.json";function ce({alt:n="",className:c="logo-class",mediaClasses:b="block w-[40px] h-[40px] lg:w-[45px] lg:h-[45px] object-contain",trigger:T="auto",respectReducedMotion:y=!0,fadeMs:f=180,loop:L=!0,children:d}){return Y(y)?m.jsx("div",{className:`${c} relative ${b}`,"aria-label":n,children:d}):m.jsx(X,{animationUrl:Z,alt:n,className:c,containerClasses:`relative ${b}`,trigger:T,respectReducedMotion:y,fadeMs:f,rewindToStartOnTop:!0,loop:L,autoplay:!1,speed:.5,renderer:"svg",scrollThreshold:1,debounceDelay:8,wheelSensitivity:1,children:d})}export{ce as default};
