const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/CookiePreferencesModal.OXWd7rmh.js","_astro/react-core.aUjNHagF.js","_astro/Modal.CyNMEkPT.js","_astro/useCookieStorage.y-2TZ59l.js","_astro/consent.Drqa4rP7.js","_astro/scriptManager.C4zn87OF.js","_astro/Button.DULv1G8J.js","_astro/useVisibility.U53jQVKz.js","_astro/ToggleControl.DvU705Tk.js","_astro/Accordion.CDINp7x3.js"])))=>i.map(i=>d[i]);
import{_ as x}from"./preload-helper.BlTxHScW.js";import{r as s,j as e}from"./react-core.aUjNHagF.js";import{u as g}from"./useCookieStorage.y-2TZ59l.js";import{e as d}from"./scriptManager.C4zn87OF.js";import{M as h}from"./Modal.CyNMEkPT.js";import a from"./Button.DULv1G8J.js";import"./consent.Drqa4rP7.js";import"./useVisibility.U53jQVKz.js";const b=s.lazy(()=>x(()=>import("./CookiePreferencesModal.OXWd7rmh.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])));function E(){const[m,n]=s.useState(!1),[r,l]=s.useState(!1),[i,o]=s.useTransition(),{setCookie:c}=g();s.useEffect(()=>{if(document.cookie.includes("cookie-consent="))return;const t=setTimeout(()=>{n(!0)},1e3);return()=>clearTimeout(t)},[]);const p=()=>{const t={necessary:!0,functional:!0,performance:!0,targeting:!0,timestamp:Date.now()};c("cookie-consent",JSON.stringify(t),{expires:365}),d(),window.dispatchEvent(new Event("consent-changed")),o(()=>{n(!1)})},f=()=>{const t={necessary:!0,functional:!1,performance:!1,targeting:!1,timestamp:Date.now()};c("cookie-consent",JSON.stringify(t),{expires:365}),d(),window.dispatchEvent(new Event("consent-changed")),o(()=>{n(!1)})},u=()=>{o(()=>{l(!0)})};return e.jsxs(e.Fragment,{children:[e.jsxs(h,{isOpen:m,onClose:()=>n(!1),closeButton:!1,position:"bottom-left",className:"bg-bg border border-transparent rounded-lg p-6 shadow-xl max-w-lg w-full",overlayClass:"bg-transparent pointer-events-none",allowScroll:!0,ssr:!1,ariaLabel:"Cookie consent banner",children:[e.jsxs("div",{className:"mb-4 flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",role:"img","aria-label":"Cookie",children:"ðŸª"}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-sm text-text",children:["We use cookies to improve your browsing experience and for marketing purposes."," ",e.jsx(a,{variant:"link",onClick:u,type:"button",children:"Manage preferences"})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(a,{variant:"secondary",onClick:f,className:"flex-1",type:"button",disabled:i,children:"Reject All"}),e.jsx(a,{variant:"primary",onClick:p,className:"flex-1",type:"button",disabled:i,children:"Accept All"})]})]}),r&&e.jsx(s.Suspense,{fallback:null,children:e.jsx(b,{isOpen:r,onClose:()=>l(!1)})})]})}export{E as default};
