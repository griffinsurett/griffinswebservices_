import{r,j as i}from"./react-core.D_ifgyFg.js";import{S as C,C as S}from"./theme-shared.CdUsVXCS.js";function v(t,c,{raw:u=!0,validate:e,syncTabs:f=!0,serialize:l=u?(a=>String(a)):(a=>JSON.stringify(a)),deserialize:o=u?(a=>a):(a=>JSON.parse(a))}={}){const a=r.useRef(c),m=r.useCallback(()=>{const n=a.current;return typeof n=="function"?n():n},[]),h=r.useCallback(()=>{if(typeof window>"u")return m();try{const n=window.localStorage.getItem(t);if(n!=null){const s=o(n);if(!e||e(s))return s}}catch{}return m()},[t,o,e,m]),[d,w]=r.useState(h),p=r.useRef(!1);return r.useEffect(()=>{if(!(typeof window>"u")){if(!p.current){p.current=!0;try{const n=window.localStorage.getItem(t);if(n!=null){const s=o(n);if(!e||e(s)){s!==d&&w(s);return}}}catch{}}try{if(e&&!e(d))return;window.localStorage.setItem(t,l(d))}catch{}}},[t,d,l,e,o]),r.useEffect(()=>{if(!f||typeof window>"u")return;const n=s=>{if(s.storageArea===window.localStorage&&s.key===t)try{if(s.newValue==null)return;const x=o(s.newValue);(!e||e(x))&&w(x)}catch{}};return window.addEventListener("storage",n),()=>window.removeEventListener("storage",n)},[t,o,e,f]),[d,w]}const g=["var(--main-accent)","var(--color-purple-700)","var(--color-teal-500)","var(--color-emerald-500)","var(--color-lime-500)","var(--color-red-500)","var(--color-pink-500)","var(--color-orange-500)","#722F37"];function E(){const t=()=>g[0],[c,u]=v("accent",t,{raw:!0,validate:e=>g.includes(e),syncTabs:!0});return r.useEffect(()=>{document.documentElement.style.setProperty("--color-accent",c)},[c]),{accent:c,setAccent:u,accents:g}}function b({open:t,onClose:c}){const{accent:u,setAccent:e,accents:f}=E();return t?i.jsx("div",{className:"absolute top-full mt-1 lg:mt-2 right-0 sm:left-0 sm:right-auto faded-bg rounded-xl p-2 lg:p-3 flex space-x-2 lg:space-x-3 overflow-x-auto hide-scrollbar shadow-lg z-50 w-max max-w-[calc(100vw-2.5rem)] sm:max-w-none",children:f.map(l=>i.jsx(C,{color:l,checked:u===l,onChange:()=>{e(l),c()},"aria-label":`Select accent color ${l}`},l))}):null}function R(){const[t,c]=r.useState(!1),[u,e]=r.useState(!1),f=r.useRef(null);r.useEffect(()=>{if(!t)return;const o=a=>{f.current?.contains(a.target)||c(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[t]);const l=()=>{u||e(!0),c(o=>!o)};return i.jsxs("div",{ref:f,className:"relative inline-flex",children:[i.jsx(S,{checked:t,onChange:l,"aria-label":"Pick accent color",className:"faded-bg",children:i.jsx("svg",{className:"w-[22px] h-[22px] lg:w-[22px] lg:h-[22px]",viewBox:"0 0 100 100","aria-hidden":"true",children:i.jsx("path",{d:"M50 10C50 10 25 35 25 55C25 70.464 37.536 83 50 83C62.464 83 75 70.464 75 55C75 35 50 10 50 10Z",fill:"var(--color-accent)"})})}),u&&i.jsx(b,{open:t,onClose:()=>c(!1)})]})}export{R as A,v as u};
