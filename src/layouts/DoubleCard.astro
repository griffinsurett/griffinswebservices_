---
import Heading from "@/components/Heading";
import BackgroundMedia from "@/components/BackgroundMedia.astro";
import meoncompImg from "@/assets/meoncomp.jpg";
import logoImg from "@/assets/GWS-animated.png";
import Button from "@/components/Button/Button";
import Counter from "@/components/Counter.astro";
import { animationProps } from "@/integrations/scroll-animations/props";

---
<section class="min-h-screen w-full outer-section">
    <div class="inner-section flex flex-wrap gap-6">
        <div
            class="group flex w-full lg:flex-1 flex-col min-h-[400px] rounded-3xl overflow-hidden relative card-bg"
            {...animationProps("fade-in-up", { once: false, threshold: 0.10, rootMargin: "-15% 0px -25% 0px" })}
        >
            <div class="flex flex-col p-6 space-y-2 relative z-10">
                <h2 class="text-3xl lg:text-4xl xl:text-5xl font-bold">
                    <Counter prefix="$" end={2.5} suffix="M+" />
                </h2>
                <p
                    class="text-text large-text leading-tight"
                    role="heading"
                    aria-level="3"
                >
                    Client Annual Revenue
                </p>
            </div>
            <div
                class="absolute bottom-0 w-full h-110 -mb-42 lg:-mb-52 overflow-hidden z-0"
            >
                <BackgroundMedia
                    backgroundMedia={{
                        image: {
                            src: logoImg,
                            imageClass: "object-contain light:invert",
                            aboveTheFold: false,
                            quality: 35,
                            maxWidth: 450,
                        },
                    }}
                />
            </div>
        </div>
        <div
            class="group flex w-full md:flex-1 lg:flex-2 flex-col md:flex-row min-h-[400px] rounded-3xl overflow-hidden card-bg relative"
            {...animationProps("fade-in-right", { once: false, threshold: 0.25, rootMargin: "-10% 0px -15% 0px", delay: 300 })}
        >
            <div
                class="relative flex-1 lg:rounded-br-[250px] overflow-hidden md:w-1/2 lg:mb-5 z-0 fade-image-shell"
            >
                <BackgroundMedia
                    backgroundMedia={{
                        image: {
                            src: meoncompImg,
                            imageClass: "object-cover border-image-fade fade-card-media",
                            aboveTheFold: false,
                            quality: 25,
                            maxWidth: 600,
                        },
                    }}
                />
            </div>
            <div
                class="flex-1 flex flex-col gap-6 justify-center items-end p-6 lg:px-6 relative z-10"
            >
                <!-- <div class="inner-section">will be something</div> -->
                <Heading
                    tagName="h3"
                    className="text-3xl lg:text-4xl lg:text-right text-left"
                    before="We're a New Jersey based Web Agency that creates "
                    text="fast, engaging websites."
                    textClass="m-0 p-0 emphasized-text"
                />
                <Button
                    href={"/about-us"}
                    variant="secondary"
                    size="lg"
                    client:visible
                >
                    More About Us
                </Button>
            </div>
        </div>
    </div>
</section>

<style>
  .fade-image-shell {
    overflow: hidden;
    background-color: var(--card-bg);
  }

  .fade-card-media {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
</style>
