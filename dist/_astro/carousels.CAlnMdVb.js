import{bI as e,bH as t}from"./react-core.CB-E5_Si.js";import{A as le,I as fe}from"./ui-primitives.DBATWjPv.js";import{u as xe,a as ce,b as ve}from"./engagement-hooks.j1Ywvdrx.js";import{a as be,s as we,I as $e,E as Ae,B as Ie}from"./accordion.D2OD5zYt.js";import{u as ue}from"./visibility-hooks.ONRiRvgj.js";function ie({tagName:n="h2",className:r="",before:f,text:i,after:c,beforeClass:a="",textClass:v="",afterClass:S="",beforeId:T,textId:u,afterId:l,beforeProps:g,textProps:d,afterProps:N,segmented:C,children:z,...s}){const A=typeof n=="string"?n.toLowerCase():"h2",E=["h1","h2","h3","h4","h5","h6"].includes(A),P=/\bh[1-6]\b/.test(r)||!E?r:`${A} ${r}`.trim(),m=f!==void 0||i!==void 0||c!==void 0,h=C!=null,b=(j,L,H)=>{const k=H??{},W=[L,k.className].filter(Boolean).join(" ");return{id:j??k.id,...k,className:W||void 0}},w=n;return e.jsx(w,{className:`${P} capitalize`,...s,children:h?e.jsxs(e.Fragment,{children:[C?.before!==void 0&&e.jsx("span",{...b(T,a,g),children:`${C.before} `}),C?.text!==void 0&&e.jsx("span",{...b(u,v,d),children:`${C.text} `}),C?.after!==void 0&&e.jsx("span",{...b(l,S,N),children:C.after})]}):m?e.jsxs(e.Fragment,{children:[f!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{...b(T,a,g),children:f})," "]}),i!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{...b(u,v,d),children:i})," "]}),c!==void 0&&e.jsx("span",{...b(l,S,N),children:c})]}):z})}function ot({children:n,className:r="",duration:f=1200,hoverSweep:i=!0,pillClassName:c="text-sm px-5 py-2.5 tracking-wider",visibleRootMargin:a}){return e.jsx("div",{className:"inline-block mb-3",children:e.jsxs("div",{className:"relative inline-block",children:[e.jsx(le,{variant:"progress-b-f",triggers:"visible",duration:f,borderRadius:"rounded-full",borderWidth:2,color:"var(--color-primary)",className:"inline-block",innerClassName:`bg-transparent border-transparent ${c}`,visibleRootMargin:a,children:e.jsx(ie,{tagName:"span",className:`uppercase tracking-wider font-semibold text-heading ${r}`,children:e.jsx("span",{"data-animate":"color-text-fade","data-animate-once":"true",className:"color-text-fade",style:{"--animation-duration":`${f}ms`},children:n})})}),i&&e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsx(le,{variant:"progress-infinite",triggers:"hover",duration:1200,borderRadius:"rounded-full",borderWidth:2,color:"var(--color-accent)",className:"w-full h-full",innerClassName:"bg-transparent border-transparent px-0 py-0 pointer-events-none",children:e.jsx("span",{className:"sr-only",children:"Decorative border sweep"})})})]})})}function ye({ref:n,active:r=!0,resumeScheduled:f=!1}){const[i,c]=t.useState(!1),a=t.useRef(!1),v=t.useCallback(()=>{c(!0)},[]);return t.useEffect(()=>{r||c(!1)},[r]),t.useEffect(()=>{a.current&&!f&&c(!1),a.current=f},[f]),t.useEffect(()=>{if(i||!r)return;const S=n.current;if(S)return S.style.pointerEvents="none",()=>{S.style.pointerEvents=""}},[n,i,r]),{enabled:i,enableScroll:v}}function Z(n){return n?typeof n=="string"?n.startsWith("@/")?n.replace("@/","/src/"):n:n.src?typeof n.src=="string"?n.src:n.src.src?n.src.src:n.src:"":""}const he=700,Se=14,ne=Se*1e3,me=28,ke=4,Ee=220,_e=16,Le=2200,Oe=450,ze=750;function He({item:n,mediaEntry:r,totalSlides:f,onCycleComplete:i,isActive:c}){const a=t.useRef(null),[v,S]=t.useState(!1),[T,u]=t.useState(!1),[l,g]=t.useState(!1),[d,N]=t.useState(ne);t.useEffect(()=>{S(!0)},[]);const C=t.useCallback(m=>{const h=Math.max(0,m.scrollHeight-m.clientHeight);if(h<=0)return 0;const b=h/Se;return!Number.isFinite(b)||b<=0?me:Math.max(me,b)},[]),z=t.useCallback(m=>{const h=Math.max(0,m.scrollHeight-m.clientHeight);if(h<=0)return ne;const b=C(m);if(b<=0)return ne;const w=Math.round(h/b*1e3);return!Number.isFinite(w)||w<=0?ne:Math.max(ne,w)},[C]),s=xe({ref:a,active:c&&l,speed:C,loop:!1,startDelay:he,resumeDelay:600,resumeOnUserInput:!0,threshold:.05,resetOnInactive:!1}),{enabled:A,enableScroll:E}=ye({ref:a,active:c,resumeScheduled:s.resumeScheduled});t.useEffect(()=>{c&&(s.resetPosition(0),a.current?.scrollTo({top:0,left:0,behavior:"auto"}))},[c,s.resetPosition]),t.useEffect(()=>{if(!v)return;const m=a.current;if(!m)return;const h=m.querySelector("picture img")??m.querySelector("img");if(!h){u(!1);return}if(h.complete&&h.naturalHeight>0){u(!0);return}u(!1);const b=()=>u(!0);return h.addEventListener("load",b,{once:!0}),h.addEventListener("error",b,{once:!0}),()=>{h.removeEventListener("load",b),h.removeEventListener("error",b)}},[n,r,v]),t.useEffect(()=>{if(!T){g(!1);return}const m=a.current;if(!m)return;let h=!1,b=null;const w=()=>Math.max(0,m.scrollHeight-m.clientHeight)>ke,j=()=>{h||(h=!0,b?.(),b=null,g(!0))},L=()=>{if(typeof ResizeObserver>"u"){j();return}let k=null,W=m.scrollHeight;const o=()=>{k||(k=window.setTimeout(()=>{k=null,j()},Ee))},R=()=>{k&&(window.clearTimeout(k),k=null)},_=new ResizeObserver(()=>{const F=m.scrollHeight;Math.abs(F-W)>_e&&(W=F,R()),o()});_.observe(m),o(),b=()=>{_.disconnect(),k&&(window.clearTimeout(k),k=null)}};if(w())L();else if(typeof ResizeObserver<"u"){const k=new ResizeObserver(()=>{w()&&(k.disconnect(),L())});k.observe(m),b=()=>k.disconnect()}else j();const H=window.setTimeout(j,Le);return()=>{b?.(),window.clearTimeout(H)}},[T]),t.useEffect(()=>{if(!l||!c){N(ne);return}const m=a.current;if(!m)return;const h=()=>N(z(m));h();const b=typeof ResizeObserver<"u"?new ResizeObserver(()=>h()):null;return b?.observe(m),()=>b?.disconnect()},[l,c,z]),t.useEffect(()=>{if(!l||!c||f<=1||s.paused)return;const m=he+d+Oe,h=window.setTimeout(()=>i(),m);return()=>window.clearTimeout(h)},[c,l,i,d,f,s.paused]);const y=Z(n.featuredImage)||Z(n.bannerImage)||Z(n.image)||"",P=()=>v?r?.sources?.length?e.jsxs("picture",{children:[r.sources.map((m,h)=>e.jsx("source",{srcSet:m.srcSet,sizes:m.sizes??r.sizes,type:m.type},`${n.slug??n.id??h}-source-${h}`)),e.jsx("img",{src:r.src,srcSet:r.srcSet,sizes:r.sizes,alt:r.alt||n.alt||n.title||"Project preview",width:r.width,height:r.height,loading:"lazy",decoding:"async",fetchPriority:"auto",draggable:!1,className:"block h-auto min-h-full w-full select-none object-cover object-top"})]}):r?.src?e.jsx("img",{src:r.src,srcSet:r.srcSet,sizes:r.sizes,alt:r.alt||n.alt||n.title||"Project preview",width:r.width,height:r.height,loading:"lazy",decoding:"async",fetchPriority:"auto",draggable:!1,className:"block h-auto min-h-full w-full select-none object-cover object-top"}):y?e.jsx("img",{src:y,alt:n.alt||n.title||"Project preview",loading:"lazy",decoding:"async",fetchPriority:"auto",draggable:!1,className:"block h-auto min-h-full w-full select-none object-cover object-top"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gradient-to-b from-bg2 via-bg to-bg/80 text-white/30",children:"Preview coming soon"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gradient-to-b from-bg2 via-bg to-bg/80"});return e.jsx("div",{className:"relative h-full w-full",onClick:E,children:e.jsxs("div",{className:"relative h-full bg-bg3",children:[e.jsx("div",{className:"flex flex-col gap-3 border-b border-white/10 px-4 py-3 text-white/70 sm:flex-row sm:items-center sm:justify-between",children:e.jsx("div",{className:"flex items-center gap-3 text-xs uppercase tracking-[0.35em] text-white/50",children:e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"h-3 w-3 rounded-full bg-gray-800"}),e.jsx("span",{className:"h-3 w-3 rounded-full bg-gray-800"}),e.jsx("span",{className:"h-3 w-3 rounded-full bg-gray-800"})]})})}),e.jsx("figure",{ref:a,className:`relative h-full overflow-y-scroll bg-black/40 ${A?"overscroll-contain touch-pan-y":"touch-none"}`,style:{WebkitOverflowScrolling:A?"touch":"auto",overscrollBehaviorY:A?"contain":"none"},children:P()})]})})}function lt({items:n=[],className:r="",mediaEntries:f=[]}){const i=t.useMemo(()=>Array.isArray(n)?n:[],[n]),c=t.useMemo(()=>Array.isArray(f)?f:[],[f]),[a,v]=t.useState(0),[S,T]=t.useState(null),[u,l]=t.useState("idle"),g=t.useRef(null),d=t.useRef(null);t.useEffect(()=>{if(!i.length){v(0),T(null),l("idle");return}v(s=>s>=i.length?0:s)},[i.length]),t.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=null),d.current&&(cancelAnimationFrame(d.current),d.current=null)},[]);const N=t.useCallback(s=>{typeof window>"u"||(T(a),v(s),l("pre"),d.current&&(cancelAnimationFrame(d.current),d.current=null),d.current=requestAnimationFrame(()=>{d.current=requestAnimationFrame(()=>{l("animating")})}),g.current&&(window.clearTimeout(g.current),g.current=null),g.current=window.setTimeout(()=>{l("idle"),T(null)},ze))},[a]),C=t.useCallback(()=>{if(!i.length||i.length<=1||u!=="idle")return;const s=(a+1)%i.length;N(s)},[a,i.length,N,u]);if(!i.length)return null;const z="absolute inset-0 transition-transform transition-opacity duration-[750ms] ease-[cubic-bezier(0.4,0,0.2,1)]";return e.jsx("div",{className:`relative h-full ${r}`.trim(),children:e.jsx("div",{className:"relative h-full w-full overflow-hidden card-bg rounded-lg",children:i.map((s,A)=>{const E=A===a,y=A===S,P=E||y&&u!=="idle";if(!(E||y&&u!=="idle"))return null;let h="translate-x-full";return y&&u!=="idle"?h="-translate-x-full":E&&(u==="idle"||S===null?h="translate-x-0":u==="pre"?h="translate-x-full":h="translate-x-0"),e.jsx("div",{className:`${z} shadow-2xl ${h} ${P?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-hidden":E?"false":"true",children:e.jsx(He,{item:s,mediaEntry:c[A],totalSlides:i.length||1,onCycleComplete:C,isActive:E&&u==="idle"})},s.slug??s.id??A)})})})}const oe=1500,je=30,Y=je*1e3,Pe=Y*4,ge=18,De=60,Fe=3e3,We=6,Ue=260,Be=18;function Ve({item:n,i:r,activeIndex:f,itemsLength:i,centerW:c,centerH:a,sideW:v,sideH:S,tx:T,onSelect:u,mediaEntry:l}){const g=t.useRef(null),d=r-f,[N,C]=t.useState(!1),[z,s]=t.useState(!1),[A,E]=t.useState(Y),y=d===0,P=t.useMemo(()=>d===0?"center":d===-1||d===i-1?"left":d===1||d===-(i-1)?"right":"hidden",[d,i]),m=y?"translate(-50%, 0)":"translate(-50%, -50%)",h=t.useCallback(p=>{const M=Math.max(0,p.scrollHeight-p.clientHeight);if(M<=0)return 0;const I=M/je;return!Number.isFinite(I)||I<=0?ge:Math.min(De,Math.max(ge,I))},[]),b=t.useCallback(p=>{const M=Math.max(0,p.scrollHeight-p.clientHeight);if(M<=0)return Y;const I=h(p);if(I<=0)return Y;const x=Math.round(M/I*1e3);return!Number.isFinite(x)||x<=0?Y:Math.min(Pe,Math.max(Y,x))},[h]),w=xe({ref:g,active:y&&N,speed:h,loop:!1,startDelay:oe,resumeDelay:900,resumeOnUserInput:!0,threshold:.1,resetOnInactive:!0}),{enabled:j,enableScroll:L}=ye({ref:g,active:y,resumeScheduled:w.resumeScheduled}),[H,k]=t.useState(0);t.useEffect(()=>{if(!y)return;let p=null;const M=()=>{const I=g.current;if(I){const x=Math.max(0,I.scrollHeight-I.clientHeight),$=x>0?I.scrollTop/x*100:0;k(Math.round($))}p=requestAnimationFrame(M)};return p=requestAnimationFrame(M),()=>{p&&cancelAnimationFrame(p)}},[y]),t.useEffect(()=>{if(!y||!z){C(!1),E(Y);return}const p=g.current;if(!p)return;let M=!1,I=null;const x=()=>Math.max(0,p.scrollHeight-p.clientHeight)>We,$=()=>{M||(M=!0,I?.(),I=null,C(!0))},q=()=>{if(typeof ResizeObserver>"u"){$();return}let V=null,ee=p.scrollHeight;const se=()=>{V||(V=window.setTimeout(()=>{V=null,$()},Ue))},O=()=>{V&&(window.clearTimeout(V),V=null)},D=new ResizeObserver(()=>{const B=p.scrollHeight;Math.abs(B-ee)>Be&&(ee=B,O()),se()});D.observe(p),se(),I=()=>{D.disconnect(),V&&(window.clearTimeout(V),V=null)}};let U=null;x()?q():typeof ResizeObserver<"u"?(U=new ResizeObserver(()=>{x()&&(U?.disconnect(),U=null,q())}),U.observe(p)):$();const re=window.setTimeout(()=>{$()},Fe);return()=>{U?.disconnect(),I?.(),re&&window.clearTimeout(re)}},[y,z]),t.useEffect(()=>{if(!y||!N){E(Y);return}const p=g.current;if(!p)return;const M=()=>{E(b(p))};M();const I=typeof ResizeObserver<"u"?new ResizeObserver(()=>M()):null;return I?.observe(p),()=>I?.disconnect()},[y,N,b]),t.useEffect(()=>{if(!y||!N||typeof window>"u")return;const p=g.current;if(!p)return;const M=$=>{p.dispatchEvent(new CustomEvent("autoscroll-user",{bubbles:!0,detail:{phase:$}}))},I=window.setTimeout(()=>{M("start")},oe),x=window.setTimeout(()=>{M("end")},oe+A);return()=>{window.clearTimeout(I),window.clearTimeout(x),M("end")}},[y,N,A]);const W="absolute left-1/2 overflow-hidden shadow-[0_25px_50px_-12px_rgba(0,0,0,0.5)] transition-all duration-700 ease-[cubic-bezier(0.4,0,0.2,1)] will-change-transform bg-gray-900";let o={width:`${v}px`,height:`${S}px`,transform:`${m} scale(0)`,zIndex:10,opacity:0,pointerEvents:"none"};y?o={width:`${c}px`,height:`${a}px`,transform:`${m} scale(1) rotateY(0deg)`,zIndex:30,opacity:1}:P==="left"?o={width:`${v}px`,height:`${S}px`,transform:`${m} translateX(-${T}px) scale(0.9) rotateY(22deg)`,zIndex:20,opacity:.4}:P==="right"&&(o={width:`${v}px`,height:`${S}px`,transform:`${m} translateX(${T}px) scale(0.9) rotateY(-22deg)`,zIndex:20,opacity:.4});const R=j?"w-full h-full bg-gray-900 overflow-y-scroll overscroll-auto touch-pan-y m-0 p-0 relative":"w-full h-full bg-gray-900 overflow-y-scroll touch-none m-0 p-0 relative",_="w-full h-full bg-gray-900 overflow-hidden pointer-events-none select-none m-0 p-0 relative",F=y?{WebkitOverflowScrolling:j?"touch":"auto",overscrollBehaviorY:j?"auto":"none"}:void 0,J=()=>{const p=Z(n.featuredImage)||Z(n.bannerImage)||Z(n.image)||"";if(n.imageSources){if(y&&n.imageSources.center)return n.imageSources.center;if((P==="left"||P==="right")&&n.imageSources.side)return n.imageSources.side;if(n.imageSources.mobile)return n.imageSources.mobile}return p},K=()=>n.dimensions?.aspectRatio&&a>0?{objectFit:"cover",objectPosition:"center top"}:{objectFit:"cover",objectPosition:"center top"},G=J(),X=l?.alt||n.alt||n.title||"Project preview",Q=()=>l?.sources?.length?e.jsxs("picture",{children:[l.sources.map((p,M)=>e.jsx("source",{srcSet:p.srcSet,sizes:p.sizes??l.sizes,type:p.type},`source-${M}`)),e.jsx("img",{src:l.src,srcSet:l.srcSet,sizes:l.sizes,alt:X,width:l.width,height:l.height,loading:"lazy",decoding:"async",draggable:!1,className:"block w-full h-auto min-h-full select-none object-cover object-top"})]}):l?.src?e.jsx("img",{src:l.src,srcSet:l.srcSet,sizes:l.sizes,alt:X,width:l.width,height:l.height,loading:"lazy",decoding:"async",draggable:!1,className:"block w-full h-auto min-h-full select-none object-cover object-top"}):G?e.jsx("img",{src:G,alt:X,loading:r===0?"eager":"lazy",draggable:!1,className:"block w-full h-auto min-h-full select-none",style:K(),decoding:"async"}):e.jsx("div",{className:"flex h-full w-full bg-gradient-to-b from-bg2 via-bg to-bg/80"});return t.useEffect(()=>{if(!y){s(!1);return}const p=g.current;if(!p)return;const M=p.querySelector("picture img")??p.querySelector("img");if(!M){s(!0);return}const I=()=>s(!0);if(M.complete&&M.naturalHeight>0){s(!0);return}return s(!1),M.addEventListener("load",I,{once:!1}),M.addEventListener("error",I,{once:!1}),()=>{M.removeEventListener("load",I),M.removeEventListener("error",I)}},[y,l,G]),e.jsxs("div",{className:`${W} ${y?"top-0":"top-1/2"}`,style:o,"data-carousel-item":!0,"data-index":r,"data-active":y?"true":"false",onClick:()=>{y?L():u(r)},children:[e.jsx("figure",{ref:g,className:y?R:_,style:F,"aria-hidden":y?"false":"true",tabIndex:y?0:-1,children:Q()}),!1]})}const qe=({className:n=""})=>e.jsx("svg",{className:n,fill:"currentColor",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"})}),Ye=({className:n=""})=>e.jsx("svg",{className:n,fill:"currentColor",viewBox:"0 0 320 512",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"})}),Ge={floating:"absolute z-40 w-10 h-10 md:w-12 md:h-12 rounded-full bg-heading/10 border border-heading/20 text-text backdrop-blur-sm hover:bg-heading/20 transition hover:border-heading/75",inline:"w-10 h-10 md:w-12 md:h-12 rounded-full faded-bg text-text backdrop-blur-sm transition hover:bg-heading/20 hover:border-heading/50"},Xe="mx-auto my-auto w-4.5 h-4.5 md:w-6 md:h-6",Te=({direction:n="left",variant:r="floating",position:f,className:i="",iconClassName:c,disabled:a,...v})=>{const S=n==="left"?qe:Ye,T=n==="left"?"Previous":"Next",u=r==="custom"?i:Ge[r]||`${r} ${i}`.trim(),l=f?{left:f.left,right:f.right,top:f.top??"50%",transform:f.transform??"translate(-50%, -50%)",...f}:void 0;return e.jsx("button",{type:"button","aria-label":T,className:u,style:l,disabled:a,...v,children:e.jsx(S,{className:c||Xe})})},Ne=n=>e.jsx(Te,{direction:"left",...n}),Ce=n=>e.jsx(Te,{direction:"right",...n});function Re({containerRef:n,totalItems:r,currentIndex:f,setIndex:i,autoplay:c=!0,autoplayTime:a=4e3,threshold:v=.3,resumeDelay:S=5e3,resumeTriggers:T=["scroll","click-outside","hover-away"],pauseOnEngage:u=!0,engageOnlyOnActiveItem:l=!0,activeItemAttr:g="data-active"}){const d=t.useMemo(()=>`carousel-${Math.random().toString(36).slice(2,8)}`,[]),N=ue(n,{threshold:v}),C=ce({totalItems:r,currentIndex:f,setIndex:i,autoplayTime:a,resumeDelay:S,resumeTriggers:T,containerSelector:`[data-autoplay-scope="${d}"]`,itemSelector:`[data-autoplay-scope="${d}"] [data-carousel-item]`,inView:c&&N,pauseOnEngage:u,engageOnlyOnActiveItem:l,activeItemAttr:g});return{scopeId:d,inView:N,...C}}function it({items:n=[],mediaEntries:r=[],defaultIndex:f=0,autoplay:i=!0,autoAdvanceDelay:c=5e3,showArrows:a=!0,showDots:v=!0,drag:S=!1,className:T=""}){const u=t.useRef(null),[l,g]=t.useState(f),[d,N]=t.useState(0),[C,z]=t.useState(!1);t.useEffect(()=>{z(!0)},[]);const s=t.useMemo(()=>Array.isArray(n)?n:[],[n]),A=t.useMemo(()=>Array.isArray(r)?r:[],[r]),E=d>0;t.useLayoutEffect(()=>{if(typeof window>"u")return;const x=u.current;if(!x)return;const $=()=>{const U=x.getBoundingClientRect().width;U&&U!==d&&N(U)};$();const q=new ResizeObserver($);return q.observe(x),window.addEventListener("resize",$,{passive:!0}),()=>{q.disconnect(),window.removeEventListener("resize",$)}},[d]);const{scopeId:y}=Re({containerRef:u,totalItems:s.length,currentIndex:l,setIndex:g,autoplay:i,autoplayTime:c}),P=()=>{const x=d;return x<640?{centerW:280,centerH:190,sideW:180,sideH:120}:x<768?{centerW:340,centerH:230,sideW:220,sideH:150}:x<1024?{centerW:460,centerH:310,sideW:290,sideH:190}:x<1280?{centerW:680,centerH:450,sideW:420,sideH:290}:{centerW:860,centerH:540,sideW:520,sideH:360}},m=x=>{const $=d,U=-($>=1536?72:$>=1280?56:$>=1024?40:20);return $/2-x/2-U},{centerW:h,centerH:b,sideW:w,sideH:j}=E?P():{centerW:0,centerH:0,sideW:0,sideH:0},L=E?m(w):0,H=()=>g(x=>x===0?s.length-1:x-1),k=()=>g(x=>x===s.length-1?0:x+1),o=(d>=768?48:40)/2,R=d>=1024?20:16,_=d>=1280,F=h/2+o+R,J=_?`calc(50% - ${L}px)`:`calc(50% - ${F}px)`,K=_?`calc(50% + ${L}px)`:`calc(50% + ${F}px)`,G=t.useRef(null),X=t.useRef(null);ve({enabled:E&&S&&s.length>1,leftElRef:G,rightElRef:X,onLeft:H,onRight:k,dragThreshold:Math.max(40,Math.round(d*.05)),tapThreshold:12});const Q=Math.max(140,Math.min(w,520)),p=x=>({left:`calc(50% ${x>=0?"+":"-"} ${Math.abs(x)}px)`,transform:"translateX(-50%)",width:`${Q}px`,top:0,height:"100%"}),M=_?L:F,I=_?L:F;return s.length?e.jsx("div",{ref:u,...be("fade-in",{once:!0}),"data-carousel-container":!0,"data-autoplay-scope":y,suppressHydrationWarning:!0,className:`w-full ${T}`.trim(),children:E&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative overflow-visible w-full leading-none",style:{height:`${b}px`},children:[s.map((x,$)=>e.jsx(Ve,{item:x,i:$,activeIndex:l,itemsLength:s.length,centerW:h,centerH:b,sideW:w,sideH:j,tx:L,onSelect:g,mediaEntry:C?A[$]:void 0},x.slug??x.id??$)),S&&s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:G,className:"absolute z-30 cursor-grab touch-pan-x select-none",style:p(-M),"aria-hidden":"true","data-drag-zone":"left"}),e.jsx("div",{ref:X,className:"absolute z-30 cursor-grab touch-pan-x select-none",style:p(I),"aria-hidden":"true","data-drag-zone":"right"})]}),a&&s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(Ne,{onClick:H,variant:"floating",position:{left:J,top:"50%",transform:"translate(-50%, -50%)"}}),e.jsx(Ce,{onClick:k,variant:"floating",position:{left:K,top:"50%",transform:"translate(-50%, -50%)"}})]})]}),v&&s.length>1&&e.jsx("nav",{className:"mt-6 flex justify-center gap-3","aria-label":"Carousel Pagination",children:s.map((x,$)=>e.jsx("button",{type:"button",onClick:()=>g($),className:`w-3 h-3 rounded-full transition-all duration-300 ${$===l?"bg-primary scale-[1.30]":"faded-bg"}`,"aria-label":`Go to slide ${$+1}`},$))})]})}):null}const Ze=t.forwardRef(function({items:r=[],renderItem:f=()=>null,children:i,speed:c=30,duplicateCount:a=3,autoplay:v=!0,pauseOnHover:S=!0,pauseOnEngage:T=!0,startDelay:u=2500,gap:l=24,itemWidth:g=120,gradientMask:d=!0,gradientWidth:N={base:48,md:80},threshold:C=.3,onItemInteraction:z,resumeDelay:s=500,resumeTriggers:A=["scroll","click-outside","hover-away"],containerSelector:E,itemSelector:y,className:P="",trackClassName:m=""},h){const b=t.useRef(null),w=t.useRef(null),[j,L]=t.useState(0),H=t.useMemo(()=>`smooth-carousel-${Math.random().toString(36).slice(2,8)}`,[]);t.useImperativeHandle(h,()=>({container:b.current,track:w.current,getCurrentOffset:()=>j,setOffset:L}));const k=ue(b,{threshold:C}),W=t.useMemo(()=>t.Children.toArray(i).filter(Boolean),[i]),o=W.length>0,R=o?W.length:r.length,_=t.useMemo(()=>o?Array.from({length:a},(O,D)=>W.map((B,te)=>({type:"child",node:B,originalIndex:te,duplicateIndex:D}))).flat():Array.from({length:a},(O,D)=>r.map((B,te)=>({type:"item",item:B,originalIndex:te,duplicateIndex:D}))).flat(),[W,a,r,o]),F=R*g,{engageUser:J,isAutoplayPaused:K,userEngaged:G,isResumeScheduled:X,pause:Q,resume:p}=ce({totalItems:Math.max(R,1),currentIndex:R>0?Math.floor(Math.abs(j)/g)%R:0,setIndex:()=>{},autoplayTime:50,resumeDelay:s,resumeTriggers:A,containerSelector:E||`[data-autoplay-scope="${H}"]`,itemSelector:y||`[data-autoplay-scope="${H}"] [data-smooth-item]`,inView:v&&k,pauseOnEngage:T,engageOnlyOnActiveItem:!1,activeItemAttr:"data-active"}),[M,I]=t.useState(!1);t.useEffect(()=>{if(!(v&&k&&!K)){I(!1);return}const D=window.setTimeout(()=>I(!0),u);return()=>window.clearTimeout(D)},[v,k,K,u]),t.useEffect(()=>{if(!M)return;let O,D=performance.now();const B=te=>{const Me=(te-D)/1e3;D=te,L(de=>{if(F<=0)return de;let ae=de-c*Me;return Math.abs(ae)>=F&&(ae+=F),ae}),O=requestAnimationFrame(B)};return O=requestAnimationFrame(B),()=>cancelAnimationFrame(O)},[M,c,F]);const x=t.useRef(null),$=t.useCallback(()=>{x.current&&(window.clearTimeout(x.current),x.current=null)},[]),q=t.useCallback(()=>{$(),x.current=window.setTimeout(()=>{p(),x.current=null},s)},[$,p,s]),U=(O,D,B)=>{T&&(J(),Q()),z?.(O,D,B)},re=()=>{S&&(J(),Q())},V=()=>{S&&q()};t.useEffect(()=>()=>$(),[$]);const[ee,se]=t.useState(()=>typeof window>"u"?N.base:window.innerWidth>=768?N.md:N.base);return t.useEffect(()=>{if(typeof window>"u")return;const O=()=>{se(window.innerWidth>=768?N.md:N.base)};return window.addEventListener("resize",O,{passive:!0}),()=>window.removeEventListener("resize",O)},[N.base,N.md]),e.jsxs("div",{ref:b,"data-autoplay-scope":H,className:`relative w-full overflow-hidden ${P}`.trim(),"data-smooth-carousel":!0,onMouseEnter:re,onMouseLeave:V,children:[d&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-gradient-to-r from-bg to-transparent z-10 pointer-events-none",style:{width:`${ee}px`}}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-gradient-to-l from-bg to-transparent z-10 pointer-events-none",style:{width:`${ee}px`}})]}),e.jsx("div",{className:"overflow-hidden",style:{paddingInline:`${ee}px`},children:e.jsx("div",{ref:w,className:`flex items-center ${m}`.trim(),style:{transform:`translateX(${j}px)`,width:"max-content",gap:`${l}px`},children:_.map((O,D)=>e.jsx("div",{"data-smooth-item":!0,className:"flex-shrink-0",onMouseEnter:()=>U(O,D,"hover"),children:O.type==="child"?O.node:f(O.item,D,{isActive:!1,onInteraction:B=>U(O.item,D,B)})},`${O.originalIndex}-${O.duplicateIndex}-${D}`))})}),!1]})});function Je({name:n,index:r,onTechHover:f,onTechLeave:i,showName:c=!1,className:a="",children:v}){const[S,T]=t.useState(!1),u=t.useRef(null);t.useEffect(()=>()=>{u.current&&window.clearTimeout(u.current)},[]);const l=()=>f?.(n),g=()=>{T(!1),i?.()},d=()=>{u.current&&window.clearTimeout(u.current),T(!0),f?.(n),u.current=window.setTimeout(()=>{T(!1),i?.()},2500)};return e.jsxs("div",{...we("fade-in",r,{once:!0,staggerDelay:50}),"data-tech-item":!0,"data-tech-name":n,"data-index":r,className:`group flex flex-col items-center flex-shrink-0 ${a}`.trim(),role:"button",tabIndex:0,"aria-label":n,onMouseEnter:l,onMouseLeave:g,onFocus:l,onBlur:g,onTouchStart:d,children:[e.jsx("div",{className:"relative p-2 transition-all duration-300 group-hover:scale-110 cursor-pointer select-none",children:e.jsx("div",{className:`relative text-heading transition-opacity duration-300 ${S?"opacity-100":"opacity-70 group-hover:opacity-100"}`,children:v})}),c?e.jsx("div",{className:`mt-2 text-xs md:text-sm text-muted transition-all duration-300 whitespace-nowrap ${S?"opacity-100 translate-y-0":"opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0"}`,children:n}):e.jsx("span",{className:"sr-only",children:n})]})}function ct({technologies:n=[],className:r=""}){const[f,i]=t.useState(null),c=t.useMemo(()=>n.filter(a=>a?.title).map(a=>({name:a.title??"",icon:a.icon??"lucide:code"})),[n]);return e.jsx("div",{className:`inner-section text-center lg:text-left ${r}`.trim(),children:e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-[1fr_2fr] gap-6 lg:gap-8 items-center",children:[e.jsx("div",{className:"w-sm",children:e.jsxs("div",{className:"relative inline-block mb-6 leading-tight",children:[e.jsx(ie,{tagName:"h2",before:"We've mastered ",text:"the tools that matter.",className:`transition-opacity duration-150 ${f?"opacity-0":"opacity-100"}`,beforeClass:"text-heading block lg:inline",textClass:"text-heading block lg:inline"}),e.jsx(ie,{tagName:"h2",before:"We've mastered ",text:f??"",className:`absolute inset-0 pointer-events-none transition-opacity duration-150 ${f?"opacity-100":"opacity-0"}`,beforeClass:"text-heading block lg:inline",textClass:"text-accent block lg:inline"})]})}),e.jsx(Ze,{startDelay:5e3,speed:30,gap:32,itemWidth:120,autoplay:!0,pauseOnHover:!0,pauseOnEngage:!0,gradientMask:!0,gradientWidth:{base:48,md:72},className:"relative w-full h-[84px] md:h-[96px]",children:c.map((a,v)=>e.jsx(Je,{name:a.name,index:v,onTechHover:i,onTechLeave:()=>i(null),children:e.jsx($e,{icon:a.icon,size:"xl","aria-label":a.name})},`${a.name}-${v}`))})]})})}const Ke="/assets/placeholder.jpg";function Qe({item:n,className:r="",ringDuration:f=800}){const i=n.description??"",c=n.author??n.title??"Happy Client",a=[n.role,n.company].filter(Boolean).join(", "),v=Math.max(1,Math.min(5,n.rating??5)),S=Z(n.featuredImage)||Ke;return e.jsx("div",{className:r,children:e.jsxs(le,{variant:"progress-b-f",triggers:"hover",duration:f,borderRadius:"rounded-3xl",borderWidth:2,className:"group text-left outer-card-transition !duration-[900ms] ease-out",innerClassName:"h-100 md:h-90 lg:h-80 mx-auto px-10 flex flex-col justify-center items-start relative card-bg",children:[e.jsx("div",{className:"inner-card-style inner-card-transition inner-card-color"}),e.jsx(fe,{data:{icon:"❝",description:i?`“${i}”`:void 0},layout:"vertical",alignment:"left",iconClassName:"card-icon-color icon-medium mb-5 z-10 relative",descriptionClassName:"text-text text-lg leading-relaxed mb-8 italic relative z-10",descriptionTag:"p",showTitle:!1}),e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 relative z-10 w-full",children:[e.jsx(fe,{data:{image:{src:S,alt:c},title:c,description:a||void 0},layout:"horizontal",alignment:"left",className:"gap-2",imageClassName:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",titleClassName:"h4",titleTag:"span",descriptionClassName:"text-text text-sm",descriptionTag:"p",showIcon:!1,showImage:!0,showTitle:!0,showDescription:!!a}),e.jsx("div",{className:"flex gap-1 text-center justify-center items-center",children:Array.from({length:v}).map((T,u)=>e.jsx("svg",{className:"w-5 h-5 text-accent fill-current",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`star-${u}`))})]})]})})}function ut({items:n=[],slidesPerView:r={base:1,md:2},gap:f=32,autoplay:i=!0,autoAdvanceDelay:c=4500,showArrows:a=!1,showDots:v=!0,drag:S=!1,className:T=""}){const u=t.useRef(null),l=t.useRef(null),g=t.useRef(null),[d,N]=t.useState(typeof window<"u"?window.innerWidth:1024);t.useEffect(()=>{if(typeof window>"u")return;const w=()=>N(window.innerWidth);return window.addEventListener("resize",w,{passive:!0}),()=>window.removeEventListener("resize",w)},[]);const C=t.useMemo(()=>{const w=[{key:"base",min:0},{key:"sm",min:640},{key:"md",min:768},{key:"lg",min:1024},{key:"xl",min:1280},{key:"2xl",min:1536}];let j=r.base??1;for(const{key:L,min:H}of w)d>=H&&r[L]!=null&&(j=r[L]);return Math.max(1,Number(j)||1)},[r,d]),z=t.useMemo(()=>{const w=[];for(let j=0;j<n.length;j+=C)w.push(n.slice(j,j+C));return w.length?w:[[]]},[n,C]),s=z.length,[A,E]=t.useState(0);t.useEffect(()=>{A>=s&&E(s-1)},[s,A]),Re({containerRef:u,totalItems:s,currentIndex:A,setIndex:E,autoplay:i,autoplayTime:c,threshold:.3,resumeDelay:5e3,resumeTriggers:["scroll","click-outside","hover-away"],pauseOnEngage:!0,engageOnlyOnActiveItem:!0,activeItemAttr:"data-active"});const y=()=>E(w=>w===0?s-1:w-1),P=()=>E(w=>w===s-1?0:w+1),[m,h]=t.useState(!1);t.useEffect(()=>{if(s<=1)return;h(!0);const w=setTimeout(()=>h(!1),550);return()=>clearTimeout(w)},[A,s]),ve({enabled:S&&s>1,leftElRef:l,rightElRef:g,onLeft:y,onRight:P,dragThreshold:Math.max(40,Math.round(d*.05)),tapThreshold:12});const b=120;return e.jsxs("div",{ref:u,className:`relative w-full ${T}`.trim(),children:[e.jsxs("div",{className:`relative grid items-center gap-x-4 md:gap-x-6 ${a&&s>1?"grid-cols-[auto_1fr_auto]":"grid-cols-1"}`,children:[a&&s>1&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Ne,{onClick:y,variant:"inline"})}),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"relative z-20 flex transition-transform duration-500 ease-in-out",style:{width:`${s*100}%`,transform:`translateX(-${A*100/s}%)`},children:z.map((w,j)=>e.jsx("div",{"data-carousel-item":!0,"data-active":j===A?"true":"false",className:"shrink-0",style:{width:`${100/s}%`},children:e.jsx("div",{className:"grid",style:{gridTemplateColumns:`repeat(${C}, minmax(0, 1fr))`,gap:f},children:w.map((L,H)=>e.jsx("div",{className:"min-w-0",...we("scale-in",j*C+H,{once:!0,staggerDelay:b}),children:e.jsx(Qe,{item:L})},`testimonial-${j}-${H}`))})},`page-${j}`))}),m&&e.jsx("div",{className:"absolute inset-0 z-30 pointer-events-auto","aria-hidden":"true"}),S&&s>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:l,className:"absolute top-0 left-0 h-full z-40 cursor-grab touch-pan-x select-none",style:{width:"50%"},"aria-hidden":"true"}),e.jsx("div",{ref:g,className:"absolute top-0 right-0 h-full z-40 cursor-grab touch-pan-x select-none",style:{width:"50%"},"aria-hidden":"true"})]})]}),a&&s>1&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Ce,{onClick:P,variant:"inline"})})]}),v&&s>1&&e.jsx("nav",{className:"mt-6 flex justify-center gap-3","aria-label":"Carousel Pagination",children:Array.from({length:s}).map((w,j)=>e.jsx("button",{type:"button",onClick:()=>E(j),className:`w-3 h-3 rounded-full transition-all duration-300 ${j===A?"bg-primary scale-[1.30]":"faded-bg"}`,"aria-label":`Go to page ${j+1}`},`dot-${j}`))})]})}const pe=t.forwardRef(function({desktop:r=!1,className:f="",wrapperClassName:i="",overlay:c,autoPlay:a,muted:v,playsInline:S,controls:T,preload:u,...l},g){const d=r?"w-full h-[24rem] object-cover rounded-2xl":"w-full aspect-video object-cover rounded-2xl",N=a??!0,C=v??!0,z=S??!0,s=T??r,A=u??"metadata";return e.jsxs("div",{className:`relative rounded-2xl overflow-hidden bg-card/40 ${i}`.trim(),children:[e.jsx("video",{ref:g,className:`${d} ${f}`.trim(),autoPlay:N,muted:C,playsInline:z,controls:s,preload:A,...l}),c]})}),et=n=>n.replace(/[:]/g,"");function dt({items:n,className:r="",autoAdvanceDelay:f=3e3}){const c=Array.isArray(n)?n.filter(o=>!!o&&typeof o=="object"&&!!o.title):[],a=t.useRef(null),v=t.useRef(null),[S,T]=t.useState(0),[u,l]=t.useState(0),g=t.useId(),d=t.useMemo(()=>et(g),[g]),N=t.useRef(null),C=ue(N,{threshold:0,rootMargin:"0px 0px -20% 0px"}),z=t.useCallback(()=>{const o=a.current,R=v.current;let _=null;return o&&!o.paused&&o.currentTime>0?_=o:R&&!R.paused&&R.currentTime>0?_=R:o&&o.offsetParent!==null?_=o:R&&R.offsetParent!==null?_=R:_=o||R,!_||!Number.isFinite(_.duration)?f:Math.max(0,(_.duration-_.currentTime)*1e3)+f},[f]),{engageUser:s,beginGraceWindow:A,isAutoplayPaused:E,isResumeScheduled:y,userEngaged:P,schedule:m}=ce({totalItems:c.length,currentIndex:u,setIndex:o=>l(o),autoplayTime:z,resumeDelay:5e3,containerSelector:`[data-video-accordion="${d}"]`,itemSelector:`[data-video-accordion="${d}"] [data-accordion-item]`,inView:C,engageOnlyOnActiveItem:!0,activeItemAttr:"data-active"}),h=t.useRef(null);t.useEffect(()=>{h.current=m},[m]),t.useEffect(()=>{c.length!==0&&u>=c.length&&l(0)},[u,c.length]);const b=t.useCallback(o=>{l(o),T(0),s(),h.current?.()},[s]),w=t.useCallback(()=>{const o=a.current,R=v.current;return o&&!o.paused&&o.currentTime>0?o:R&&!R.paused&&R.currentTime>0?R:o&&o.offsetParent!==null?o:R&&R.offsetParent!==null?R:o||R},[]),j=t.useCallback(()=>{const o=w();!o||!o.duration||(T(o.currentTime/o.duration*100),h.current?.())},[w]),L=t.useCallback(()=>{T(0),h.current?.()},[]),H=t.useCallback(()=>{T(100),A()},[A]),k=t.useCallback(()=>{s()},[s]);if(c.length===0)return null;const W=c[Math.min(u,c.length-1)];return e.jsx("div",{ref:N,...be("fade-in",{once:!0}),className:`relative ${r}`.trim(),"data-video-accordion":d,children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start gap-12 max-2-primary",children:[e.jsx("div",{className:"min-w-0 lg:w-1/2 lg:shrink-0 flex flex-col space-y-4","data-accordion-container":!0,children:c.map((o,R)=>{const _=o.key||o.title||`item-${R}`;return e.jsxs(Ae,{icon:o.icon,title:o.title,description:o.description,isActive:u===R,progress:S,onToggle:()=>b(R),children:[u===R&&e.jsx("div",{className:"lg:hidden mt-4",children:e.jsx(pe,{ref:F=>{v.current=F},src:o.videoSrc,onTimeUpdate:j,onEnded:H,onLoadedData:L,onClick:k,desktop:!1},`mobile-${_}`)}),o.hasPage&&o.url&&e.jsx("div",{className:"mt-4",children:e.jsxs(Ie,{variant:"link",href:o.url,rightIcon:"lu:arrow-right",children:["Explore ",o.title]})})]},_)})}),e.jsxs("div",{className:"hidden lg:block lg:w-1/2 min-w-0 sticky-section",children:[e.jsx(pe,{ref:a,src:W?.videoSrc,onTimeUpdate:j,onEnded:H,onLoadedData:L,onClick:k,desktop:!0,wrapperClassName:"shadow-2xl shadow-accent/15 bg-card/40"},`desktop-${W?.key??u}`),!1]})]})})}export{ot as B,lt as P,ct as T,dt as V,it as a,ut as b};
