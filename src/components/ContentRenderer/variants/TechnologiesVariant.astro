---
// src/components/ContentRenderer/variants/TechnologiesVariant.astro
import type { BaseVariantProps } from "../ContentRenderer.types";
import SectionHeader from "@/components/SectionHeader.astro";
import TechStackSection from "@/components/LoopTemplates/TechStackSection";

interface Props extends BaseVariantProps {
  eyebrow?: string;
}

const {
  items = [],
  title,
  description,
  className = "",
  id,
  eyebrow,
} = Astro.props as Props;

const safeItems = Array.isArray(items) ? (items as Record<string, any>[]) : [];
const heading = title ?? "Technologies We Trust";
const eyebrowText = eyebrow ?? "Tech Stack";
const descriptionText =
  description ??
  "From modern frameworks to hosting infrastructure, we build with tools that scale.";
---

<section
  id={id}
  class={`outer-section bg-bg relative overflow-hidden ${className}`.trim()}
>
  <div class="section-dim-border"></div>

  <TechStackSection
    client:visible
    technologies={safeItems}
    eyebrow={eyebrowText}
    title={heading}
    description={descriptionText}
  />
</section>
