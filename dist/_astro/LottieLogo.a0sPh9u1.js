const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/lottie_light.DrxjEB0o.js","_astro/react-core.INjS0cla.js"])))=>i.map(i=>d[i]);
import{r as t,j as f}from"./react-core.INjS0cla.js";import{_ as J}from"./Theme.astro_astro_type_script_index_0_lang.BS8NQo8M.js";import{u as q,a as K}from"./visibility-hooks.jtbk9uXx.js";import"./theme-toggle.Bs5oJOLN.js";import"./theme-shared.CUXQdXlO.js";import"./theme-accent.Cwu_9sUG.js";import"./theme-language.CwkkWWy-.js";import"./carousels.DOjsdR0v.js";import"./ui-primitives.CsfzO861.js";import"./engagement-hooks.DoOHNRFs.js";import"./accordion.DMz_YaNO.js";const Q=n=>{typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(n,{timeout:1e3}):setTimeout(n,0)},H=n=>n?typeof n.currentFrame=="number"?n.currentFrame:typeof n.currentRawFrame=="number"?n.currentRawFrame:0:0,z=2;function U({animationData:n=null,animationUrl:l=null,alt:w="",className:L="",containerClasses:h="relative",trigger:u="load",respectReducedMotion:T=!0,rewindToStartOnTop:a=!1,loop:D=!0,autoplay:m=!1,speed:j=1,renderer:P="svg",fadeMs:V=180,scrollThreshold:ee=1,debounceDelay:te=8,wheelSensitivity:re=1,children:Y}){const E=t.useRef(null),x=t.useRef(null),s=t.useRef(null),v=t.useRef(null),C=t.useRef(0),b=t.useRef(null),A=t.useRef(!1),k=t.useRef(!0),[_,B]=t.useState(!0),[p,y]=t.useState(!1),[I,W]=t.useState(!1),d=t.useCallback(()=>{const e=s.current;e&&b.current&&e.removeEventListener("enterFrame",b.current),b.current=null,A.current=!1},[]);t.useEffect(()=>{const e=()=>{const r=document.documentElement;W((r?.scrollHeight||0)>(window.innerHeight||0)+1)};"requestIdleCallback"in window?window.requestIdleCallback(e,{timeout:500}):setTimeout(e,100)},[]);const i=t.useMemo(()=>u==="scroll"||u==="visible"||u==="load"?u:I?"scroll":"load",[u,I]),R=T&&typeof window<"u"&&window.matchMedia?.("(prefers-reduced-motion: reduce)")?.matches,O=q(E,{threshold:.1,rootMargin:"0px",once:!0}),S=q(E,{threshold:0,rootMargin:"0px",once:!1});t.useEffect(()=>{if(!R)switch(i){case"load":y(!0);break;case"visible":S&&y(!0);break}},[i,S,R]);const M=t.useCallback(e=>{const r=s.current,o=Date.now();C.current=o,r&&(d(),clearTimeout(v.current),e>0?(r.setDirection(1),r.isPaused&&r.play()):e<0&&(r.setDirection(-1),r.isPaused&&r.play()),v.current=setTimeout(()=>{o===C.current&&r&&r.pause()},200))},[d]),N=t.useCallback(()=>{if(!a)return;const e=s.current;if(!e||A.current)return;if(H(e)<=0){e.goToAndStop(0,!0);return}A.current=!0,clearTimeout(v.current);const o=()=>{H(e)<=.5&&(e.pause(),e.goToAndStop(0,!0),d())};b.current=o,e.addEventListener("enterFrame",o),e.setDirection(-1),e.play()},[a,d]);K({elementRef:null,scrollThreshold:1,debounceDelay:16,trustedOnly:!0,wheelSensitivity:1,onScrollActivity:i==="scroll"&&O?({dir:e,delta:r})=>{if(p||y(!0),s.current){const o=e==="down"?r:-r;M(o)}}:void 0,onWheelActivity:i==="scroll"&&O?({deltaY:e})=>{p||y(!0),s.current&&M(e)}:void 0}),t.useEffect(()=>{if(!a||i!=="scroll"||typeof window>"u")return;k.current=(window.scrollY||0)<=z;const e=()=>{const o=(window.scrollY||0)<=z;!k.current&&o&&N(),k.current=o};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[a,i,N]),t.useEffect(()=>{if(!p||!x.current||s.current)return;if(!n&&!l){console.warn("OptimizedLottie: No animationData or animationUrl provided");return}let e=!1;return Q(async()=>{if(!e)try{const{default:r}=await J(async()=>{const{default:$}=await import("./lottie_light.DrxjEB0o.js").then(G=>G.l);return{default:$}},__vite__mapDeps([0,1]));let o=n;if(!o&&l&&(o=await(await fetch(l)).json()),e||!o)return;const c=r.loadAnimation({container:x.current,renderer:P,loop:D,autoplay:m,animationData:o});s.current=c,c.setSpeed(j),m||c.goToAndStop(0,!0);const F=()=>{m||c.goToAndStop(0,!0),requestAnimationFrame(()=>B(!1)),i==="load"&&m&&(c.setDirection(1),c.play())};c.addEventListener("DOMLoaded",F),c.addEventListener("data_ready",F),Promise.resolve().then(()=>F())}catch(r){console.error("OptimizedLottie: Failed to load animation:",r)}}),()=>{e=!0,d(),s.current?.destroy?.(),s.current=null}},[p,i,n,l,P,D,m,j,d]),t.useEffect(()=>{i!=="visible"||!s.current||!_&&S&&(s.current.setDirection(1),s.current.play())},[i,S,_]),t.useEffect(()=>()=>clearTimeout(v.current),[]);const g=R||_;return f.jsxs("div",{ref:E,"aria-label":w,className:`${L} ${h}`,children:[f.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{transition:`opacity ${V}ms ease`,opacity:g?1:0},"aria-hidden":!g,children:f.jsx("div",{className:"w-full h-full",children:Y})}),p&&f.jsx("div",{ref:x,className:"absolute inset-0",style:{visibility:R?"hidden":"visible"},"aria-hidden":g})]})}const X="/lotties/Animation_logo_small_size.json";function Z(){return typeof window>"u"?!1:window.matchMedia?.("(prefers-reduced-motion: reduce)")?.matches?!0:document.documentElement.getAttribute("data-a11y-motion")==="reduced"}function pe({alt:n="",className:l="logo-class",mediaClasses:w="block w-[40px] h-[40px] lg:w-[45px] lg:h-[45px] object-contain",trigger:L="auto",respectReducedMotion:h=!0,fadeMs:u=180,loop:T=!0,children:a}){return h&&Z()?f.jsx("div",{className:`${l} relative ${w}`,"aria-label":n,children:a}):f.jsx(U,{animationUrl:X,alt:n,className:l,containerClasses:`relative ${w}`,trigger:L,respectReducedMotion:h,fadeMs:u,rewindToStartOnTop:!0,loop:T,autoplay:!1,speed:.5,renderer:"svg",scrollThreshold:1,debounceDelay:8,wheelSensitivity:1,children:a})}export{pe as default};
