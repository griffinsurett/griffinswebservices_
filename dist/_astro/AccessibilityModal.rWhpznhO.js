import{r as b,j as t}from"./react-core.aUjNHagF.js";import{M as R}from"./Modal.CyNMEkPT.js";import{u as I}from"./useLocalStorageState.CqZ7Y_lS.js";import{T as u}from"./ToggleControl.DvU705Tk.js";import k from"./Button.DULv1G8J.js";import M from"./LanguageSwitcher.B-qgFZc4.js";import"./useVisibility.U53jQVKz.js";import"./useCookieStorage.y-2TZ59l.js";import"./consent.Drqa4rP7.js";import"./scriptManager.C4zn87OF.js";/* empty css                                   */const C={text:{fontSize:100,lineHeight:1.5,letterSpacing:0,wordSpacing:0,fontFamily:"default",fontWeight:"normal",textAlign:"left"},visual:{linkHighlight:!1,titleHighlight:!1,contrastBoost:!1,saturation:"normal"},reading:{readingGuide:!1,readingMask:!1,focusHighlight:!1,bigCursor:!1,pauseAnimations:!1},content:{hideImages:!1,muteSounds:!1,reducedMotion:!1},timestamp:Date.now(),version:"1.0"};let f=null,p=null;function E(){if(!f&&(f=e=>{const i=document.querySelector("[data-reading-guide]");i&&(i.style.top=`${e.clientY}px`)},document.addEventListener("mousemove",f,{passive:!0}),!document.querySelector("[data-reading-guide]"))){const e=document.createElement("div");e.setAttribute("data-reading-guide","true"),e.style.cssText=`
      position: fixed;
      left: 0;
      right: 0;
      height: 2px;
      background-color: rgba(255, 0, 0, 0.6);
      pointer-events: none;
      z-index: 9999;
      box-shadow: 0 0 8px rgba(255, 0, 0, 0.4);
    `,document.body.appendChild(e)}}function w(){f&&(document.removeEventListener("mousemove",f),f=null);const e=document.querySelector("[data-reading-guide]");e&&e.remove()}function F(){p||(p=e=>{document.documentElement.style.setProperty("--cursor-x",`${e.clientX}px`),document.documentElement.style.setProperty("--cursor-y",`${e.clientY}px`)},document.addEventListener("mousemove",p,{passive:!0}))}function N(){p&&(document.removeEventListener("mousemove",p),p=null)}function z(e){const i=document.documentElement;console.log("ðŸŽ¨ Applying accessibility preferences:",e),i.style.setProperty("--a11y-font-size",`${e.text.fontSize}%`),i.style.setProperty("--a11y-line-height",`${e.text.lineHeight}`),i.style.setProperty("--a11y-letter-spacing",`${e.text.letterSpacing}em`),i.style.setProperty("--a11y-word-spacing",`${e.text.wordSpacing}em`),i.setAttribute("data-a11y-font",e.text.fontFamily),i.style.fontWeight=e.text.fontWeight,document.body&&(document.body.style.textAlign=e.text.textAlign),i.setAttribute("data-a11y-links",e.visual.linkHighlight?"true":"false"),i.setAttribute("data-a11y-titles",e.visual.titleHighlight?"true":"false"),i.setAttribute("data-a11y-contrast",e.visual.contrastBoost?"boost":"normal"),i.setAttribute("data-a11y-saturation",e.visual.saturation),i.setAttribute("data-a11y-focus",e.reading.focusHighlight?"true":"false"),i.setAttribute("data-a11y-cursor",e.reading.bigCursor?"big":"normal"),i.setAttribute("data-a11y-mask",e.reading.readingMask?"true":"false"),e.reading.pauseAnimations?(i.style.setProperty("--a11y-animation-duration","0.01ms"),i.setAttribute("data-a11y-animations","true")):(i.style.removeProperty("--a11y-animation-duration"),i.removeAttribute("data-a11y-animations")),e.reading.readingGuide?E():w(),e.reading.readingMask?F():N(),i.setAttribute("data-a11y-images",e.content.hideImages?"hide":"show"),i.setAttribute("data-a11y-sounds",e.content.muteSounds?"mute":"play"),i.setAttribute("data-a11y-motion",e.content.reducedMotion?"reduced":"normal"),console.log("âœ… Accessibility preferences applied successfully")}function L(){const e=document.documentElement;console.log("ðŸ§¹ Removing all accessibility preferences"),e.style.removeProperty("--a11y-font-size"),e.style.removeProperty("--a11y-line-height"),e.style.removeProperty("--a11y-letter-spacing"),e.style.removeProperty("--a11y-word-spacing"),e.style.removeProperty("--a11y-animation-duration"),e.style.fontWeight="",document.body&&(document.body.style.textAlign=""),e.removeAttribute("data-a11y-font"),e.removeAttribute("data-a11y-links"),e.removeAttribute("data-a11y-titles"),e.removeAttribute("data-a11y-contrast"),e.removeAttribute("data-a11y-saturation"),e.removeAttribute("data-a11y-focus"),e.removeAttribute("data-a11y-cursor"),e.removeAttribute("data-a11y-mask"),e.removeAttribute("data-a11y-images"),e.removeAttribute("data-a11y-sounds"),e.removeAttribute("data-a11y-motion"),e.removeAttribute("data-a11y-animations"),w(),N()}function T(){const[e,i]=I("user-a11y-prefs",C,{raw:!1,syncTabs:!0,validate:s=>s&&typeof s=="object"&&"text"in s&&"visual"in s&&"reading"in s&&"content"in s});return b.useEffect(()=>{console.log("ðŸ”„ Preferences changed, applying:",e),z(e)},[e]),{preferences:e,setPreferences:i,resetPreferences:()=>{console.log("ðŸ”„ Resetting to default preferences"),L(),i(C)}}}function j({title:e,children:i}){return t.jsxs("section",{className:"mb-8",children:[t.jsx("h3",{className:"text-lg font-bold text-heading mb-4 pb-2 border-b-2 border-primary",children:e}),t.jsx("div",{children:i})]})}function A({label:e,description:i,value:l,min:s,max:m,step:g,suffix:r="",onChange:n,id:d}){const o=b.useId(),h=d??o,x=i?`${h}-description`:void 0;return t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex justify-between items-baseline mb-2",children:[t.jsx("label",{className:"font-semibold text-heading",htmlFor:h,children:e}),t.jsxs("span",{className:"text-sm font-mono text-text",children:[l,r]})]}),i&&t.jsx("p",{id:x,className:"text-sm text-text mb-3",children:i}),t.jsx("input",{id:h,type:"range",min:s,max:m,step:g,value:l,"aria-valuemin":s,"aria-valuemax":m,"aria-valuenow":l,"aria-describedby":x,onChange:v=>n(parseFloat(v.target.value)),className:"w-full h-2 bg-text/10 rounded-lg appearance-none cursor-pointer accent-blue-600"}),t.jsxs("div",{className:"flex justify-between text-xs text-text mt-1",children:[t.jsxs("span",{children:[s,r]}),t.jsxs("span",{children:[m,r]})]})]})}function B({label:e,description:i,value:l,options:s,onChange:m,id:g}){const r=b.useId(),n=g??r,d=i?`${n}-description`:void 0;return t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block font-semibold text-heading mb-2",htmlFor:n,children:e}),i&&t.jsx("p",{id:d,className:"text-sm text-text mb-3",children:i}),t.jsx("select",{id:n,value:l,"aria-describedby":d,onChange:o=>m(o.target.value),className:"w-full px-4 py-2 border border-surface rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-text/10",children:s.map(o=>t.jsx("option",{value:o.value,children:o.label},o.value))})]})}function S({label:e,description:i,value:l,options:s,onChange:m}){const g=b.useId();return t.jsxs("div",{className:"mb-6",role:"group","aria-labelledby":g,children:[t.jsx("label",{id:g,className:"block font-semibold text-heading mb-2",children:e}),i&&t.jsx("p",{className:"text-sm text-text mb-3",children:i}),t.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(r=>{const n=r.value===l;return t.jsx(k,{type:"button",onClick:()=>m(r.value),variant:n?"primary":"secondary","aria-pressed":n,children:r.label},r.value)})})]})}function G({isOpen:e,onClose:i}){const{preferences:l,setPreferences:s,resetPreferences:m}=T(),[g,r]=b.useTransition(),[n,d]=b.useState(l);b.useEffect(()=>{d(l)},[l]);const o=(a,y)=>{d(c=>({...c,text:{...c.text,[a]:y}}))},h=(a,y)=>{d(c=>({...c,visual:{...c.visual,[a]:y}}))},x=(a,y)=>{d(c=>({...c,reading:{...c.reading,[a]:y}}))},v=(a,y)=>{d(c=>({...c,content:{...c.content,[a]:y}}))},P=()=>{console.log("ðŸ’¾ Saving preferences"),s({...n,timestamp:Date.now(),version:"1.0"}),r(()=>{i()})},H=()=>{console.log("ðŸ”„ Resetting preferences"),m(),d(l),r(()=>{i()})};return t.jsxs(R,{isOpen:e,onClose:i,closeButton:!0,className:"bg-bg rounded-lg p-8 max-w-3xl w-full mx-4 max-h-[90vh] overflow-y-auto",overlayClass:"bg-black/50",ariaLabel:"Reading preferences",ssr:!1,children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Reading Preferences"}),t.jsx("p",{className:"text-sm text-text",children:"Customize how content appears on this site. These preferences are saved locally and sync across tabs."})]}),t.jsx(j,{title:"Language",children:t.jsx(M,{})}),t.jsxs(j,{title:"Text & Typography",children:[t.jsx(A,{label:"Font Size",description:"Adjust the size of text throughout the site",value:n.text.fontSize,min:100,max:200,step:10,suffix:"%",onChange:a=>o("fontSize",a)}),t.jsx(A,{label:"Line Height",description:"Spacing between lines of text",value:n.text.lineHeight,min:1.5,max:2.5,step:.1,onChange:a=>o("lineHeight",a)}),t.jsx(A,{label:"Letter Spacing",description:"Space between individual letters",value:n.text.letterSpacing,min:0,max:.3,step:.05,suffix:"em",onChange:a=>o("letterSpacing",a)}),t.jsx(A,{label:"Word Spacing",description:"Space between words",value:n.text.wordSpacing,min:0,max:.5,step:.1,suffix:"em",onChange:a=>o("wordSpacing",a)}),t.jsx(B,{label:"Font Family",description:"Choose a font that's easier for you to read",value:n.text.fontFamily,options:[{value:"default",label:"Site Default"},{value:"dyslexia",label:"Dyslexia-Friendly (OpenDyslexic)"},{value:"readable",label:"High Readability (Verdana)"}],onChange:a=>o("fontFamily",a)}),t.jsx(S,{label:"Font Weight",value:n.text.fontWeight,options:[{value:"normal",label:"Normal"},{value:"semibold",label:"Semibold"},{value:"bold",label:"Bold"}],onChange:a=>o("fontWeight",a)}),t.jsx(S,{label:"Text Alignment",value:n.text.textAlign,options:[{value:"left",label:"Left"},{value:"justify",label:"Justify"}],onChange:a=>o("textAlign",a)})]}),t.jsxs(j,{title:"Visual Enhancements",children:[t.jsx(u,{label:"Highlight Links",description:"Add background color to all clickable links",checked:n.visual.linkHighlight,onChange:a=>h("linkHighlight",a)}),t.jsx(u,{label:"Highlight Headings",description:"Emphasize page headings with background and border",checked:n.visual.titleHighlight,onChange:a=>h("titleHighlight",a)}),t.jsx(u,{label:"Boost Contrast",description:"Slightly increase overall contrast (may make colors more vibrant)",checked:n.visual.contrastBoost,onChange:a=>h("contrastBoost",a)}),t.jsx(S,{label:"Color Saturation",value:n.visual.saturation,options:[{value:"normal",label:"Normal"},{value:"low",label:"Low"},{value:"high",label:"High"},{value:"monochrome",label:"Grayscale"}],onChange:a=>h("saturation",a)})]}),t.jsxs(j,{title:"Reading Aids",children:[t.jsx(u,{label:"Reading Guide",description:"Horizontal line that follows your cursor to help track lines",checked:n.reading.readingGuide,onChange:a=>x("readingGuide",a)}),t.jsx(u,{label:"Reading Mask",description:"Dim the page except for the area around your cursor",checked:n.reading.readingMask,onChange:a=>x("readingMask",a)}),t.jsx(u,{label:"Focus Highlighting",description:"Add strong outline to focused elements for easier keyboard navigation",checked:n.reading.focusHighlight,onChange:a=>x("focusHighlight",a)}),t.jsx(u,{label:"Big Cursor",description:"Increase cursor size for better visibility",checked:n.reading.bigCursor,onChange:a=>x("bigCursor",a)}),t.jsx(u,{label:"Pause Animations",description:"Stop all animations and auto-playing content",checked:n.reading.pauseAnimations,onChange:a=>x("pauseAnimations",a)})]}),t.jsxs(j,{title:"Content Simplification",children:[t.jsx(u,{label:"Hide Images",description:"Replace images with their text descriptions",checked:n.content.hideImages,onChange:a=>v("hideImages",a)}),t.jsx(u,{label:"Mute Sounds",description:"Hide all audio and video elements",checked:n.content.muteSounds,onChange:a=>v("muteSounds",a)}),t.jsx(u,{label:"Reduce Motion",description:"Minimize all animations and transitions (recommended for vestibular disorders)",checked:n.content.reducedMotion,onChange:a=>v("reducedMotion",a)})]}),t.jsxs("div",{className:"text-xs text-text mt-8 p-4 bg-text/5 rounded-lg border border-surface",children:[t.jsx("p",{className:"font-semibold mb-2",children:"ðŸ“Œ Important Information:"}),t.jsxs("ul",{className:"space-y-1.5 list-disc list-inside",children:[t.jsx("li",{children:"These preferences only change how content appears to you visually"}),t.jsx("li",{children:"They don't affect the underlying accessibility of the site"}),t.jsx("li",{children:"If you use screen readers or assistive technology, those will continue working normally"}),t.jsx("li",{children:"Settings are saved in your browser and sync across tabs automatically"}),t.jsxs("li",{children:["For accessibility support, please"," ",t.jsx(k,{variant:"link",size:"sm",href:"/contact",children:"contact us"})]})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx(k,{variant:"secondary",onClick:H,disabled:g,className:"flex-1",children:"Reset All"}),t.jsx(k,{variant:"primary",onClick:P,disabled:g,className:"flex-1",children:"Save Preferences"})]})]})}const K=b.memo(G);export{K as default};
